function searchBoxCtrlFunc(e,t,i){angular.element(".searchWrapper").css({opacity:1}),e.$watch(function(){return i.getProperty()},function(t,i){t!==i&&(e.isRequestClicked=t,t?angular.element(".searchWrapper").addClass("searchWrapper--hide"):angular.element(".searchWrapper").removeClass("searchWrapper--hide"))})}!function(e,t,i,n){function a(t,i){this.element=t,this.jqElem=e(t),this.items=e(this.element).children("li"),this.numSliderItems=this.items.length,this.currentItem=0,this.commandQueue=[],this.jqElem.data(s,this),this.options=e.extend({},o,i),this._defaults=o,this._name=s,this.inTransition=!1,this.init()}function r(){var e=i.body||i.documentElement,t=e.style,n="transition";if("string"==typeof t[n])return!0;v=["Moz","Webkit","Khtml","O","ms"],n=n.charAt(0).toUpperCase()+n.substr(1);for(var a=0;a<v.length;a++)if("string"==typeof t[v[a]+n])return!0;return!1}var s="AnimatedSlider",o={infiniteScroll:!0,visibleItems:3,changedCallback:null,willChangeCallback:null,userChangedCallback:null,useTransitions:!0},l=r();a.prototype.init=function(){var t=this;t.options.useTransitions?this.jqElem.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){t.inTransition&&(t.inTransition=!1,t.options.changedCallback&&t.options.changedCallback(t,t.currentItem),setTimeout(function(){t.doCommandQueue()},50))}):(this.items.css("transition","none"),this.items.find("*").css("transition","none")),this.options.prevButton&&e(this.options.prevButton).on("click",function(e){e.preventDefault(),t.prevItem()}),this.options.nextButton&&e(this.options.nextButton).on("click",function(e){e.preventDefault(),t.nextItem()}),this.setItem(0),this.inTransition=!1},a.prototype.setItem=function(t){var i=this.items;i.removeClass();var n,a=function(e){return e};n=this.options.infiniteScroll?this._wrapIndex:a,e(".card-_count-wraper").html("");for(var r=0;r<i.length;r++){var s=t-r,o=e('<li class="card_count-dots" data-refe="'+s+'"></li>');e(".card-_count-wraper").append(o);var c=i.eq(r);r==t?(c.addClass("current_item"),o.addClass("current-dot")):t>r?c.addClass("previous_hidden"):r>t&&c.addClass("next_hidden")}1!=i.length&&(this.options.infiniteScroll?(i.eq(this._wrapIndex(t-1)).removeClass().addClass("previous_item"),i.eq(this._wrapIndex(t+1)).removeClass().addClass("next_item"),3==this.options.visibleItems?i.length>3&&(i.eq(this._wrapIndex(t-2)).removeClass().addClass("previous_hidden"),i.eq(this._wrapIndex(t+2)).removeClass().addClass("next_hidden")):5==this.options.visibleItems&&(i.eq(this._wrapIndex(t-2)).removeClass().addClass("previous_item_2"),i.eq(this._wrapIndex(t+2)).removeClass().addClass("next_item_2"),i.eq(this._wrapIndex(t-3)).removeClass().addClass("previous_hidden"),i.eq(this._wrapIndex(t+3)).removeClass().addClass("next_hidden"))):(t-1>=0&&i.eq(t-1).removeClass().addClass("previous_item"),t+1<this.numSliderItems&&i.eq(t+1).removeClass().addClass("next_item"),5==this.options.visibleItems&&(t-2>=0&&i.eq(t-1).removeClass().addClass("previous_item_2"),t+2<this.numSliderItems&&i.eq(t+1).removeClass().addClass("next_item_2")))),currentItem=t,l&&this.options.useTransitions?(this.inTransition=!0,this.options.willChangeCallback&&this.options.willChangeCallback(this,this.currentItem)):(this.options.willChangeCallback&&this.options.willChangeCallback(this,this.currentItem),this.options.changedCallback&&this.options.changedCallback(this,this.currentItem))},a.prototype.nextItem=function(){return this.inTransition?void this.commandQueue.push("nextItem"):void((this.options.infiniteScroll||this.currentItem<this.numSliderItems-1)&&(this.currentItem+=1,this.currentItem=this._wrapIndex(this.currentItem),this.setItem(this.currentItem),this.options.userChangedCallback&&this.options.userChangedCallback(this,this.currentItem)))},a.prototype.prevItem=function(){return this.inTransition?void this.commandQueue.push("prevItem"):void((this.options.infiniteScroll||this.currentItem>=1)&&(this.currentItem-=1,this.currentItem=this._wrapIndex(this.currentItem),this.setItem(this.currentItem),this.options.userChangedCallback&&this.options.userChangedCallback(this,this.currentItem)))},a.prototype.clearAnimations=function(){this.inTransition=!1,this.commandQueue=[]},a.prototype.doCommandQueue=function(){if(0!=this.commandQueue.length){var e=this.commandQueue.splice(0,1)[0];this[e]()}},a.prototype.refresh=function(){this.items=e(this.element).children("li"),this.numSliderItems=this.items.length,this.setItem(this.currentItem),clearAnimations()},a.prototype._wrapIndex=function(e){return 0>e&&(e+=this.numSliderItems),e>=this.numSliderItems&&(e-=this.numSliderItems),e},e.fn[s]=function(t){return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new a(this,t))})}}(jQuery,window,document),angular.module("SMART2").directive("smartCardsView",["commonUtilities",function(e){return{restrict:"E",replace:!0,transclude:!0,scope:!0,link:function(t,n,a){var r=(new Date).getTime();t.cardsViewId="cardsView-"+r,t.prevButtonId="btnPrev-"+r,t.nextButtonId="btnNext-"+r;var s,o=!1,l=n.find(".landing-cards"),c=n.find(".scroll_card_next_button"),d=n.find(".scroll_card_prev_button");l.velocity({opacity:1},100),d.velocity({opacity:0},100),c.velocity({opacity:0},100),s=n.find(".landing-cards").AnimatedSlider({prevButton:d,nextButton:c,visibleItems:3,infiniteScroll:!0,willChangeCallback:function(e,n){$(".card-_count-wraper .card_count-dots").click(function(){var e,n=$(this).data("refe"),a=Math.abs(n);if(h&&(e=a>6?"acceleratedFastAnimate":a>2?"fastAnimate":""),0>n)for(i=0;i<a;i++)c.trigger("click");else for(i=0;i<a;i++)d.trigger("click");t.$apply(function(){t.animationSpeed=e})})}}),o=!0,l.find(".card").click(function(){var e=$(this).parent("li");return e.hasClass("previous_item")?void d.trigger("click"):e.hasClass("next_item")?void c.trigger("click"):void 0}),t.$watch("allCardsContentInitial",function(i,n){i&&(d.velocity({opacity:1},100),c.velocity({opacity:1},100),t.$parent.$parent.allCardsContent=e.translateDocumentKeys(i,!0),t.refresh=t.$parent.$parent.allCardsContent.length)},!0);var h=a.incrementalSpeed;t.$watch("refresh",function(e){e&&s&&setTimeout(function(){l.data("AnimatedSlider").refresh()},500)})},templateUrl:"shared/directives/cardsView/cardsViewTemplate.html"}}]),angular.module("SMART2").directive("smartCardItem",["commonUtilities",function(e){return{restrict:"E",replace:!0,transclude:!0,link:function(t,i,n){t.setValue=e.setValue,t.parallaxMode=!0,t.setValueColor=e.setValueColor,t.cardItemId="card-item-"+(new Date).getTime(),t.cardContentId="card-content-"+(new Date).getTime(),t.cardListHeight="258px",t.miniFilterID=e.uniqueIDGenerator(),n.$observe("cardIdentifer",function(i,n){t.cardClassByDocType=e.setBucketColor(i),t.cardBucketImageByDocType=e.setBucketImage(i)}),t.importantAttribLimit||(t.importantAttribLimit=2),t.cardHeaderTemplate=n.headerTemplate||"shared/view/cards/slidingCardsHeader.html",t.cardContentTemplate=n.contentTemplate||"shared/view/cards/collectiveCards.html",t.cardFooterTemplate=n.footerTemplate||"shared/view/cards/slidingCardsFooter.html",t.isExpanded=!0,t.showHeader=!0,n.$observe("expand",function(e){t.isExpanded=t.$eval(e),t.showHeader=!t.isExpanded}),t.dropDownConfig={inDuration:300,outDuration:225,constrain_width:!1,hover:!1,gutter:0,belowOrigin:!1,alignment:"right"},t.cardListLazyLoad=function(e){t.$apply(function(){t.parallaxMode=!0,t.cardListHeight="350px"})},t.cardListScrollAtTop=function(e){t.$apply(function(){t.parallaxMode=!1,t.cardListHeight="258px"})},t.cardListScrolled=function(e){t.$apply(function(){t.parallaxMode=!0,t.cardListHeight="350px"})}},templateUrl:"shared/directives/cardsView/cardItemTemplate.html"}}]),angular.module("SMART2").directive("scrollTracker",function(){return{restrict:"EAC",scope:{setParentClass:"="},link:function(e,t,i){},template:""}}),angular.module("SMART2").controller("globalSearch",["$scope","$rootScope","routeSvc","$location",function(e,t,i,n){e.searchValue=n.$$search.search,e.onKeyDown=function(i){e.searchValue=i.target.value,13===i.which&&t.$broadcast("searchText",{data:i.target.value})},e.searchBox=function(){i.goTo("#searchResult?search="+e.searchValue),t.$broadcast("searchText",{data:e.searchValue})},e.clearSearch=function(){e.searchValue=""}}]),angular.module("SMART2").directive("smartGlobalTextfield",["routeSvc",function(e){return{restrict:"E",replace:!0,scope:!1,link:function(t,i,n){i.bind("keydown keypress",function(t){13===t.which&&e.goTo("#searchResult?search="+t.target.value)})},controller:"globalSearch",templateUrl:"shared/directives/smartGlobalTextfield/smartGlobalTextfieldTemplate.html"}}]),angular.module("SMART2").controller("searchBoxCtrl",["$scope","$window","requestClicked",searchBoxCtrlFunc]);
//# sourceMappingURL=directives.min.js.map
