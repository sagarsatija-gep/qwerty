/*
    *
    * Wijmo Library 5.20162.198
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends,wijmo;(function(n){'use strict';function ct(){return ht}function a(n,t){return n==null?null:f(t)?h(n.implementsInterface)&&n.implementsInterface(t)?n:null:n instanceof t?n:null}function at(n){return f(n)||e(n)||l(n)||u(n)}function f(n){return typeof n=='string'}function vt(n){return n==null?!0:n.replace(/\s/g,'').length<1}function e(n){return typeof n=='number'}function b(n){return e(n)&&n==Math.round(n)}function l(n){return typeof n=='boolean'}function h(n){return typeof n=='function'}function yt(n){return typeof n=='undefined'}function u(n){return n instanceof Date&&!isNaN(n.getTime())}function o(n){return n instanceof Array}function v(n){return n!=null&&typeof n=='object'&&!u(n)&&!o(n)}function pt(n){if(n instanceof c)return n;if(n.touches&&n.touches.length>0&&(n=n.touches[0]),e(n.clientX)&&e(n.clientY))return new c(n.clientX+pageXOffset,n.clientY+pageYOffset);throw'Mouse or touch event expected.';}function wt(n){return e(n)?r.Number:l(n)?r.Boolean:u(n)?r.Date:f(n)?r.String:o(n)?r.Array:r.Object}function bt(t,i,u){var o,e;if(t!=null){if(f(t))switch(i){case r.Number:return o=n.Globalize.parseFloat(t,u),isNaN(o)?t:o;case r.Date:return e=n.Globalize.parseDate(t,u),e||u||!t||(e=new Date(t)),e&&isFinite(e.getTime())?e:t;case r.Boolean:switch(t.toLowerCase()){case'true':return!0;case'false':return!1}return t}if(i==r.String)return n.Globalize.format(t,u)}return t}function kt(n,t,i){var u,r;return i?(r=n.toString(),u=r.indexOf('.'),u>-1&&(r=r.substr(0,u+1+t),n=parseFloat(r))):(r=n.toFixed(t),n=parseFloat(r)),n}function dt(t,i,r){return t=y(t),t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,u,f,e){var o=t;return u&&u[0]!='{'&&i&&(o=i[u],e&&(o=n.Globalize.format(o,e)),r&&(o=r(i,u,e,o))),o==null?'':o})}function gt(n,t,i){return n!=null&&(i!=null&&n>i&&(n=i),t!=null&&n<t&&(n=t)),n}function k(i,r){var u,f;if(r)for(u in r)u[0]!='_'&&(t(u in i,'Unknown property "'+u+'".'),f=r[u],i._copy&&i._copy(u,f)||(i[u]instanceof n.Event&&h(f)?i[u].addHandler(f):v(f)&&i[u]&&u!='itemsSource'?k(i[u],f):i[u]=f))}function t(n,t){if(!n)throw'** Assertion failed in Wijmo: '+t;}function ni(n,t){console.error('** WARNING: "'+n+'" has been deprecated; please use "'+t+'" instead.')}function y(n,i){return i===void 0&&(i=!0),t(i&&n==null||f(n),'String expected.'),n}function i(n,i,r){if(i===void 0&&(i=!1),r===void 0&&(r=!1),t(i&&n==null||e(n),'Number expected.'),r&&n&&n<0)throw'Positive number expected.';return n}function ti(n,i,r){if(i===void 0&&(i=!1),r===void 0&&(r=!1),t(i&&n==null||b(n),'Integer expected.'),r&&n&&n<0)throw'Positive integer expected.';return n}function d(n,i){return i===void 0&&(i=!1),t(i&&n==null||l(n),'Boolean expected.'),n}function ii(n,i){return i===void 0&&(i=!1),t(i&&n==null||u(n),'Date expected.'),n}function s(n,i){return i===void 0&&(i=!0),t(i&&n==null||h(n),'Function expected.'),n}function ri(n,i){return i===void 0&&(i=!0),t(i&&n==null||o(n),'Array expected.'),n}function g(n,i,r){return r===void 0&&(r=!1),n=a(n,i),t(r||n!=null,i+' expected.'),n}function ui(n,i,r){if(r===void 0&&(r=!1),n==null&&r)return null;var u=i[n];return t(u!=null,'Invalid enum value.'),e(u)?u:n}function fi(i,r){if(r===void 0&&(r=!0),i==null&&r)return null;var u=a(i,'ICollectionView');return u!=null?u:(o(i)||t(!1,'Array or ICollectionView expected.'),new n.collections.CollectionView(i))}function ei(n){return n&&n.items&&n.items.length}function oi(n){return n&&n.length?n[0].toUpperCase()+n.substr(1).replace(/([a-z])([A-Z])/g,'$1 $2'):''}function si(n){return f(n)&&(n=n.replace(/[&<>"'\/]/g,function(n){return nt[n]})),n}function p(n,t){if(n&&n.getAttribute){var i=new RegExp('\\b'+t+'\\b');return n&&i.test(n.getAttribute('class'))}return!1}function tt(n,t){if(n&&t&&n.setAttribute&&p(n,t)){var i=new RegExp('\\s?\\b'+t+'\\b','g'),r=n.getAttribute('class');n.setAttribute('class',r.replace(i,''))}}function it(n,t){if(n&&t&&n.setAttribute&&!p(n,t)){var i=n.getAttribute('class');n.setAttribute('class',i?i+' '+t:t)}}function rt(n,t,i){i?it(n,t):tt(n,t)}function hi(n,t,r){if(r===void 0&&(r=t),n=g(n,HTMLInputElement),ft(document.body,n)&&!n.disabled&&n.style.display!='none')try{n.focus();n.setSelectionRange(i(t),i(r))}catch(u){}}function ut(){var n=document.activeElement,t;return n&&(t=n.shadowRoot,t&&t.activeElement&&(n=t.activeElement)),n}function ci(n,t){for(var f,i,e=n.querySelectorAll('input,select,textarea,button,a'),r=[],u=0;u<e.length;u++)i=e[u],!i.disabled&&i.tabIndex>-1&&i.clientHeight>0&&!et(i,'[disabled],.wj-state-disabled')&&r.push(i);f=0;t&&(u=r.indexOf(ut()),u>-1&&(f=(u+t+r.length)%r.length));f<r.length&&(i=r[f],i.focus(),i instanceof HTMLInputElement&&i.select())}function li(n){return n instanceof Element?n:f(n)?document.querySelector(n):n&&n.jquery?n[0]:null}function ai(n,t){var i=document.createElement('div'),r;return i.innerHTML=n,r=i.removeChild(i.firstChild),t instanceof HTMLElement?t.appendChild(r):r}function vi(n,t){if(t==null){n.hasChildNodes()&&(n.textContent='');return}var i=n.firstChild;n.childNodes.length==1&&i.nodeType==3?i.nodeValue!=t&&(i.nodeValue=t):(i||t)&&(n.textContent=t)}function ft(n,t){for(var i=t;i&&n;){if(i===n)return!0;i=i.parentNode||i.host}return!1}function et(n,t){var i=n?n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector:null;if(i)for(;n;n=n.parentNode)if(n instanceof Element&&i.call(n,t))return n;return null}function yi(n,t){var r,i,u;for(rt(n,'wj-state-disabled',!t),t?n.removeAttribute('disabled'):n.setAttribute('disabled','true'),r=n.querySelectorAll('input'),i=0;i<r.length;i++)u=r[i],t?u.removeAttribute('disabled'):u.setAttribute('disabled','true')}function pi(n){var t=n.getBoundingClientRect();return new w(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function wi(n,t){var u=n.style,i,r;for(i in t)r=t[i],typeof r=='number'&&i.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(r+='px'),u[i]!=r&&(u[i]=r.toString())}function bi(n,t,r){t===void 0&&(t=400);r===void 0&&(r=35);s(n);i(t,!1,!0);i(r,!1,!0);var f=Date.now(),u=setInterval(function(){var i=Math.min(1,(Date.now()-f)/t);i=Math.sin(i*Math.PI/2);i*=i;requestAnimationFrame(function(){n(i)});i>=1&&clearInterval(u)},r);return u}function ki(n,t){var u,e,a,i,o,c;t||(t={});var l=t.method?y(t.method).toUpperCase():'GET',p=t.async!=null?d(t.async):!0,r=t.data;if(r!=null&&l=='GET'){u=[];for(e in r)u.push(e+'='+r[e]);u.length&&(a=n.indexOf('?')<0?'?':'&',n+=a+u.join('&'));r=null}if(i=new XMLHttpRequest,i.URL_DEBUG=n,o=!1,r==null||f(r)||(o=v(r),r=JSON.stringify(r)),i.onload=function(){i.readyState==4&&(i.status<300?t.success&&s(t.success)(i):t.error&&s(t.error)(i),t.complete&&s(t.complete)(i))},i.onerror=function(){if(t.error)s(t.error)(i);else throw'HttpRequest Error: '+i.status+' '+i.statusText;},i.open(l,n,p,t.user,t.password),t.user&&t.password&&i.setRequestHeader('Authorization','Basic '+btoa(t.user+':'+t.password)),o&&i.setRequestHeader('Content-Type','application/json'),t.requestHeaders)for(c in t.requestHeaders)i.setRequestHeader(c,t.requestHeaders[c]);return h(t.beforeSend)&&t.beforeSend(i),i.send(r),i}var ht='5.20162.198',lt,r,nt,c,ot,w,st;n.getVersion=ct,function(n){n[n.Back=8]="Back";n[n.Tab=9]="Tab";n[n.Enter=13]="Enter";n[n.Escape=27]="Escape";n[n.Space=32]="Space";n[n.PageUp=33]="PageUp";n[n.PageDown=34]="PageDown";n[n.End=35]="End";n[n.Home=36]="Home";n[n.Left=37]="Left";n[n.Up=38]="Up";n[n.Right=39]="Right";n[n.Down=40]="Down";n[n.Delete=46]="Delete";n[n.F1=112]="F1";n[n.F2=113]="F2";n[n.F3=114]="F3";n[n.F4=115]="F4";n[n.F5=116]="F5";n[n.F6=117]="F6";n[n.F7=118]="F7";n[n.F8=119]="F8";n[n.F9=120]="F9";n[n.F10=121]="F10";n[n.F11=122]="F11";n[n.F12=123]="F12"}(n.Key||(n.Key={}));lt=n.Key,function(n){n[n.Object=0]="Object";n[n.String=1]="String";n[n.Number=2]="Number";n[n.Boolean=3]="Boolean";n[n.Date=4]="Date";n[n.Array=5]="Array"}(n.DataType||(n.DataType={}));r=n.DataType;n.tryCast=a;n.isPrimitive=at;n.isString=f;n.isNullOrWhiteSpace=vt;n.isNumber=e;n.isInt=b;n.isBoolean=l;n.isFunction=h;n.isUndefined=yt;n.isDate=u;n.isArray=o;n.isObject=v;n.mouseToPage=pt;n.getType=wt;n.changeType=bt;n.toFixed=kt;n.format=dt;n.clamp=gt;n.copy=k;n.assert=t;n._deprecated=ni;n.asString=y;n.asNumber=i;n.asInt=ti;n.asBoolean=d;n.asDate=ii;n.asFunction=s;n.asArray=ri;n.asType=g;n.asEnum=ui;n.asCollectionView=fi;n.hasItems=ei;n.toHeaderCase=oi;n.escapeHtml=si;nt={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','/':'&#x2F;'};n.hasClass=p;n.removeClass=tt;n.addClass=it;n.toggleClass=rt;n.setSelectionRange=hi;n.getActiveElement=ut;n.moveFocus=ci;n.getElement=li;n.createElement=ai;n.setText=vi;n.contains=ft;n.closest=et;n.enable=yi;n.getElementRect=pi;n.setCss=wi;n.animate=bi;c=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.x=i(n);this.y=i(t)}return n.prototype.equals=function(t){return t instanceof n&&this.x==t.x&&this.y==t.y},n.prototype.clone=function(){return new n(this.x,this.y)},n}();n.Point=c;ot=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.width=i(n);this.height=i(t)}return n.prototype.equals=function(t){return t instanceof n&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.width,this.height)},n}();n.Size=ot;w=function(){function n(n,t,r,u){this.left=i(n);this.top=i(t);this.width=i(r);this.height=i(u)}return Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.left,this.top,this.width,this.height)},n.fromBoundingRect=function(i){if(i.left!=null)return new n(i.left,i.top,i.width,i.height);if(i.x!=null)return new n(i.x,i.y,i.width,i.height);t(!1,'Invalid source rectangle.')},n.union=function(t,i){var r=Math.min(t.left,i.left),u=Math.min(t.top,i.top),f=Math.max(t.right,i.right),e=Math.max(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.intersection=function(t,i){var r=Math.max(t.left,i.left),u=Math.max(t.top,i.top),f=Math.min(t.right,i.right),e=Math.min(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.prototype.contains=function(i){if(i instanceof c)return i.x>=this.left&&i.x<=this.right&&i.y>=this.top&&i.y<=this.bottom;if(i instanceof n){var r=i;return r.left>=this.left&&r.right<=this.right&&r.top>=this.top&&r.bottom<=this.bottom}t(!1,'Point or Rect expected.')},n.prototype.inflate=function(t,i){return new n(this.left-t,this.top-i,this.width+2*t,this.height+2*i)},n}();n.Rect=w;st=function(){function t(){}return t.addDays=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+t)},t.addMonths=function(n,t){return new Date(n.getFullYear(),n.getMonth()+t,n.getDate())},t.addYears=function(n,t){return new Date(n.getFullYear()+t,n.getMonth(),n.getDate())},t.addHours=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+t)},t.addMinutes=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()+t)},t.addSeconds=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()+t)},t.sameDate=function(n,t){return u(n)&&u(t)&&n.getFullYear()==t.getFullYear()&&n.getMonth()==t.getMonth()&&n.getDate()==t.getDate()},t.sameTime=function(n,t){return u(n)&&u(t)&&n.getHours()==t.getHours()&&n.getMinutes()==t.getMinutes()&&n.getSeconds()==t.getSeconds()},t.equals=function(n,t){return u(n)&&u(t)&&n.getTime()==t.getTime()},t.fromDateTime=function(n,t){return!n&&!t?null:(n||(n=t),t||(t=n),new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()))},t.toFiscal=function(i,r){var u=n.culture.Globalize.calendar;return o(u.fiscalYearOffsets)?t.addMonths(i,-u.fiscalYearOffsets[r?0:1]):i},t.fromFiscal=function(i,r){var u=n.culture.Globalize.calendar;return o(u.fiscalYearOffsets)?t.addMonths(i,+u.fiscalYearOffsets[r?0:1]):i},t.newDate=function(){var n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate())},t.clone=function(n){return t.fromDateTime(n,n)},t}();n.DateTime=st;n.httpRequest=ki})(wijmo||(wijmo={})),function(n){'use strict';n.culture={Globalize:{numberFormat:{'.':'.',',':',',percent:{pattern:['-n %','n %']},currency:{decimals:2,symbol:'$',pattern:['($n)','$n']}},calendar:{'/':'/',':':':',firstDay:0,days:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],daysAbbr:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsAbbr:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],am:['AM','A'],pm:['PM','P'],eras:['A.D.','B.C.'],patterns:{d:'M/d/yyyy',D:'dddd, MMMM dd, yyyy',f:'dddd, MMMM dd, yyyy h:mm tt',F:'dddd, MMMM dd, yyyy h:mm:ss tt',t:'h:mm tt',T:'h:mm:ss tt',M:'MMMM d',m:'MMMM d',Y:'MMMM, yyyy',y:'MMMM, yyyy',g:'M/d/yyyy h:mm tt',G:'M/d/yyyy h:mm:ss tt',s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:'dddd, MMMM dd, yyyy h:mm:ss tt'},fiscalYearOffsets:[-3,-3]}}};var t=function(){function t(){}return t.format=function(i,r,u,f){return n.isString(i)?i:n.isNumber(i)?(r=r||(i==Math.round(i)?'n0':'n2'),t.formatNumber(i,r,u,f)):n.isDate(i)?(r=r||'d',t.formatDate(i,r)):i!=null?i.toString():''},t.formatNumber=function(t,i,r,u){var c,y,l;n.asNumber(t);n.asString(i);var f,o=i?i.match(/([a-z])(\d*)(,*)(.*)/i):null,s=n.culture.Globalize.numberFormat,e=o?o[1].toLowerCase():'n',h=o&&o[2]?parseInt(o[2]):e=='c'?s.currency.decimals:t==Math.round(t)?0:2,p=o&&o[3]?3*o[3].length:0,w=o&&o[4]?o[4]:s.currency.symbol,a=s['.'],v=s[','];if(p&&(t/=Math.pow(10,p)),e=='d'||e=='x'){for(f=Math.round(Math.abs(t)).toString(e=='d'?10:16);f.length<h;)f='0'+f;return t<0&&(f='-'+f),i&&i[0]=='X'&&(f=f.toUpperCase()),f}return e=='p'&&(t=n.toFixed(t*100,h,u)),u&&(t=n.toFixed(t,h,!0)),f=e=='c'||e=='p'?Math.abs(t).toFixed(h):t.toFixed(h),(r||e=='g')&&f.indexOf('.')>-1&&(f=f.replace(/(\.[0-9]*?)0+$/g,'$1'),f=f.replace(/\.$/,'')),a!='.'&&(f=f.replace('.',a)),v&&(e=='n'||e=='c'||e=='p')&&(c=f.indexOf(a),y=/\B(?=(\d\d\d)+(?!\d))/g,f=c>-1?f.substr(0,c).replace(y,v)+f.substr(c):f.replace(y,v)),e=='c'&&(l=s.currency.pattern[t<0?0:1],f=l.replace('n',f).replace('$',w)),e=='p'&&(l=s.percent.pattern[t<0?0:1],f=l.replace('n',f)),f},t.formatDate=function(i,r){var f,e,u;i=n.asDate(i);switch(r){case'r':case'R':return i.toUTCString();case'u':return i.toISOString().replace(/\.\d{3}/,'')}for(r=t._expandFormat(r),f=t._parseDateFormat(r),e='',u=0;u<f.length;u++)e+=t._formatDatePart(i,r,f[u]);return e},t.parseInt=function(n,i){return Math.round(t.parseFloat(n,i))},t.parseFloat=function(t,i){var r=t.indexOf('-')>-1||t.indexOf('(')>-1&&t.indexOf(')')>-1?-1:1,u=t.indexOf('%')>-1?.01:1,f=i?i.match(/,+/):null,e=f?f[0].length*3:0;if(i&&(i[0]=='x'||i[0]=='X'))return t=t.replace(/[^0-9a-f]+.*$/gi,''),parseInt(t,16)*r*u*Math.pow(10,e);var o=n.culture.Globalize.numberFormat['.'],s=new RegExp('[^\\d\\'+o+']','g'),h=t.replace(s,'').replace(o,'.');return parseFloat(h)*r*u*Math.pow(10,e)},t.parseDate=function(i,r){var ut,s,e,p,ht,nt;if(i=n.asString(i),!i)return null;if(r=='u')return new Date(i);if(r=='R'||r=='r')return ut=/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/,s=i.match(ut),s[1]||s[5]?(e=s[1]?new Date(parseInt(s[2]),parseInt(s[3])-1,parseInt(s[4])):new Date,s[5]&&(e.setHours(parseInt(s[6])),e.setMinutes(parseInt(s[7])),e.setSeconds(s[8]?parseInt(s[9]):0))):e=new Date(i),isNaN(e.getTime())?null:e;r=t._expandFormat(r?r:'d');var h=n.culture.Globalize.calendar,ft=t._CJK,ct=new RegExp('(\\'+h['/']+')|(\\'+h[':']+")|(\\d+)|(["+ft+"\\.]{2,})|(["+ft+']+)','gi'),c=i.match(ct),w=t._parseDateFormat(r),y=0,l=-1,a=0,d=1,o=0,b=0,k=0,et=0,tt=-1,ot,it,st,g,rt;if(!c||!c.length||!w||!w.length)return null;for(p=0;p<w.length&&c;p++){var v=p-y,u=v>-1&&v<c.length?c[v]:'',f=w[p].length;switch(w[p]){case'EEEE':case'EEE':case'EE':case'E':case'eeee':case'eee':case'ee':case'e':rt=w[p];case'yyyy':case'yyy':case'yy':case'y':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);l=parseInt(u);break;case'MMMM':case'MMM':for(g=!0,ht=u.toLowerCase(),a=-1,nt=0;nt<12;nt++)if(h.months[nt].toLowerCase().indexOf(ht)==0){a=nt;break}if(a>-1)break;case'MM':case'M':g=!0;f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);a=parseInt(u)-1;break;case'dddd':case'ddd':ot=!0;break;case'dd':case'd':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);d=parseInt(u);it=!0;break;case'hh':case'h':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);o=parseInt(u);o=o==12?0:o;break;case'HH':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);o=parseInt(u);break;case'H':o=parseInt(u);break;case'mm':case'm':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);b=parseInt(u);break;case'ss':case's':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);k=parseInt(u);break;case'fffffff':case'FFFFFFF':case'ffffff':case'FFFFFF':case'fffff':case'FFFFF':case'ffff':case'FFFF':case'fff':case'FFF':case'ff':case'FF':case'f':case'F':et=parseInt(u)/Math.pow(10,f-3);break;case'tt':case't':u=u.toUpperCase();(h.pm[0]&&u==h.pm[0]&&o<12||h.pm[1]&&u==h.pm[1]&&o<12)&&(o+=12);break;case'q':case'Q':case'u':case'U':st=!0;break;case'ggg':case'gg':case'g':tt=h.eras.length>1?t._getEra(u,h):-1;break;case h['/']:case h[':']:if(u&&u!=w[p])return null;break;case'K':break;default:t._unquote(w[p])!=u&&y++}}if(g&&it&&(isNaN(o)&&(o=0),isNaN(b)&&(b=0),isNaN(k)&&(k=0)),a<0||a>11||isNaN(a)||d<0||d>31||isNaN(d)||o<0||o>24||isNaN(o)||b<0||b>60||isNaN(b)||k<0||k>60||isNaN(k))return null;if(rt){if(!g)return null;e=new Date(l,a);e=n.DateTime.fromFiscal(e,rt[0]=='E');l=e.getFullYear();a=e.getMonth()}return ot&&!it?null:st&&!g?null:(l<0&&(l=(new Date).getFullYear()),tt>-1?l=l+h.eras[tt].start.getFullYear()-1:l<100&&(l+=l>=30?1900:2e3),e=new Date(l,a,d,o,b+0,k,et),isNaN(e.getTime())?null:e)},t.getFirstDayOfWeek=function(){var t=n.culture.Globalize.calendar.firstDay;return t?t:0},t.getNumberDecimalSeparator=function(){var t=n.culture.Globalize.numberFormat['.'];return t?t:'.'},t._unquote=function(n){return n.length>1&&n[0]==n[n.length-1]&&(n[0]=='\''||n[0]=='\"')?n.substr(1,n.length-2):n},t._parseDateFormat=function(n){var u,e,i,r,f;if(n in t._dateFomatParts)return t._dateFomatParts[n];for(u=[],e='',i=0;i>-1&&i<n.length;i++){if(f=n[i],(f=='\''||f=='"')&&(r=n.indexOf(f,i+1),r>-1)){u.push(n.substring(i,r+1));i=r;continue}for(r=i+1;r<n.length;r++)if(n[r]!=f)break;u.push(n.substring(i,r));i=r-1}return t._dateFomatParts[n]=u,u},t._formatDatePart=function(i,r,u){var f=n.culture.Globalize.calendar,o=0,h=0,l=0,c,e=u.length,s;switch(u){case'yyyy':case'yyy':case'yy':case'y':case'EEEE':case'EEE':case'EE':case'E':case'eeee':case'eee':case'ee':case'e':return c=u[0]=='E'?n.DateTime.toFiscal(i,!0):u[0]=='e'?n.DateTime.toFiscal(i,!1):i,h=c.getFullYear(),f.eras.length>1&&r.indexOf('g')>-1&&(o=t._getEra(i,f),o>-1&&(h=h-f.eras[o].start.getFullYear()+1)),t._zeroPad(h,4).substr(4-u.length);case'MMMM':return f.months[i.getMonth()];case'MMM':return f.monthsAbbr[i.getMonth()];case'MM':case'M':return t._zeroPad(i.getMonth()+1,e);case'dddd':return f.days[i.getDay()];case'ddd':return f.daysAbbr[i.getDay()];case'dd':return t._zeroPad(i.getDate(),2);case'd':return i.getDate().toString();case'hh':case'h':return t._zeroPad(t._h12(i),e);case'HH':case'H':return t._zeroPad(i.getHours(),e);case'mm':case'm':return t._zeroPad(i.getMinutes(),e);case'ss':case's':return t._zeroPad(i.getSeconds(),e);case'fffffff':case'FFFFFFF':case'ffffff':case'FFFFFF':case'fffff':case'FFFFF':case'ffff':case'FFFF':case'fff':case'FFF':case'ff':case'FF':case'f':case'F':return l=i.getMilliseconds()*Math.pow(10,e-3),u[0]=='f'?t._zeroPad(l,e):l.toFixed(0);case'tt':return i.getHours()<12?f.am[0]:f.pm[0];case't':return i.getHours()<12?f.am[1]:f.pm[1];case'q':case'Q':return(Math.floor(i.getMonth()/3)+1).toString();case'u':case'U':return c=n.DateTime.toFiscal(i,u=='U'),(Math.floor(c.getMonth()/3)+1).toString();case'ggg':case'gg':case'g':return f.eras.length>1&&(o=t._getEra(i,f),o>-1)?u=='ggg'?f.eras[o].name:u=='gg'?f.eras[o].name[0]:f.eras[o].symbol:f.eras[0];case':':case'/':return f[u];case'K':return s=i.toString().match(/(\+|\-)(\d{2})(\d{2})/),s?s[1]+s[2]+s[3]:''}return e>1&&u[0]==u[e-1]&&(u[0]=='\"'||u[0]=='\'')?u.substr(1,e-2):u},t._getEra=function(t,i){var r;if(n.isDate(t)){for(r=0;r<i.eras.length;r++)if(t>=i.eras[r].start)return r}else if(n.isString(t))for(r=0;r<i.eras.length;r++)if(i.eras[r].name&&(i.eras[r].name.indexOf(t)==0||i.eras[r].symbol.indexOf(t)==0))return r;return-1},t._expandFormat=function(t){var i=n.culture.Globalize.calendar.patterns[t];return i?i:t},t._zeroPad=function(n,t){var i=n.toFixed(0),r=t-i.length+1;return r>0?Array(r).join('0')+i:i},t._h12=function(t){var r=n.culture.Globalize.calendar,i=t.getHours();return r.am&&r.am[0]&&(i=i%12,i==0&&(i=12)),i},t._CJK='a-z'+'u00c0-u017fu3000-u30ffu4e00-u9faf'.replace(/u/g,'\\u')+'u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff'.replace(/u/g,'\\u'),t._dateFomatParts={},t}();n.Globalize=t}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function n(n){this.path=n}return Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(n){var t,i,r;for(this._path=n,this._parts=n?n.split('.'):[],t=0;t<this._parts.length;t++)i=this._parts[t],r=i.indexOf('['),r>-1&&(this._parts[t]=i.substr(0,r),this._parts.splice(++t,0,parseInt(i.substr(r+1))));this._key=this._parts.length==1?this._parts[0]:null},enumerable:!0,configurable:!0}),n.prototype.getValue=function(n){if(n){if(this._key)return n[this._key];if(this._path in n)return n[this._path];for(var t=0;t<this._parts.length&&n;t++)n=n[this._parts[t]]}return n},n.prototype.setValue=function(n,t){if(n){if(this._path in n){n[this._path]=t;return}for(var i=0;i<this._parts.length-1;i++)if(n=n[this._parts[i]],n==null)return;n[this._parts[this._parts.length-1]]=t}},n}();n.Binding=t}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){'use strict';var f=function(){function n(n,t){this.handler=n;this.self=t}return n}(),e=function(){function i(){this._handlers=[]}return i.prototype.addHandler=function(t,i){n.asFunction(t);this._handlers.push(new f(t,i))},i.prototype.removeHandler=function(t,i){var r,u;for(n.asFunction(t),r=0;r<this._handlers.length;r++)if(u=this._handlers[r],(u.handler==t||t==null)&&(u.self==i||i==null)&&(this._handlers.splice(r,1),t&&i))break},i.prototype.removeAllHandlers=function(){this._handlers.length=0},i.prototype.raise=function(n,i){var r,u;for(i===void 0&&(i=t.empty),r=0;r<this._handlers.length;r++)u=this._handlers[r],u.handler.call(u.self,n,i)},Object.defineProperty(i.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),i}(),t,i,r,u;n.Event=e;t=function(){function n(){}return n.empty=new n,n}();n.EventArgs=t;i=function(n){function t(){n.apply(this,arguments);this.cancel=!1}return __extends(t,n),t}(t);n.CancelEventArgs=i;r=function(n){function t(t,i,r){n.call(this);this._name=t;this._oldVal=i;this._newVal=r}return __extends(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(t);n.PropertyChangedEventArgs=r;u=function(n){function t(t){n.call(this);this._xhr=t}return __extends(t,n),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),t}(i);n.RequestErrorEventArgs=u}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(i,r,u){var h=this,f,c,o;if(r===void 0&&(r=null),u===void 0&&(u=!1),this._focus=!1,this._updating=0,this._fullUpdate=!1,this.gotFocus=new n.Event,this.lostFocus=new n.Event,n.assert(t.getControl(i)==null,'Element is already hosting a control.'),f=n.getElement(i),n.assert(f!=null,'Cannot find the host element.'),this._orgOuter=f.outerHTML,this._orgInner=f.innerHTML,this._orgTag=f.tagName,(f.tagName=='INPUT'||f.tagName=='SELECT')&&(f=this._replaceWithDiv(f)),this._e=f,f[t._DATA_KEY]=this,u==!0&&(this._szCtl=new n.Size(f.offsetWidth,f.offsetHeight),c=this._handleResize.bind(this),this.addEventListener(window,'resize',c)),this.addEventListener(f,'focus',function(){setTimeout(function(){h._updateFocusState()})},!0),this.addEventListener(f,'blur',function(){setTimeout(function(){h._updateFocusState()},20)},!0),o=this._handleDisabled.bind(this),this.addEventListener(f,'mousedown',o,!0),this.addEventListener(f,'mouseup',o,!0),this.addEventListener(f,'click',o,!0),this.addEventListener(f,'dblclick',o,!0),this.addEventListener(f,'keydown',o,!0),this.addEventListener(f,'wheel',o,!0),t._touching==null&&(t._touching=!1,'ontouchstart'in window||'onpointerdown'in window)){var e=document.body,l=this._handleTouchStart,s=this._handleTouchEnd;'ontouchstart'in window?(e.addEventListener('touchstart',l),e.addEventListener('touchend',s),e.addEventListener('touchcancel',s),e.addEventListener('touchleave',s)):'onpointerdown'in window&&(e.addEventListener('pointerdown',l),e.addEventListener('pointerup',s),e.addEventListener('pointerout',s),e.addEventListener('pointercancel',s),e.addEventListener('pointerleave',s))}}return t.prototype.getTemplate=function(){for(var t,n=Object.getPrototypeOf(this);n;n=Object.getPrototypeOf(n))if(t=n.constructor.controlTemplate,t)return t;return null},t.prototype.applyTemplate=function(t,i,r,u){var f=this._e,l,o,w,p,s,v,c,h;t&&n.addClass(f,t);l=null;i&&(l=n.createElement(i,f));var b=f.querySelectorAll('input'),e=b.length==1?b[0]:null,a=f.attributes;if(e&&a)for(o=0;o<a.length;o++)a[o].name.match(/name|autofocus|autocomplete|minlength|maxlength|pattern/i)&&e.setAttribute(a[o].name,a[o].value);if(e&&f.id){var k=document.querySelector('label[for="'+f.id+'"]'),d=f.id+'_input',y=d;if(k instanceof HTMLLabelElement){for(o=0;document.getElementById(y)!=null;o++)y=d+o;e.id=y;k.htmlFor=y}}if(e&&(w=document.createEvent('HTMLEvents'),p=e.value,w.initEvent('change',!0,!1),this.addEventListener(e,'input',function(){p=e.value},!0),this.gotFocus.addHandler(function(){p=e.value}),this.lostFocus.addHandler(function(){p!=e.value&&e.dispatchEvent(w)})),f.getAttribute('tabindex')||(f.tabIndex=e!=null?-1:0),this._updateState(),r)for(s in r){if(v=r[s],this[s]=l.querySelector('[wj-part="'+v+'"]'),this[s]==null&&l.getAttribute('wj-part')==v&&(this[s]=l),this[s]==null)throw'Missing template part: "'+v+'"';v==u&&(c='name',h=f.attributes[c],h&&h.value&&this[s].setAttribute(c,h.value),c='accesskey',h=f.attributes[c],h&&h.value&&(this[s].setAttribute(c,h.value),f.removeAttribute(c)))}return l},t.prototype.dispose=function(){for(var e,u,i,r,o=this._e.querySelectorAll('.wj-control'),f=0;f<o.length;f++)e=t.getControl(o[f]),e&&e.dispose();this._toInv&&clearTimeout(this._toInv);this.removeEventListener();for(i in this)i.length>2&&i.indexOf('on')==0&&(r=this[i[2].toLowerCase()+i.substr(3)],r instanceof n.Event&&r.removeAllHandlers());if(u=this.collectionView,u instanceof n.collections.CollectionView)for(i in u)r=u[i],r instanceof n.Event&&r.removeHandler(null,this);this._e.parentNode&&(this._e.outerHTML=this._orgOuter);this._e[t._DATA_KEY]=null;this._e=this._orgOuter=this._orgInner=this._orgTag=null},t.getControl=function(i){var r=n.getElement(i);return r?n.asType(r[t._DATA_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._e.focus()},t.prototype.containsFocus=function(){var f,i,r,e,u;if(!this._e)return!1;for(f=this._e.querySelectorAll('.wj-control'),i=0;i<f.length;i++)if(r=t.getControl(f[i]),r&&r!=this&&r.containsFocus())return!0;return(e=n.getActiveElement(),u=t.getControl(n.closest(e,'.wj-control.wj-popup')),u&&u.owner&&n.contains(this._e,u.owner))?!0:n.contains(this._e,e)},t.prototype.invalidate=function(n){var i=this;n===void 0&&(n=!0);this._fullUpdate=this._fullUpdate||n;this._toInv&&(clearTimeout(this._toInv),this._toInv=null);this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate)},t._REFRESH_INTERVAL))},t.prototype.refresh=function(n){n===void 0&&(n=!0);!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1)},t.invalidateAll=function(n){var i,r;if(n||(n=document.body),n.children)for(i=0;i<n.children.length;i++)t.invalidateAll(n.children[i]);r=t.getControl(n);r&&r.invalidate()},t.refreshAll=function(n){var i,r;if(n||(n=document.body),n.children)for(i=0;i<n.children.length;i++)t.refreshAll(n.children[i]);r=t.getControl(n);r&&r.refresh()},t.disposeAll=function(n){var r=t.getControl(n),i;if(r)r.dispose();else if(n.children)for(i=0;i<n.children.length;i++)t.disposeAll(n.children[i])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--;this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&this._e.getAttribute('disabled')!=null},set:function(t){t=n.asBoolean(t,!0);t!=this.isDisabled&&n.enable(this._e,!t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return n._deprecated('disabled','isDisabled'),this.isDisabled},set:function(t){n._deprecated('disabled','isDisabled');this.isDisabled=t},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){t&&(this.beginUpdate(),n.copy(this,t),this.endUpdate())},t.prototype.addEventListener=function(n,t,i,r){r===void 0&&(r=!1);n&&(n.addEventListener(t,i,r),this._listeners==null&&(this._listeners=[]),this._listeners.push({target:n,type:t,fn:i,capture:r}))},t.prototype.removeEventListener=function(n,t,i){var f=0,u,r;if(this._listeners)for(u=0;u<this._listeners.length;u++)r=this._listeners[u],(n==null||n==r.target)&&(t==null||t==r.type)&&(i==null||i==r.capture)&&(r.target.removeEventListener(r.type,r.fn,r.capture),this._listeners.splice(u,1),u--,f++);return f},t.prototype.onGotFocus=function(n){this.gotFocus.raise(this,n)},t.prototype.onLostFocus=function(n){this.lostFocus.raise(this,n)},t.prototype._handleResize=function(){if(this._e.parentElement){var t=new n.Size(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,this.invalidate())}},t.prototype._updateFocusState=function(){var n=this;setTimeout(function(){for(var i,u,r=n._e;r;r=r.parentElement)i=t.getControl(r),i&&(u=i.containsFocus(),u!=i._focus&&(i._focus=u,u?i.onGotFocus():i.onLostFocus(),i._updateState()))})},t.prototype._updateState=function(){var t=this.hostElement,i=this.hostElement.querySelector('input');n.toggleClass(t,'wj-state-focused',this.containsFocus());i instanceof HTMLInputElement&&(n.toggleClass(t,'wj-state-empty',i.value.length==0),n.toggleClass(t,'wj-state-invalid',i.validationMessage.length>0))},t.prototype._handleTouchStart=function(n){(n.pointerType==null||n.pointerType=='touch')&&(t._touching=!0)},t.prototype._handleTouchEnd=function(n){(n.pointerType==null||n.pointerType=='touch')&&setTimeout(function(){t._touching=!1},400)},t.prototype._handleDisabled=function(n){this.isDisabled&&(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(n){var r=document.createElement('div'),i,t,u;for(n.parentElement.replaceChild(r,n),r.innerHTML=n.innerHTML,i=n.attributes,t=0;t<i.length;t++)u=i[t].name,i[t].name.match(/id|style|class/i)&&r.setAttribute(u,i[t].value);return r},t._DATA_KEY='wj-Control',t._REFRESH_INTERVAL=10,t}();n.Control=t}(wijmo||(wijmo={})),function(n){'use strict';function i(i,r,u){var v=0,f=0,l=0,s=0,h=null,c=null,y=u?new n.Binding(u):null,a,e,o;for(i=n.asEnum(i,t),a=0;a<r.length;a++)e=r[a],y&&(e=y.getValue(e)),e!=null&&(v++,(h==null||e<h)&&(h=e),(c==null||e>c)&&(c=e),n.isNumber(e)&&!isNaN(e)?(f++,l+=e,s+=e*e):n.isBoolean(e)&&(f++,e==!0&&(l++,s++)));o=f==0?0:l/f;switch(i){case t.Avg:return o;case t.Cnt:return v;case t.Max:return c;case t.Min:return h;case t.Rng:return c-h;case t.Sum:return l;case t.VarPop:return f<=1?0:s/f-o*o;case t.StdPop:return f<=1?0:Math.sqrt(s/f-o*o);case t.Var:return f<=1?0:(s/f-o*o)*f/(f-1);case t.Std:return f<=1?0:Math.sqrt((s/f-o*o)*f/(f-1))}throw'Invalid aggregate type.';}(function(n){n[n.None=0]="None";n[n.Sum=1]="Sum";n[n.Cnt=2]="Cnt";n[n.Avg=3]="Avg";n[n.Max=4]="Max";n[n.Min=5]="Min";n[n.Rng=6]="Rng";n[n.Std=7]="Std";n[n.Var=8]="Var";n[n.StdPop=9]="StdPop";n[n.VarPop=10]="VarPop"})(n.Aggregate||(n.Aggregate={}));var t=n.Aggregate;n.getAggregate=i}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i,u,f,e,r,o;(function(n){n[n.Add=0]="Add";n[n.Remove=1]="Remove";n[n.Change=2]="Change";n[n.Reset=3]="Reset"})(t.NotifyCollectionChangedAction||(t.NotifyCollectionChangedAction={}));i=t.NotifyCollectionChangedAction;u=function(n){function t(t,r,u){t===void 0&&(t=i.Reset);r===void 0&&(r=null);u===void 0&&(u=-1);n.call(this);this.action=t;this.item=r;this.index=u}return __extends(t,n),t.reset=new t(i.Reset),t}(n.EventArgs);t.NotifyCollectionChangedEventArgs=u;f=function(){function t(t,i){this._bnd=new n.Binding(t);this._asc=i}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}();t.SortDescription=f;e=function(n){function t(t){n.call(this);this.newPageIndex=t}return __extends(t,n),t}(n.CancelEventArgs);t.PageChangingEventArgs=e;r=function(){function n(){}return n.prototype.groupNameFromItem=function(){return''},n.prototype.namesMatch=function(n,t){return n===t},n}();t.GroupDescription=r;o=function(t){function i(i,r){t.call(this);this._bnd=new n.Binding(i);this._converter=r}return __extends(i,t),Object.defineProperty(i.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),i.prototype.groupNameFromItem=function(n){return this._converter?this._converter(n,this.propertyName):this._bnd.getValue(n)},i.prototype.namesMatch=function(n,t){return n===t},i}(r);t.PropertyGroupDescription=o})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(){function n(){this.length=0;Array.apply(this,arguments)}return n.prototype.pop=function(){return null},n.prototype.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];return 0},n.prototype.splice=function(){return null},n.prototype.slice=function(){return null},n.prototype.indexOf=function(){return-1},n.prototype.sort=function(){return null},n}(),r;t.ArrayBase=i;i.prototype=Array.prototype;r=function(i){function r(t){if(i.call(this),this._updating=0,this.collectionChanged=new n.Event,t){t=n.asArray(t);this._updating++;for(var r=0;r<t.length;r++)this.push(t[r]);this._updating--}}return __extends(r,i),r.prototype.push=function(){for(var f,r,n=[],u=0;u<arguments.length;u++)n[+u]=arguments[u];for(f=this.length,r=0;n&&r<n.length;r++)f=i.prototype.push.call(this,n[r]),this._updating||this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,n[r],f-1);return f},r.prototype.pop=function(){var n=i.prototype.pop.call(this);return this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,n,this.length),n},r.prototype.splice=function(n,r,u){var f;return r&&u?(f=i.prototype.splice.call(this,n,r,u),r==1?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,u,n):this._raiseCollectionChanged(),f):u?(f=i.prototype.splice.call(this,n,0,u),this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,u,n),f):(f=i.prototype.splice.call(this,n,r),r==1?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,f[0],n):this._raiseCollectionChanged(),f)},r.prototype.slice=function(n,t){return i.prototype.slice.call(this,n,t)},r.prototype.indexOf=function(n,t){return i.prototype.indexOf.call(this,n,t)},r.prototype.sort=function(n){var t=i.prototype.sort.call(this,n);return this._raiseCollectionChanged(),t},r.prototype.insert=function(n,t){this.splice(n,0,t)},r.prototype.remove=function(n){var t=this.indexOf(n);return t>-1?(this.removeAt(t),!0):!1},r.prototype.removeAt=function(n){this.splice(n,1)},r.prototype.setAt=function(n,t){n>this.length&&(this.length=n);this.splice(n,1,t)},r.prototype.clear=function(){this.length!==0&&(this.splice(0,this.length),this._raiseCollectionChanged())},r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating>0&&(this._updating--,this._updating==0&&this._raiseCollectionChanged())},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},r.prototype.implementsInterface=function(n){return n=='INotifyCollectionChanged'},r.prototype.onCollectionChanged=function(n){n===void 0&&(n=t.NotifyCollectionChangedEventArgs.reset);this.isUpdating||this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){if(n===void 0&&(n=t.NotifyCollectionChangedAction.Reset),!this.isUpdating){var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)}},r}(i);t.ObservableArray=r})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var r=function(){function r(i,r){var u=this;this._idx=-1;this._srtDsc=new t.ObservableArray;this._grpDesc=new t.ObservableArray;this._newItem=null;this._edtItem=null;this._pgSz=0;this._pgIdx=0;this._updating=0;this._canFilter=!0;this._canGroup=!0;this._canSort=!0;this._canAddNew=!0;this._canCancelEdit=!0;this._canRemove=!0;this._canChangePage=!0;this._trackChanges=!1;this._chgAdded=new t.ObservableArray;this._chgRemoved=new t.ObservableArray;this._chgEdited=new t.ObservableArray;this.collectionChanged=new n.Event;this.sourceCollectionChanging=new n.Event;this.sourceCollectionChanged=new n.Event;this.currentChanged=new n.Event;this.currentChanging=new n.Event;this.pageChanged=new n.Event;this.pageChanging=new n.Event;this._srtDsc.collectionChanged.addHandler(function(){for(var r=u._srtDsc,i=0;i<r.length;i++)n.assert(r[i]instanceof t.SortDescription,'sortDescriptions array must contain SortDescription objects.');u.canSort&&u.refresh()});this._grpDesc.collectionChanged.addHandler(function(){for(var r=u._grpDesc,i=0;i<r.length;i++)n.assert(r[i]instanceof t.GroupDescription,'groupDescriptions array must contain GroupDescription objects.');u.canGroup&&u.refresh()});this.sourceCollection=i?i:new t.ObservableArray;r&&(this.beginUpdate(),n.copy(this,r),this.endUpdate())}return r.prototype._copy=function(i,r){var e,f,u;if(i=='sortDescriptions'){for(this.sortDescriptions.clear(),e=n.asArray(r),f=0;f<e.length;f++)u=e[f],n.isString(u)&&(u=new t.SortDescription(u,!0)),this.sortDescriptions.push(u);return!0}if(i=='groupDescriptions'){for(this.groupDescriptions.clear(),e=n.asArray(r),f=0;f<e.length;f++)u=e[f],n.isString(u)&&(u=new t.PropertyGroupDescription(u)),this.groupDescriptions.push(u);return!0}return!1},Object.defineProperty(r.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){this._stableSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),r.prototype.getAggregate=function(t,i){return n.getAggregate(t,this.items,i)},r.prototype.implementsInterface=function(n){switch(n){case'ICollectionView':case'IEditableCollectionView':case'IPagedCollectionView':case'INotifyCollectionChanged':return!0}return!1},Object.defineProperty(r.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),r.prototype.clearChanges=function(){this._chgAdded.clear();this._chgRemoved.clear();this._chgEdited.clear()},r.prototype.onCollectionChanged=function(n){n===void 0&&(n=t.NotifyCollectionChangedEventArgs.reset);this._committing||n.action!=t.NotifyCollectionChangedAction.Change||n.item==this.currentEditItem||this._trackItemChanged(n.item);this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){n===void 0&&(n=t.NotifyCollectionChangedAction.Reset);var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)},r.prototype.onSourceCollectionChanging=function(n){return this.sourceCollectionChanging.raise(this,n),!n.cancel},r.prototype.onSourceCollectionChanged=function(n){this.sourceCollectionChanged.raise(this,n)},Object.defineProperty(r.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(n){this.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentPosition",{get:function(){return this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=n.asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return this._pgView.length==0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){if(!this.onSourceCollectionChanging(new n.CancelEventArgs))return;var i=this.currentPosition;this.commitEdit();this.commitNew();this._ncc!=null&&this._ncc.collectionChanged.removeHandler(this._sourceChanged);this._src=n.asArray(t,!1);this._ncc=n.tryCast(this._src,'INotifyCollectionChanged');this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this);this.clearChanges();this.refresh();this.moveCurrentToFirst();this.onSourceCollectionChanged();this.currentPosition<0&&i>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),r.prototype._sourceChanged=function(){this._updating<=0&&this.refresh()},r.prototype.contains=function(n){return this._pgView.indexOf(n)>-1},r.prototype.moveCurrentTo=function(n){return this.moveCurrentToPosition(this._pgView.indexOf(n))},r.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},r.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},r.prototype.moveCurrentToPrevious=function(){return this._idx>0?this.moveCurrentToPosition(this._idx-1):!1},r.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},r.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length){var i=new n.CancelEventArgs;this._idx!=t&&this.onCurrentChanging(i)&&(this._edtItem&&this._pgView[t]!=this._edtItem&&this.commitEdit(),this._newItem&&this._pgView[t]!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged())}return this._idx==t},r.prototype.refresh=function(){this._updating>0||this._newItem||this._edtItem||(this._performRefresh(),this.onCollectionChanged())},r.prototype._performRefresh=function(){var i=this.currentItem,t;this._view=this._src?this._filter&&this.canFilter?this._performFilter(this._src):this._srtDsc.length>0&&this.canSort?this._src.slice(0):this._src:[];this.canSort&&this._srtDsc.length>0&&this._performSort(this._view);this._groups=this.canGroup?this._createGroups(this._view):null;this._fullGroups=this._groups;this._groups&&(this._view=this._mergeGroupItems(this._groups));this._pgIdx=n.clamp(this._pgIdx,0,this.pageCount-1);this._pgView=this._getPageView();this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));t=this._pgView.indexOf(i);t<0&&(t=Math.min(this._idx,this._pgView.length-1));this._idx=t;this._digest=this._getGroupsDigest(this.groups);this.currentItem!==i&&this.onCurrentChanged()},r.prototype._performSort=function(n){var i,r,t;if(this._stableSort)for(i=n.map(function(n,t){return{item:n,index:t}}),r=this._compareItems(),i.sort(function(n,t){var i=r(n.item,t.item);return i==0?n.index-t.index:i}),t=0;t<n.length;t++)n[t]=i[t].item;else n.sort(this._compareItems())},r.prototype._compareItems=function(){var i=this._srtDsc,t=this._srtCvt,r=this._srtCmp,u=!0,n=0;return function(f,e){for(var l,a,c=0;c<i.length;c++){var h=i[c],o=h._bnd.getValue(f),s=h._bnd.getValue(e);if(t&&(o=t(h,f,o,u),s=t(h,e,s,!1),u=!1),r&&(n=r(o,s),n!=null))return h.ascending?+n:-n;if(o!==o&&(o=null),s!==s&&(s=null),typeof o=='string'&&typeof s=='string'&&(l=o.toLowerCase(),a=s.toLowerCase(),l!=a&&(o=l,s=a)),o!=null&&s==null)return-1;if(o==null&&s!=null)return 1;if(n=o<s?-1:o>s?1:0,n!=0)return h.ascending?+n:-n}return 0}},r.prototype._performFilter=function(n){return this.canFilter&&this._filter?n.filter(this._filter,this):n},r.prototype.onCurrentChanged=function(t){t===void 0&&(t=n.EventArgs.empty);this.currentChanged.raise(this,t)},r.prototype.onCurrentChanging=function(n){return this.currentChanging.raise(this,n),!n.cancel},Object.defineProperty(r.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating--;this._updating<=0&&this.refresh()},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},Object.defineProperty(r.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isAddingNew",{get:function(){return this._newItem!=null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditingItem",{get:function(){return this._edtItem!=null},enumerable:!0,configurable:!0}),r.prototype.addNew=function(){var i,u,r;if(arguments.length>0&&n.assert(!1,'addNew does not take any parameters, it creates the new items.'),this.commitEdit(),this.commitNew(),!this.canAddNew)return n.assert(!1,'cannot add items (canAddNew == false).'),null;if(i=null,u=this.sourceCollection,i=this.newItemCreator?this.newItemCreator():u&&u.length?new u[0].constructor:{},i!=null){if(this._newItem=i,this._updating++,this._src.push(i),this._updating--,this._pgView!=this._src&&this._pgView.push(i),this.groups&&this.groups.length)for(r=this.groups[this.groups.length-1],r.items.push(i);r.groups&&r.groups.length;)r=r.groups[r.groups.length-1],r.items.push(i);this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,i,this._pgView.length-1);this.moveCurrentTo(i)}return this._newItem},r.prototype.cancelEdit=function(){var r=this._edtItem,i;if(r!=null){if(this._edtItem=null,!this.canCancelEdit){n.assert(!1,'cannot cancel edits (canCancelEdit == false).');return}if(i=this._src.indexOf(r),i<0||!this._edtClone)return;this._extend(this._src[i],this._edtClone);this._edtClone=null;this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,r,i)}},r.prototype.cancelNew=function(){var n=this._newItem;n!=null&&this.remove(n)},r.prototype.commitEdit=function(){var n=this._edtItem,r,i,u;n!=null&&(this._committing=!0,r=this._sameContent(n,this._edtClone),this._edtItem=null,this._edtClone=null,i=this._pgView.indexOf(n),u=this._digest,this._performRefresh(),r||this._trackItemChanged(n),this._pgView.indexOf(n)==i&&u==this._digest?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,n,i):this._raiseCollectionChanged(),this._committing=!1)},r.prototype.commitNew=function(){var n=this._newItem,i,u,r;n!=null&&(this._newItem=null,i=this._pgView.indexOf(n),u=this._digest,this._performRefresh(),this._trackChanges==!0&&(r=this._chgEdited.indexOf(n),r>-1&&this._chgEdited.removeAt(r),this._chgAdded.indexOf(n)<0&&this._chgAdded.push(n)),this._pgView.indexOf(n)==i&&u==this._digest?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,n,i):this._raiseCollectionChanged())},r.prototype.editItem=function(n){n!=this._edtItem&&this.moveCurrentTo(n)&&(this.commitEdit(),this._edtItem=n,this._edtClone={},this._extend(this._edtClone,this._edtItem))},r.prototype.remove=function(i){var e=i==this._newItem,r,o,s,u,f,h,c,l;if(e&&(this._newItem=null),i==this._edtItem&&this.cancelEdit(),!this.canRemove){n.assert(!1,'cannot remove items (canRemove == false).');return}r=this._src.indexOf(i);r>-1&&(o=this.currentItem,this._updating++,this._src.splice(r,1),this._updating--,s=this._digest,this._performRefresh(),this._trackChanges==!0&&(u=this._chgAdded.indexOf(i),u>-1&&this._chgAdded.removeAt(u),f=this._chgEdited.indexOf(i),f>-1&&this._chgEdited.removeAt(f),h=this._chgRemoved.indexOf(i),h<0&&!e&&u<0&&this._chgRemoved.push(i)),c=this.sortDescriptions.length>0,l=this.pageSize>0&&this._pgIdx>-1,c||l||s!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,i,r),this.currentItem!==o&&this.onCurrentChanged())},r.prototype.removeAt=function(t){t=n.asInt(t);this.remove(this._pgView[t])},r.prototype._trackItemChanged=function(n){var i,r;if(this._trackChanges)if(i=this._chgEdited.indexOf(n),i<0&&this._chgAdded.indexOf(n)<0)this._chgEdited.push(n);else if(i>-1){r=new t.NotifyCollectionChangedEventArgs(t.NotifyCollectionChangedAction.Change,n,i);this._chgEdited.onCollectionChanged(r)}else if(i=this._chgAdded.indexOf(n),i>-1){r=new t.NotifyCollectionChangedEventArgs(t.NotifyCollectionChangedAction.Change,n,i);this._chgAdded.onCollectionChanged(r)}},r.prototype._extend=function(n,t){for(var i in t)n[i]=t[i]},r.prototype._sameContent=function(n,t){for(var i in t)if(!this._sameValue(n[i],t[i]))return!1;for(i in n)if(!this._sameValue(n[i],t[i]))return!1;return!0},r.prototype._sameValue=function(t,i){return t==i||n.DateTime.equals(t,i)},Object.defineProperty(r.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=n.asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),r.prototype.moveToFirstPage=function(){return this.moveToPage(0)},r.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},r.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},r.prototype.moveToPage=function(i){var r=n.clamp(i,0,this.pageCount-1),u;return r!=this._pgIdx&&(this.canChangePage||n.assert(!1,'cannot change pages (canChangePage == false).'),u=new t.PageChangingEventArgs(r),this.onPageChanging(u)&&(this._pgIdx=r,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&this.groupDescriptions.length!=0?this.refresh():(this.onPageChanged(),this.onCollectionChanged()))),this._pgIdx==i},r.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},r.prototype.onPageChanged=function(t){t===void 0&&(t=n.EventArgs.empty);this.pageChanged.raise(this,t)},r.prototype.onPageChanging=function(n){return this.pageChanging.raise(this,n),!n.cancel},r.prototype._getFullGroup=function(n){var t=this._getGroupByPath(this._fullGroups,n.level,n._path);return t!=null&&(n=t),n},r.prototype._getGroupByPath=function(n,t,i){for(var r,u=0;u<n.length;u++)if((r=n[u],r.level==t&&r._path==i)||r.level<t&&i.indexOf(r._path)==0&&(r=this._getGroupByPath(r.groups,t,i),r!=null))return r;return null},r.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var n=this._pgSz*this._pgIdx,t=Math.min(n+this._pgSz,this._view.length);return this._view.slice(n,t)},r.prototype._createGroups=function(t){var u,i,e;if(!this._grpDesc||!this._grpDesc.length)return null;var s=[],h={},r=null;for(u=0;u<t.length;u++){var c=t[u],l=s,a=this._grpDesc.length,f='';for(i=0;i<a;i++){var v=this._grpDesc[i],o=v.groupNameFromItem(c,i),y=i==a-1;r=h[f];!r&&n.isPrimitive(o)&&(r={},h[f]=r);e=this._getGroup(v,l,r,o,i,y);f+='/'+o;e._path=f;y&&e.items.push(c);l=e.groups}}return s},r.prototype._getGroupsDigest=function(n){for(var t,i='',r=0;n!=null&&r<n.length;r++)t=n[r],i+='{'+t.name+':'+(t.items?t.items.length:'*'),t.groups.length>0&&(i+=',',i+=this._getGroupsDigest(t.groups)),i+='}';return i},r.prototype._mergeGroupItems=function(n){for(var i,f,t,r,e=[],u=0;u<n.length;u++){if(i=n[u],!i._isBottomLevel)for(f=this._mergeGroupItems(i.groups),t=0,r=f.length;t<r;t++)i._items.push(f[t]);for(t=0,r=i._items.length;t<r;t++)e.push(i._items[t])}return e},r.prototype._getGroup=function(t,r,u,f,e,o){var c,s,h;if(u&&n.isPrimitive(f)){if(c=u[f],c)return c}else for(s=0;s<r.length;s++)if(t.namesMatch(r[s].name,f))return r[s];return h=new i(t,f,e,o),r.push(h),u&&(u[f]=h),h},r}(),i;t.CollectionView=r;i=function(){function t(n,t,i,r){this._gd=n;this._name=t;this._level=i;this._isBottomLevel=r;this._groups=[];this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,i,u){var f=n.tryCast(u,r),e=f?f._getFullGroup(this):this;return n.getAggregate(t,e.items,i)},t}();t.CollectionViewGroup=i})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){'use strict';var i=function(){function i(t){this._showAutoTipBnd=this._showAutoTip.bind(this);this._hideAutoTipBnd=this._hideAutoTip.bind(this);this._html=!0;this._gap=6;this._showAtMouse=!1;this._showDelay=500;this._hideDelay=0;this._tips=[];this.popup=new n.Event;n.copy(this,t)}return i.prototype.setTooltip=function(t,i){t=n.getElement(t);i=this._getContent(i);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1));i&&(this._attach(t),this._tips.push({element:t,content:i}))},i.prototype.show=function(r,u,f){var e,o;r=n.getElement(r);u=this._getContent(u);f||(f=n.Rect.fromBoundingRect(r.getBoundingClientRect()));e=i._eTip;e||(e=i._eTip=document.createElement('div'),n.addClass(e,'wj-tooltip'),e.style.visibility='none',document.body.appendChild(e));this._setContent(u);o=new t(u);this.onPopup(o);o.content&&!o.cancel&&(this._setContent(o.content),e.style.minWidth='',f=new n.Rect(f.left-(e.offsetWidth-f.width)/2,f.top-this.gap,e.offsetWidth,f.height+2*this.gap),n.showPopup(e,f,!0),document.addEventListener('mousedown',this._hideAutoTipBnd))},i.prototype.hide=function(){i._eTip&&(i._eTip.style.visibility='hidden',i._eTip.innerHTML='');document.removeEventListener('mousedown',this._hideAutoTipBnd)},Object.defineProperty(i.prototype,"isVisible",{get:function(){return i._eTip&&i._eTip.style.visibility!='hidden'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=n.asInt(t)},enumerable:!0,configurable:!0}),i.prototype.onPopup=function(n){this.popup&&this.popup.raise(this,n)},i.prototype._indexOf=function(n){for(var t=0;t<this._tips.length;t++)if(this._tips[t].element==n)return t;return-1},i.prototype._attach=function(n){n.addEventListener('mouseenter',this._showAutoTipBnd);n.addEventListener('mouseleave',this._hideAutoTipBnd);n.addEventListener('click',this._showAutoTipBnd)},i.prototype._detach=function(n){n.removeEventListener('mouseenter',this._showAutoTipBnd);n.removeEventListener('mouseleave',this._hideAutoTipBnd);n.removeEventListener('click',this._showAutoTipBnd)},i.prototype._showAutoTip=function(t){var i=this,r=t.type=='mouseenter'?this._showDelay:0;this._clearTimeouts();this._toShow=setTimeout(function(){var u=i._indexOf(t.target),r,f;u>-1&&(r=i._tips[u],f=i._showAtMouse?new n.Rect(t.clientX,t.clientY,0,0):null,i.show(r.element,r.content,f),i._hideDelay>0&&(i._toHide=setTimeout(function(){i.hide()},i._hideDelay)))},r)},i.prototype._hideAutoTip=function(){this._clearTimeouts();this.hide()},i.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},i.prototype._getContent=function(t){if(t=n.asString(t),t&&t[0]=='#'){var i=n.getElement(t);i&&(t=i.innerHTML)}return t},i.prototype._setContent=function(n){var t=i._eTip;t&&(this.isContentHtml?t.innerHTML=n:t.textContent=n)},i}(),r,t;n.Tooltip=i;r=function(){function n(){}return n}();t=function(t){function i(i){t.call(this);this._content=n.asString(i)}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(t){this._content=n.asString(t)},enumerable:!0,configurable:!0}),i}(n.CancelEventArgs);n.TooltipEventArgs=t}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(n){this._r=0;this._g=0;this._b=0;this._a=1;n&&this._parse(n)}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=n.clamp(n.asNumber(t),0,1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(n){return n instanceof t&&this.r==n.r&&this.g==n.g&&this.b==n.b&&this.a==n.a},t.prototype.toString=function(){var n=Math.round(this.a*100);return n>99?'#'+(16777216+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):'rgba('+this.r+','+this.g+','+this.b+','+n/100+')'},t.fromRgba=function(i,r,u,f){f===void 0&&(f=1);var e=new t(null);return e.r=Math.round(n.clamp(n.asNumber(i),0,255)),e.g=Math.round(n.clamp(n.asNumber(r),0,255)),e.b=Math.round(n.clamp(n.asNumber(u),0,255)),e.a=n.clamp(n.asNumber(f),0,1),e},t.fromHsb=function(i,r,u,f){f===void 0&&(f=1);var e=t._hsbToRgb(n.clamp(n.asNumber(i),0,1),n.clamp(n.asNumber(r),0,1),n.clamp(n.asNumber(u),0,1));return t.fromRgba(e[0],e[1],e[2],f)},t.fromHsl=function(i,r,u,f){f===void 0&&(f=1);var e=t._hslToRgb(n.clamp(n.asNumber(i),0,1),n.clamp(n.asNumber(r),0,1),n.clamp(n.asNumber(u),0,1));return t.fromRgba(e[0],e[1],e[2],f)},t.fromString=function(i){var r=new t(null);return r._parse(n.asString(i))?r:null},t.prototype.getHsb=function(){return t._rgbToHsb(this.r,this.g,this.b)},t.prototype.getHsl=function(){return t._rgbToHsl(this.r,this.g,this.b)},t.interpolate=function(i,r,u){u=n.clamp(n.asNumber(u),0,1);var e=t._rgbToHsl(i.r,i.g,i.b),o=t._rgbToHsl(r.r,r.g,r.b),f=1-u,c=i.a*f+r.a*u,s=[e[0]*f+o[0]*u,e[1]*f+o[1]*u,e[2]*f+o[2]*u],h=t._hslToRgb(s[0],s[1],s[2]);return t.fromRgba(h[0],h[1],h[2],c)},t.toOpaque=function(i,r){if(i=n.isString(i)?t.fromString(i):n.asType(i,t),i.a==1)return i;r=r==null?t.fromRgba(255,255,255,1):n.isString(r)?t.fromString(r):n.asType(r,t);var u=i.a,f=1-u;return t.fromRgba(i.r*u+r.r*f,i.g*u+r.g*f,i.b*u+r.b*f)},t.prototype._parse=function(n){var u,f,r,e,i,o;if(n=n.toLowerCase(),n=='transparent')return this._r=this._g=this._b=this._a=0,!0;if(n&&n.indexOf('#')!=0&&n.indexOf('rgb')!=0&&n.indexOf('hsl')!=0&&(u=document.createElement('div'),u.style.color=n,f=u.style.color,f==n&&(f=window.getComputedStyle(u).color,f||(document.body.appendChild(u),f=window.getComputedStyle(u).color,document.body.removeChild(u))),n=f.toLowerCase()),n.indexOf('#')==0)return n.length==4?(this.r=parseInt(n[1]+n[1],16),this.g=parseInt(n[2]+n[2],16),this.b=parseInt(n[3]+n[3],16),this.a=1,!0):n.length==7?(this.r=parseInt(n.substr(1,2),16),this.g=parseInt(n.substr(3,2),16),this.b=parseInt(n.substr(5,2),16),this.a=1,!0):!1;if(n.indexOf('rgb')==0&&(r=n.indexOf('('),e=n.indexOf(')'),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(','),i.length>2)))return this.r=parseInt(i[0]),this.g=parseInt(i[1]),this.b=parseInt(i[2]),this.a=i.length>3?parseFloat(i[3]):1,!0;if(n.indexOf('hsl')==0&&(r=n.indexOf('('),e=n.indexOf(')'),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(','),i.length>2))){var c=parseInt(i[0])/360,s=parseInt(i[1]),h=parseInt(i[2]);return i[1].indexOf('%')>-1&&(s/=100),i[2].indexOf('%')>-1&&(h/=100),o=t._hslToRgb(c,s,h),this.r=o[0],this.g=o[1],this.b=o[2],this.a=i.length>3?parseFloat(i[3]):1,!0}return!1},t._hslToRgb=function(i,r,u){var o,s,h,f,e;return n.assert(i>=0&&i<=1&&r>=0&&r<=1&&u>=0&&u<=1,'bad HSL values'),r==0?o=s=h=u:(f=u<.5?u*(1+r):u+r-u*r,e=2*u-f,o=t._hue2rgb(e,f,i+1/3),s=t._hue2rgb(e,f,i),h=t._hue2rgb(e,f,i-1/3)),[Math.round(o*255),Math.round(s*255),Math.round(h*255)]},t._hue2rgb=function(n,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n},t._rgbToHsl=function(t,i,r){var e;n.assert(t>=0&&t<=255&&i>=0&&i<=255&&r>=0&&r<=255,'bad RGB values');t/=255;i/=255;r/=255;var u=Math.max(t,i,r),o=Math.min(t,i,r),f,s,h=(u+o)/2;if(u==o)f=s=0;else{e=u-o;s=h>.5?e/(2-u-o):e/(u+o);switch(u){case t:f=(i-r)/e+(i<r?6:0);break;case i:f=(r-t)/e+2;break;case r:f=(t-i)/e+4}f/=6}return[f,s,h]},t._rgbToHsb=function(i,r,u){n.assert(i>=0&&i<=255&&r>=0&&r<=255&&u>=0&&u<=255,'bad RGB values');var f=t._rgbToHsl(i,r,u);return t._hslToHsb(f[0],f[1],f[2])},t._hsbToRgb=function(n,i,r){var u=t._hsbToHsl(n,i,r);return t._hslToRgb(u[0],u[1],u[2])},t._hsbToHsl=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,'bad HSB values');var u=n.clamp(r*(2-i)/2,0,1),f=1-Math.abs(2*u-1),e=n.clamp(f>0?r*i/f:i,0,1);return n.assert(!isNaN(u)&&!isNaN(e),'bad conversion to HSL'),[t,e,u]},t._hslToHsb=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,'bad HSL values');var u=n.clamp(r==1?1:(2*r+i*(1-Math.abs(2*r-1)))/2,0,1),f=n.clamp(u>0?2*(u-r)/u:i,0,1);return n.assert(!isNaN(u)&&!isNaN(f),'bad conversion to HSB'),[t,f,u]},t}();n.Color=t}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(){}return t.copy=function(n){t._copyPasteInternal(n)},t.paste=function(n){t._copyPasteInternal(n)},t._copyPasteInternal=function(t){var u=n.getActiveElement(),r=n.closest(r,'div')||document.body,i=document.createElement('textarea');i.style.position='fixed';i.style.opacity='0';r.appendChild(i);typeof t=='string'&&(i.value=t);i.select();i.onkeydown=function(n){i.value&&n.preventDefault()};setTimeout(function(){var n=i.value;r.removeChild(i);u.focus();typeof t=='function'&&t(n)},100)},t}();n.Clipboard=t}(wijmo||(wijmo={})),function(n){'use strict';function i(i,r,u,f,e){var a,v,c,nt,p,d,tt,g,w,h;if(r===void 0&&(r=null),u===void 0&&(u=!1),f===void 0&&(f=!1),e===void 0&&(e=!0),a=document.body,r instanceof HTMLElement){if(!n.contains(document.body,r))return;for(v=r.parentElement;v;v=v.parentElement)if(getComputedStyle(v).position=='fixed'){a=v;break}}a.lastChild!=i&&a.appendChild(i);r instanceof HTMLElement&&e&&(c=getComputedStyle(r),nt=new n.Color(c.backgroundColor),nt.a&&n.setCss(i,{color:c.color,backgroundColor:c.backgroundColor,fontFamily:c.fontFamily,fontSize:c.fontSize,fontWeight:c.fontWeight,fontStyle:c.fontStyle}));n.setCss(i,{position:'absolute',visibility:'hidden',display:''});n.Control.refreshAll(i);var y=getComputedStyle(i),it=parseFloat(y.marginTop)+parseFloat(y.marginBottom),rt=parseFloat(y.marginLeft)+parseFloat(y.marginRight),l=new n.Size(i.offsetWidth+rt,i.offsetHeight+it),s=new n.Point,o=null;if(r&&r.clientX!=null&&r.clientY!=null&&r.pageX!=null&&r.pageY!=null)r.clientX<=0&&r.clientY<=0&&r.target?o=r.target.getBoundingClientRect():(s.x=Math.max(0,r.pageX-pageXOffset),s.y=Math.max(0,r.pageY-pageYOffset));else if(r instanceof n.Point)s=r;else if(r instanceof HTMLElement)o=r.getBoundingClientRect();else if(r&&r.top!=null&&r.left!=null)o=r;else if(r==null)s.x=Math.max(0,(innerWidth-l.width)/2),s.y=Math.max(0,Math.round((innerHeight-l.height)/2*.7));else throw'Invalid ref parameter.';if(p=parseFloat(y.minWidth),o){var b=o.top,k=innerHeight-o.bottom,ut=getComputedStyle(i).direction=='rtl';s.x=ut?Math.max(0,o.right-l.width):Math.max(0,Math.min(o.left,innerWidth-l.width));s.y=u?b>l.height||b>k?Math.max(0,o.top-l.height):o.bottom:k>l.height||k>b?o.bottom:Math.max(0,o.top-l.height);p=Math.max(p,o.width)}if(d=r==null?new n.Rect(0,0,0,0):a==document.body?new n.Rect(-pageXOffset,-pageYOffset,0,0):a.getBoundingClientRect(),tt={position:r==null?'fixed':'absolute',left:s.x-d.left,top:s.y-d.top,minWidth:p,display:'',visibility:'',zIndex:1500},f&&(i.style.opacity='0',n.animate(function(n){i.style.opacity=n==1?'':n.toString()})),n.setCss(i,tt),g=r instanceof MouseEvent?r.target:r,g instanceof HTMLElement)for(h=g.parentElement;h&&h!=document.body;h=h.parentElement)getComputedStyle(h).overflowY=='auto'&&h.scrollHeight>h.offsetHeight&&(w||(w=new n.Control(document.createElement('div'))),w.addEventListener(h,'scroll',function(){t(i,!0);w.dispose()}))}function r(i,r,u){r===void 0&&(r=!0);u===void 0&&(u=!1);u?n.animate(function(n){i.style.opacity=(1-n).toString();n==1&&(t(i,r),i.style.opacity='')}):t(i,r)}function t(n,t){n.style.display='none';t&&n.parentElement&&n.parentElement.removeChild(n)}n.showPopup=i;n.hidePopup=r}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(t){this._copyCss=!0;t!=null&&n.copy(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=n.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(n){this._css||(this._css=[]);this._css.push(n)},t.prototype.append=function(t){var i=this._getDocument();n.isString(t)?i.write(t):t instanceof HTMLElement?i.write(t.outerHTML):n.assert(!1,'child should be an HTML element or a string.')},t.prototype.print=function(){var n=this;this._iframe&&(this._close(),setTimeout(function(){var t=n._iframe.contentWindow;t.focus();t.print();document.body.removeChild(n._iframe);n._iframe=null},100))},t.prototype._getDocument=function(){if(!this._iframe){this._iframe=document.createElement('iframe');var n=this._iframe.style;n.position='fixed';n.left='10000px';n.top='10000px';document.body.appendChild(this._iframe)}return this._iframe.contentDocument},t.prototype._close=function(){var i=this._getDocument(),r,e,u,o,t,s,f;if(i.close(),this.title&&(r=i.querySelector('title'),r||(r=i.createElement('title'),i.head.appendChild(r)),r.textContent=this.title),this._copyCss){for(e=document.head.querySelectorAll('LINK'),t=0;t<e.length;t++)u=e[t],u.href.match(/\.css$/i)&&u.rel.match(/stylesheet/i)&&(f=n.httpRequest(u.href,{async:!1}),this._addStyle(f.responseText));for(o=document.head.querySelectorAll('STYLE'),t=0;t<o.length;t++)this._addStyle(o[t].textContent)}if(this._css)for(t=0;t<this._css.length;t++)s=i.createElement('style'),f=n.httpRequest(this._css[t],{async:!1}),s.textContent=f.responseText,i.head.appendChild(s)},t.prototype._addStyle=function(n){var t=this._getDocument(),i=t.createElement('style');i.textContent=n;t.head.appendChild(i)},t}();n.PrintDocument=t}(wijmo||(wijmo={})),function(n){'use strict';var i=function(){function i(n,t,i){t===void 0&&(t=null);i===void 0&&(i='_');this._promptChar='_';this._mskArr=[];this._full=!0;this._hbInput=this._input.bind(this);this._hbKeyDown=this._keydown.bind(this);this._hbKeyPress=this._keypress.bind(this);this._hbCompositionStart=this._compositionstart.bind(this);this._hbCompositionEnd=this._compositionend.bind(this);this.mask=t;this.input=n;this.promptChar=i;this._connect(!0)}return Object.defineProperty(i.prototype,"input",{get:function(){return this._tbx},set:function(n){this._connect(!1);this._tbx=n;this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=n.asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=n.asString(t,!1),n.assert(this._promptChar.length==1,'promptChar must be a string with length 1.'),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),i.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},i.prototype.getRawValue=function(){var t=this._tbx.value,i='',n;if(!this.mask)return t;for(n=0;n<this._mskArr.length&&n<t.length;n++)this._mskArr[n].literal||t[n]==this._promptChar||(i+=t[n]);return i},i.prototype.refresh=function(){this._parseMask();this._valueChanged()},i.prototype._input=function(){var n=this;this._composing||setTimeout(function(){n._valueChanged()})},i.prototype._keydown=function(t){if(t.keyCode==n.Key.Back){var i=this._tbx.selectionStart,r=this._tbx.selectionEnd;if(i<=this._firstPos&&r==i){t.preventDefault();this._backSpace=!1;return}}this._backSpace=t.keyCode==n.Key.Back},i.prototype._keypress=function(n){n.ctrlKey||n.metaKey||n.altKey||this._composing||!this._preventKey(n.charCode)||n.preventDefault()},i.prototype._compositionstart=function(){this._composing=!0},i.prototype._compositionend=function(){var n=this;this._composing=!1;setTimeout(function(){n._valueChanged()})},i.prototype._preventKey=function(t){var r;if(t&&this._mskArr.length){var u=this._tbx,i=u.selectionStart,f=String.fromCharCode(t);if(i<this._firstPos&&(i=this._firstPos,n.setSelectionRange(u,i)),i>=this._mskArr.length)return!0;if(r=this._mskArr[i],r.literal)this._validatePosition(i);else if(r.wildCard!=f&&!this._isCharValid(r.wildCard,f))return!0}return!1},i.prototype._connect=function(n){var t=this._tbx;t&&(n?(this._autoComplete=t.autocomplete,this._spellCheck=t.spellcheck,t.autocomplete='off',t.spellcheck=!1,t.addEventListener('input',this._hbInput),t.addEventListener('keydown',this._hbKeyDown,!0),t.addEventListener('keypress',this._hbKeyPress,!0),t.addEventListener('compositionstart',this._hbCompositionStart,!0),t.addEventListener('compositionend',this._hbCompositionEnd,!0),this._valueChanged()):(t.autocomplete=this._autoComplete,t.spellcheck=this._spellCheck,t.removeEventListener('input',this._hbInput),t.removeEventListener('keydown',this._hbKeyDown,!0),t.removeEventListener('keypress',this._hbKeyPress,!0),t.removeEventListener('compositionstart',this._hbCompositionStart,!0),t.removeEventListener('compositionend',this._hbCompositionEnd,!0)))},i.prototype._valueChanged=function(){var i;if(this._tbx&&this._msk){var t=this._tbx,n=t.selectionStart,r=n>0?t.value[n-1]:'';t.value=this._applyMask();i=n>0?t.value[n-1]:'';n>0&&i==this._promptChar&&r!=this.promptChar&&n--;this._validatePosition(n)}},i.prototype._applyMask=function(){var t,e,r,f,u,n,i;if((this._full=!0,t=this._tbx.value,!this._msk)||!t&&!this._tbx.required)return t;for(e='',r=0,t=this._handleVagueLiterals(t),f=0;f<this._mskArr.length;f++){if(u=this._mskArr[f],n=u.literal,n&&n==t[r]&&r++,u.wildCard){if(n=this._promptChar,t){for(i=r;i<t.length;i++)if(this._isCharValid(u.wildCard,t[i])){n=t[i];switch(u.charCase){case'>':n=n.toUpperCase();break;case'<':n=n.toLowerCase()}break}r=i+1}n==this._promptChar&&(this._full=!1)}e+=n}return e},i.prototype._handleVagueLiterals=function(n){var i,t,f,r,e,u;if(n.length>this._mskArr.length+1)return n;if(i=n.length-this._mskArr.length,i!=0&&n.length>1){for(t=-1,f=Math.max(0,this._tbx.selectionStart-i),r=f;r<this._mskArr.length;r++)if(this._mskArr[r].vague){t=r;break}if(t>-1)if(i<0)e=Array(1-i).join(this._promptChar),u=t+i,u>-1&&(n=n.substr(0,u)+e+n.substr(u));else{while(t>0&&this._mskArr[t-1].literal)t--;n=n.substr(0,t)+n.substr(t+i)}}return n},i.prototype._isCharValid=function(n,t){var r=this._promptChar;switch(n){case'0':return t>='0'&&t<='9'||t==r;case'9':return t>='0'&&t<='9'||t==' '||t==r;case'#':return t>='0'&&t<='9'||t==' '||t=='+'||t=='-'||t==r;case'L':return t>='a'&&t<='z'||t>='A'&&t<='Z'||t==r;case'l':return t>='a'&&t<='z'||t>='A'&&t<='Z'||t==' '||t==r;case'A':return t>='0'&&t<='9'||t>='a'&&t<='z'||t>='A'&&t<='Z'||t==r;case'a':return t>='0'&&t<='9'||t>='a'&&t<='z'||t>='A'&&t<='Z'||t==' '||t==r;case'\uff19':return t>='\uFF10'&&t<='\uff19'||t==r;case'\uff2a':case'\uff27':return n=='\uff27'&&i._X_DBCS_BIG_HIRA.indexOf(t)>-1?!1:t>='\u3041'&&t<='\u3096'||t==r;case'\uff2b':case'\uff2e':return n=='\uff2e'&&i._X_DBCS_BIG_KATA.indexOf(t)>-1?!1:t>='\u30a1'&&t<='\u30fa'||t==r;case'\uff3a':return t<='\u0021'||t>='\u00ff'||t==r;case'H':return t>='\u0021'&&t<='\u00ff'||t==r;case'K':case'N':return n=='N'&&i._X_SBCS_BIG_KATA.indexOf(t)>-1?!1:t>='\uff66'&&t<='\uff9f'||t==r}return!1},i.prototype._validatePosition=function(t){var i=this._mskArr;if(this._backSpace)while(t>0&&t<i.length&&i[t-1].literal)t--;if(t==0||!this._backSpace)while(t<i.length&&i[t].literal)t++;n.getActiveElement()==this._tbx&&n.setSelectionRange(this._tbx,t);this._backSpace=!1},i.prototype._parseMask=function(){var r,o,f,i,e,u,s;for(this._mskArr=[],this._firstPos=-1,this._lastPos=-1,r=this._msk,o='|',i=0;r&&i<r.length;i++)switch(r[i]){case'0':case'9':case'#':case'A':case'a':case'L':case'l':case'\uff19':case'\uff2a':case'\uff27':case'\uff2b':case'\uff2e':case'\uff3a':case'K':case'N':case'H':this._firstPos<0&&(this._firstPos=this._mskArr.length);this._lastPos=this._mskArr.length;this._mskArr.push(new t(r[i],o));break;case'.':case',':case':':case'/':case'$':switch(r[i]){case'.':case',':f=n.culture.Globalize.numberFormat[r[i]];break;case':':case'/':f=n.culture.Globalize.calendar[r[i]];break;case'$':f=n.culture.Globalize.numberFormat.currency.symbol}for(u=0;u<f.length;u++)this._mskArr.push(new t(f[u]));break;case'<':case'>':case'|':o=r[i];break;case'\\':i<r.length-1&&i++;this._mskArr.push(new t(r[i]));break;default:this._mskArr.push(new t(r[i]))}for(i=0;i<this._mskArr.length;i++)if(e=this._mskArr[i],e.literal)for(u=0;u<i;u++)if(s=this._mskArr[u],s.wildCard&&this._isCharValid(s.wildCard,e.literal)){e.vague=!0;break}},i._X_DBCS_BIG_HIRA='\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096',i._X_DBCS_BIG_KATA='\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6',i._X_SBCS_BIG_KATA='\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f',i}(),t;n._MaskProvider=i;t=function(){function n(n,t){t?(this.wildCard=n,this.charCase=t):this.literal=n}return n}();n._MaskElement=t}(wijmo||(wijmo={})),function(n){'use strict';function u(){return r}function f(){return i}var r=navigator.userAgent.match(/MSIE |Trident\/|Edge\//)!=null,i,t;n.isIE=u;n.isIE9=f;document.doctype&&navigator.appVersion.indexOf('MSIE 9')>-1&&(i=!0,document.addEventListener('mousemove',function(n){if(n.which==1)for(var t=n.target;t;t=t.parentNode)if(t.attributes&&t.attributes.draggable)return t.dragDrop(),!1}));window.requestAnimationFrame||(t=0,window.requestAnimationFrame=function(n){var i=Date.now(),r=16-(i-t),u=r>0?r:0;return t=i+u,setTimeout(function(){n(t)},u)},window.cancelAnimationFrame=clearTimeout)}(wijmo||(wijmo={}))
/*
    *
    * Wijmo Library 5.20162.198
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){'use strict';var i=function(t){function i(i){var r=this,e,u,f;t.call(this,i,null,!0);this._showBtn=!0;this._autoExpand=!0;this.textChanged=new n.Event;this.isDroppedDownChanging=new n.Event;this.isDroppedDownChanged=new n.Event;e=this.getTemplate();this.applyTemplate('wj-control wj-dropdown wj-content',e,{_tbx:'input',_btn:'btn',_dropDown:'dropdown'},'input');this._elRef=this._tbx;this._createDropDown();this._updateBtn();u=this._updateFocusState.bind(this);this.addEventListener(this.dropDown,'blur',u,!0);this.addEventListener(this.dropDown,'focus',u);f=this._keydown.bind(this);this.addEventListener(this.hostElement,'keydown',f);this.addEventListener(this.dropDown,'keydown',f);this.addEventListener(this._tbx,'keypress',function(n){n.keyCode==9787&&r._altDown&&n.preventDefault()});this.addEventListener(this._tbx,'input',function(){r._setText(r.text,!1)});this.addEventListener(this._tbx,'click',function(){r._autoExpand&&r._expandSelection()});n.isIE9()&&this.addEventListener(this._tbx,'keyup',function(){r._setText(r.text,!1)});this.addEventListener(this._btn,'click',this._btnclick.bind(this));this.addEventListener(this._dropDown,'click',function(n){n.stopPropagation()})}return __extends(i,t),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&this._setText(n,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"required",{get:function(){return n._deprecated('required','isRequired'),this.isRequired},set:function(t){n._deprecated('required','isRequired');this.isRequired=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDroppedDown",{get:function(){return this._dropDown.style.display!='none'},set:function(t){if(t=n.asBoolean(t)&&!this.isDisabled&&!this.isReadOnly,t!=this.isDroppedDown&&this.onIsDroppedDownChanging(new n.CancelEventArgs)){var i=this._dropDown;t?(i.style.minWidth||(i.style.minWidth=this.hostElement.getBoundingClientRect().width+'px'),i.style.display='block',this._updateDropDown()):(this.containsFocus()&&(this.isTouching&&this.showDropDownButton?this.focus():this.selectAll()),n.hidePopup(i));this._updateFocusState();this.onIsDroppedDownChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(n.removeClass(this._dropDown,this._cssClass),this._cssClass=n.asString(t),n.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=n.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){this._elRef==this._tbx&&n.setSelectionRange(this._tbx,0,this.text.length)},i.prototype.onTextChanged=function(n){this._updateState();this.textChanged.raise(this,n)},i.prototype.onIsDroppedDownChanging=function(n){return this.isDroppedDownChanging.raise(this,n),!n.cancel},i.prototype.onIsDroppedDownChanged=function(t){var i=this;this.removeEventListener(document,'mousedown');this.removeEventListener(document,'keydown');this.isDroppedDown&&!this.containsFocus()&&(this.addEventListener(document,'mousedown',function(t){n.contains(i.dropDown,t.target)||n.contains(i.hostElement,t.target)||(i.isDroppedDown=!1)}),this.addEventListener(document,'keydown',function(){i.containsFocus()||(i.isDroppedDown=!1)}));this.isDroppedDownChanged.raise(this,t)},i.prototype.onGotFocus=function(n){this.isTouching||this.selectAll();t.prototype.onGotFocus.call(this,n)},i.prototype.onLostFocus=function(n){this._commitText();this.containsFocus()||(this.isDroppedDown=!1);t.prototype.onLostFocus.call(this,n)},i.prototype.containsFocus=function(){return t.prototype.containsFocus.call(this)||n.contains(this._dropDown,n.getActiveElement())},i.prototype.dispose=function(){this.isDroppedDown=!1;t.prototype.dispose.call(this)},i.prototype.refresh=function(i){if(i===void 0&&(i=!0),t.prototype.refresh.call(this,i),this.isDroppedDown&&getComputedStyle(this.hostElement).display!='none'){var r=n.getActiveElement();n.showPopup(this._dropDown,this.hostElement,!1,!1,this.dropDownCssClass==null);r instanceof HTMLElement&&r!=n.getActiveElement()&&r.focus()}},i.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},i.prototype._expandSelection=function(){var r=this._tbx,i=r.value,n=r.selectionStart,t=r.selectionEnd,u;if(i&&n==t&&(u=this._getCharType(i,n),u>-1)){for(;t<i.length;t++)if(this._getCharType(i,t)!=u)break;for(;n>0;n--)if(this._getCharType(i,n-1)!=u)break;n!=t&&r.setSelectionRange(n,t)}},i.prototype._getCharType=function(n,t){var i=n[t];return i>='0'&&i<='9'?0:i>='a'&&i<='z'||i>='A'&&i<='Z'?1:-1},i.prototype._keydown=function(t){if(!t.defaultPrevented){this._altDown=t.altKey;switch(t.keyCode){case n.Key.Tab:case n.Key.Escape:case n.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.preventDefault());break;case n.Key.F4:case n.Key.Down:case n.Key.Up:(t.keyCode==n.Key.F4||t.altKey)&&n.contains(document.body,this.hostElement)&&(this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),t.preventDefault())}}},i.prototype._btnclick=function(){this.isDroppedDown=!this.isDroppedDown},i.prototype._setText=function(n){n==null&&(n='');n=n.toString();n!=this._tbx.value&&(this._tbx.value=n);n!=this._oldText&&(this._oldText=n,this.onTextChanged())},i.prototype._updateBtn=function(){this._btn.tabIndex=-1;this._btn.style.display=this._showBtn?'':'none'},i.prototype._createDropDown=function(){},i.prototype._commitText=function(){},i.prototype._updateDropDown=function(){this.isDroppedDown&&(this._commitText(),n.showPopup(this._dropDown,this.hostElement,!1,!1,this.dropDownCssClass==null))},i.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span wj-part="btn" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-down"><\/span><\/button><\/span><\/div><\/div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100"><\/div><\/div>',i}(n.Control);t.DropDown=i})(t=n.input||(n.input={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Day=1]="Day";n[n.Month=2]="Month"})(t.DateSelectionMode||(t.DateSelectionMode={}));var i=t.DateSelectionMode,r=function(r){function u(t,u){r.call(this,t);this._readOnly=!1;this._selMode=i.Day;this.valueChanged=new n.Event;this.displayMonthChanged=new n.Event;this.formatItem=new n.Event;this._value=n.DateTime.newDate();this._currMonth=this._getMonth(this._value);this._createChildren();this.refresh(!0);this.addEventListener(this.hostElement,'mouseup',this._click.bind(this));this.addEventListener(this.hostElement,'keydown',this._keydown.bind(this));this.initialize(u)}return __extends(u,r),Object.defineProperty(u.prototype,"value",{get:function(){return this._value},set:function(t){var i,r;t=n.asDate(t,!0);t&&(this._min!=null&&(i=n.DateTime.fromDateTime(this._min,t),t<i&&(t=i)),this._max!=null&&t>this._max&&(r=n.DateTime.fromDateTime(this._max,t),t>r&&(t=r)));this._valid(t)&&(this.displayMonth=this._getMonth(t),n.DateTime.equals(this._value,t)||(this._value=t,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._min},set:function(t){t!=this.min&&(this._min=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"max",{get:function(){return this._max},set:function(t){t!=this.max&&(this._max=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){var r,u;t!=this._selMode&&(this._selMode=n.asEnum(t,i),r=this._monthMode(),r&&(this.monthView=!1),u=this._btnMth.querySelector('.wj-glyph-down'),u&&(u.style.display=r?'none':''))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if(t=n.asNumber(t,!0),t&&(t>6||t<0))throw'firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).';this._fdw=t;this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(t){n.DateTime.equals(this.displayMonth,t)||(t=n.asDate(t),this._monthInValidRage(t)&&(this._currMonth=this._getMonth(t),this.invalidate(!0),this.onDisplayMonthChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showHeader",{get:function(){return this._tbHdr.style.display!='none'},set:function(t){this._tbHdr.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"monthView",{get:function(){return this._tbMth.style.display!='none'},set:function(n){n!=this.monthView&&(this._tbMth.style.display=n?'':'none',this._tbYr.style.display=n?'none':'')},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},u.prototype.onDisplayMonthChanged=function(n){this.displayMonthChanged.raise(this,n)},u.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},u.prototype.refresh=function(i){var o,e,u,s,l,c,a,h,f;for(i===void 0&&(i=!0),s=this.displayMonth,l=this.firstDayOfWeek!=null?this.firstDayOfWeek:n.Globalize.getFirstDayOfWeek(),r.prototype.refresh.call(this,i),this._firstDay=n.DateTime.addDays(s,-(s.getDay()-l+7)%7),n.setText(this._spMth,n.Globalize.format(s,'y')),o=this._tbMth.querySelectorAll('td'),f=0;f<7&&f<o.length;f++)u=n.DateTime.addDays(this._firstDay,f),n.setText(o[f],n.Globalize.format(u,'ddd'));for(f=7;f<o.length;f++)if(e=o[f],u=n.DateTime.addDays(this._firstDay,f-7),n.setText(e,u.getDate().toString()),e.className='',c=!this._valid(u),n.toggleClass(e,'wj-state-invalid',c),n.toggleClass(e,'wj-state-selected',n.DateTime.sameDate(u,this.value)),n.toggleClass(e,'wj-day-today',n.DateTime.sameDate(u,new Date)),n.toggleClass(e,'wj-day-othermonth',c||u.getMonth()!=s.getMonth()||!this._inValidRange(u)),this.itemFormatter&&this.itemFormatter(u,e),this.formatItem.hasHandlers){a=new t.FormatItemEventArgs(f,u,e);this.onFormatItem(a)}for(h=this._tbMth.querySelectorAll('tr'),h.length&&(u=n.DateTime.addDays(this._firstDay,28),h[h.length-2].style.display=u.getMonth()==s.getMonth()?'':'none',u=n.DateTime.addDays(this._firstDay,35),h[h.length-1].style.display=u.getMonth()==s.getMonth()?'':'none'),o=this._tbYr.querySelectorAll('td'),o.length&&n.setText(o[0],s.getFullYear().toString()),f=1;f<o.length;f++)e=o[f],u=new Date(s.getFullYear(),f-1,1),n.setText(e,n.Globalize.format(u,'MMM')),e.className='',n.toggleClass(e,'wj-state-disabled',!this._monthInValidRage(u)),n.toggleClass(e,'wj-state-selected',this._sameMonth(u,this.value))},u.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=i.None},u.prototype._valid=function(n){return this.itemValidator&&n?this.itemValidator(n):!0},u.prototype._inValidRange=function(t){return this.min&&t<n.DateTime.fromDateTime(this.min,t)?!1:this.max&&t>n.DateTime.fromDateTime(this.max,t)?!1:!0},u.prototype._monthInValidRage=function(t){var i=t.getFullYear(),r=t.getMonth(),u=new Date(i,r,1),f=n.DateTime.addDays(new Date(i,r+1),-1);return this._inValidRange(u)||this._inValidRange(f)},u.prototype._sameMonth=function(t,i){return n.isDate(t)&&n.isDate(i)&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear()},u.prototype._createChildren=function(){var f=this.getTemplate(),n,i,t,r,u;for(this.applyTemplate('wj-control wj-calendar',f,{_tbHdr:'tbl-header',_btnMth:'btn-month',_spMth:'span-month',_btnPrv:'btn-prev',_btnTdy:'btn-today',_btnNxt:'btn-next',_tbMth:'tbl-month',_tbYr:'tbl-year'}),n=this._createElement('tr',this._tbMth,'wj-header'),t=0;t<7;t++)this._createElement('td',n);for(i=0;i<6;i++)for(n=this._createElement('tr',this._tbMth),t=0;t<7;t++)this._createElement('td',n);for(n=this._createElement('tr',this._tbYr,'wj-header'),this._createElement('td',n).setAttribute('colspan','4'),r=0;r<3;r++)for(n=this._createElement('tr',this._tbYr),u=0;u<4;u++)this._createElement('td',n)},u.prototype._createElement=function(t,i,r){var u=document.createElement(t);return i&&i.appendChild(u),r&&n.addClass(u,r),u},u.prototype._click=function(t){var r=!1,i=t.target,u;n.contains(this._btnMth,i)&&!this._monthMode()?(this.monthView=!this.monthView,r=!0):n.contains(this._btnPrv,i)?(this._navigate(-1),r=!0):n.contains(this._btnNxt,i)?(this._navigate(1),r=!0):n.contains(this._btnTdy,i)&&(this._navigate(0),r=!0);i&&!r&&(i=n.closest(i,'TD'),i&&(this.monthView?(u=this._getCellIndex(this._tbMth,i),u>6&&this._canChangeValue()&&(this.value=n.DateTime.fromDateTime(n.DateTime.addDays(this._firstDay,u-7),this.value),r=!0)):(u=this._getCellIndex(this._tbYr,i),u>0&&(this.displayMonth=new Date(this.displayMonth.getFullYear(),u-1,1),this._monthMode()?this._canChangeValue()&&(this.value=n.DateTime.fromDateTime(this.displayMonth,this.value)):this.monthView=!0,r=!0))));r&&(t.preventDefault(),this.focus())},u.prototype._getCellIndex=function(n,t){for(var r=n.querySelectorAll('TD'),i=0;i<r.length;i++)if(r[i]==t)return i;return-1},u.prototype._keydown=function(t){var u;if(!t.defaultPrevented&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey){var r=0,i=0,f=!0;if(this.monthView)switch(t.keyCode){case n.Key.Left:r=-1;break;case n.Key.Right:r=1;break;case n.Key.Up:r=-7;break;case n.Key.Down:r=7;break;case n.Key.PageDown:i=1;break;case n.Key.PageUp:i=-1;break;default:f=!1}else switch(t.keyCode){case n.Key.Left:i=-1;break;case n.Key.Right:i=1;break;case n.Key.Up:i=-4;break;case n.Key.Down:i=4;break;case n.Key.PageDown:i=12;break;case n.Key.PageUp:i=-12;break;case n.Key.Enter:this._monthMode()?f=!1:this.monthView=!0;break;default:f=!1}this.value&&this._canChangeValue()&&(r||i)&&(u=this.value,u=n.DateTime.addDays(u,r),u=n.DateTime.addMonths(u,i),this.value=n.DateTime.fromDateTime(u,this.value));f&&t.preventDefault()}},u.prototype._getMonth=function(n){return n||(n=new Date),new Date(n.getFullYear(),n.getMonth(),1)},u.prototype._monthMode=function(){return this.selectionMode==i.Month},u.prototype._navigate=function(t){var r=this.monthView,i;switch(t){case 0:i=new Date;r?this._canChangeValue()&&(this.value=n.DateTime.fromDateTime(i,this.value)):this._monthMode()&&this._canChangeValue()&&(this.value=this._getMonth(i));this.displayMonth=this._getMonth(i);break;case 1:this.displayMonth=n.DateTime.addMonths(this.displayMonth,r?1:12);break;case-1:this.displayMonth=n.DateTime.addMonths(this.displayMonth,r?-1:-12)}},u.controlTemplate='<div class="wj-calendar-outer wj-content"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select"><span wj-part="span-month"><\/span> <span class="wj-glyph-down"><\/span><\/div><div class="wj-btn-group"><button type="button" wj-part="btn-prev" class="wj-btn wj-btn-default"><span class="wj-glyph-left"><\/span><\/button><button type="button" wj-part="btn-today" class="wj-btn wj-btn-default"><span class="wj-glyph-circle"><\/span><\/button><button type="button" wj-part="btn-next" class="wj-btn wj-btn-default"><span class="wj-glyph-right"><\/span><\/button><\/div><\/div><table wj-part="tbl-month" class="wj-calendar-month"/><table wj-part="tbl-year" class="wj-calendar-year" style="display:none"/><\/div>',u}(n.Control);t.Calendar=r})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(r,u){var e=this,f,o,s;t.call(this,r);this._hsb=[.5,1,1];this._alpha=1;this.valueChanged=new n.Event;f=this.getTemplate();this.applyTemplate('wj-control wj-colorpicker wj-content',f,{_eSB:'div-sb',_eHue:'div-hue',_eAlpha:'div-alpha',_ePreview:'div-pv',_ePal:'div-pal',_eText:'div-text'});this._palette='#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0'.split(',');this._updatePalette();this._eHue.style.backgroundImage='url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)';this._eHue.style.backgroundSize='contain';navigator.appVersion.indexOf('MSIE 9')>-1&&(this._eSB.children[0].style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)',this._eSB.children[1].style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)');f=i._tplCursor;this._cSB=n.createElement(f);this._cHue=n.createElement(f);this._cHue.style.width='100%';this._cAlpha=n.createElement(f);this._cAlpha.style.height='100%';this._eSB.appendChild(this._cSB);this._eHue.appendChild(this._cHue);this._eAlpha.appendChild(this._cAlpha);this.addEventListener(this.hostElement,'mousedown',function(n){document.addEventListener('mousemove',o);document.addEventListener('mouseup',s);e._mouseDown(n)});o=function(n){e._mouseMove(n)};s=function(n){document.removeEventListener('mousemove',o);document.removeEventListener('mouseup',s);e._mouseUp(n)};this.addEventListener(this.hostElement,'click',function(t){var i=t.target,r;i&&i.tagName=='DIV'&&n.contains(e._ePal,i)&&(r=i.style.backgroundColor,r&&(e.value=new n.Color(r).toString()))});this.value='#ffffff';this.initialize(u);this._updatePanels()}return __extends(i,t),Object.defineProperty(i.prototype,"showAlphaChannel",{get:function(){return this._eAlpha.parentElement.style.display!='none'},set:function(t){this._eAlpha.parentElement.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showColorString",{get:function(){return this._eText.style.display!='none'},set:function(t){this._eText.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){this._value=n.asString(t);this._eText.innerText=this._value;var r=new n.Color(this._value),i=r.getHsb();(this._hsb[0]!=i[0]||this._hsb[1]!=i[1]||this._hsb[2]!=i[2]||this._alpha!=r.a)&&(i[2]==0?(i[0]=this._hsb[0],i[1]=this._hsb[1]):i[1]==0&&(i[0]=this._hsb[0]),this._hsb=i,this._alpha=r.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"palette",{get:function(){return this._palette},set:function(t){var i,r;for(t=n.asArray(t),i=0;i<t.length&&i<this._palette.length;i++)r=n.asString(t[i]),this._palette[i]=r;this._updatePalette()},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this._updatePanels();this.valueChanged.raise(this,n)},i.prototype._mouseDown=function(n){this._htDown=this._getTargetPanel(n);this._htDown&&(n.preventDefault(),this.focus(),this._mouseMove(n))},i.prototype._mouseMove=function(t){if(this._htDown){var i=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=n.clamp((t.clientY-i.top)/i.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=n.clamp((t.clientX-i.left)/i.width,0,1),this._hsb[2]=n.clamp(1-(t.clientY-i.top)/i.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=n.clamp((t.clientX-i.left)/i.width,0,1),this._updateColor())}},i.prototype._mouseUp=function(){this._htDown=null},i.prototype._updateColor=function(){var t=n.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString();this._updatePanels()},i.prototype._updatePalette=function(){var o=new n.Color('#fff'),s=new n.Color('#000'),r,t,e;for(this._ePal.innerHTML='',r=0;r<this._palette.length;r++){var u=n.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),i=new n.Color(this._palette[r]),f=i.getHsb();for(u.appendChild(this._makePalEntry(i,4)),t=0;t<5;t++)f[1]==0?(e=t*.1+(f[2]>.5?.05:.55),i=n.Color.interpolate(o,s,e)):i=n.Color.fromHsb(f[0],.1+t*.2,1-t*.1),u.appendChild(this._makePalEntry(i,0));this._ePal.appendChild(u)}},i.prototype._makePalEntry=function(t,i){var r=document.createElement('div');return n.setCss(r,{cursor:'pointer',backgroundColor:t.toString(),marginBottom:i?i:''}),r.innerHTML='&nbsp',r},i.prototype._updatePanels=function(){var i=n.Color.fromHsb(this._hsb[0],1,1,1),t=n.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=i.toString();this._eAlpha.style.background='linear-gradient(to right, transparent 0%, '+t.toString()+' 100%)';navigator.appVersion.indexOf('MSIE 9')>-1&&(this._eAlpha.style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr='+t.toString()+', GradientType = 1)');this._ePreview.style.backgroundColor=this.value;this._cHue.style.top=(this._hsb[0]*100).toFixed(0)+'%';this._cSB.style.left=(this._hsb[1]*100).toFixed(0)+'%';this._cSB.style.top=(100-this._hsb[2]*100).toFixed(0)+'%';this._cAlpha.style.left=(this._alpha*100).toFixed(0)+'%'},i.prototype._getTargetPanel=function(t){var i=t.target;return n.contains(this._eSB,i)?this._eSB:n.contains(this._eHue,i)?this._eHue:n.contains(this._eAlpha,i)?this._eAlpha:null},i.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;<\/div><div style="height:6px"><\/div><\/div><\/div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"><\/div><\/div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"><\/div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"><\/div><\/div><div style="float:left;width:1%;height:89%"><\/div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"><\/div><\/div><div style="float:left;width:89%;height:1%"><\/div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"><\/div><\/div><\/div><div style="float:left;width:1%;height:10%"><\/div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"><\/div><\/div><\/div><\/div>',i._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',i}(n.Control);t.ColorPicker=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r=function(t){function r(i,r){t.call(this,i);this._html=!1;this._checkedItems=[];this._search='';this.selectedIndexChanged=new n.Event;this.itemsChanged=new n.Event;this.loadingItems=new n.Event;this.loadedItems=new n.Event;this.itemChecked=new n.Event;this.checkedItemsChanged=new n.Event;this.formatItem=new n.Event;this.applyTemplate('wj-control wj-listbox wj-content',null,null);this._orgTag=='SELECT'&&this._populateSelectElement(this.hostElement);var u=this.hostElement;this.addEventListener(u,'click',this._click.bind(this));this.addEventListener(u,'keydown',this._keydown.bind(this));this.addEventListener(u,'keypress',this._keypress.bind(this));this.addEventListener(u,'wheel',function(n){u.scrollHeight>u.offsetHeight&&(n.deltaY<0&&u.scrollTop==0||n.deltaY>0&&u.scrollTop+u.offsetHeight>=u.scrollHeight)&&(n.preventDefault(),n.stopPropagation())});this.initialize(r)}return __extends(r,t),r.prototype.refresh=function(){t.prototype.refresh.call(this);(this.displayMemberPath||!this.checkedMemberPath)&&this._populateList()},Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=n.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._pathDisplay},set:function(t){t!=this._pathDisplay&&(this._pathDisplay=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._pathValue},set:function(t){this._pathValue=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"checkedMemberPath",{get:function(){return this._pathChecked},set:function(t){t!=this._pathChecked&&(this._pathChecked=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),r.prototype.getDisplayValue=function(t){var i=null,r;return t>-1&&n.hasItems(this._cv)&&(i=this._cv.items[t],this.displayMemberPath&&(i=i[this.displayMemberPath])),r=i!=null?i.toString():'',this.itemFormatter&&(r=this.itemFormatter(t,r)),r},r.prototype.getDisplayText=function(n){var t=this.hostElement.children,i=n>-1&&n<t.length?t[n]:null;return i!=null?i.textContent:''},Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(n){this._cv&&this._cv.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){var n=this.selectedItem;return n&&this.selectedValuePath&&(n=n[this.selectedValuePath]),n},set:function(n){var i=this.selectedValuePath,u=-1,t,r;if(this._cv){for(t=0;t<this._cv.items.length;t++)if(r=this._cv.items[t],i&&r[i]==n||!i&&r==n){u=t;break}this.selectedIndex=u}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){var n=this.hostElement;return n?parseFloat(n.style.maxHeight):null},set:function(t){var i=this.hostElement;i&&(i.style.maxHeight=n.asNumber(t)+'px')},enumerable:!0,configurable:!0}),r.prototype.showSelection=function(){for(var u,f,i=this.selectedIndex,o=this.hostElement,r=o.children,t,e=0;e<r.length;e++)t=r[e],n.toggleClass(t,'wj-state-selected',e==i);i>-1&&i<r.length&&(t=r[i],u=t.getBoundingClientRect(),f=this.hostElement.getBoundingClientRect(),u.bottom>f.bottom?o.scrollTop+=u.bottom-f.bottom:u.top<f.top&&(o.scrollTop-=f.top-u.top));i>-1&&this.containsFocus()&&(t=r[i],t instanceof HTMLElement&&!n.contains(t,n.getActiveElement())&&t.focus())},r.prototype.getItemChecked=function(t){var r=this._cv.items[t],i;return n.isObject(r)&&this.checkedMemberPath?r[this.checkedMemberPath]:(i=this._getCheckbox(t),i?i.checked:!1)},r.prototype.setItemChecked=function(n,t){this._setItemChecked(n,t,!0)},r.prototype.toggleItemChecked=function(n){this.setItemChecked(n,!this.getItemChecked(n))},Object.defineProperty(r.prototype,"checkedItems",{get:function(){if(this._checkedItems.splice(0,this._checkedItems.length),this._cv)for(var n=0;n<this._cv.items.length;n++)this.getItemChecked(n)&&this._checkedItems.push(this._cv.items[n]);return this._checkedItems},set:function(t){var i=this._cv,u=n.asArray(t,!1),f,r,e;if(i&&u){for(f=i.currentPosition,r=0;r<i.items.length;r++)e=i.items[r],this._setItemChecked(r,u.indexOf(e)>-1,!1);i.moveCurrentToPosition(f);this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),r.prototype.onSelectedIndexChanged=function(n){this.selectedIndexChanged.raise(this,n)},r.prototype.onItemsChanged=function(n){this.itemsChanged.raise(this,n)},r.prototype.onLoadingItems=function(n){this.loadingItems.raise(this,n)},r.prototype.onLoadedItems=function(n){this.loadedItems.raise(this,n)},r.prototype.onItemChecked=function(n){this.itemChecked.raise(this,n)},r.prototype.onCheckedItemsChanged=function(n){this.checkedItemsChanged.raise(this,n)},r.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},r.prototype._setItemChecked=function(t,i,r){var u,f,e;r===void 0&&(r=!0);u=this._cv.items[t];n.isObject(u)&&(f=n.tryCast(this._cv,'IEditableCollectionView'),u[this.checkedMemberPath]!=i&&(this._checking=!0,f?(f.editItem(u),u[this.checkedMemberPath]=i,f.commitEdit()):(u[this.checkedMemberPath]=i,this._cv.refresh()),this._checking=!1));e=this._getCheckbox(t);e&&e.checked!=i&&(e.checked=i);r&&(this.onItemChecked(),this.onCheckedItemsChanged())},r.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},r.prototype._cvCurrentChanged=function(){this.showSelection();this.onSelectedIndexChanged()},r.prototype._populateList=function(){var f=this.hostElement,e,t,u,o,r,s;if(f){if(e=this.containsFocus(),this.onLoadingItems(),f.innerHTML='',this._cv)for(t=0;t<this._cv.items.length;t++){if(u=this.getDisplayValue(t),this._html!=!0&&(u=n.escapeHtml(u)),this.checkedMemberPath&&(o=this._cv.items[t][this.checkedMemberPath],u='<label><input type="checkbox"'+(o?' checked':'')+'> '+u+'</label>'),r=document.createElement('div'),r.innerHTML=u,r.className='wj-listbox-item',n.hasClass(r.firstChild,'wj-separator')&&(r.className+=' wj-separator'),this.formatItem.hasHandlers){s=new i(t,this._cv.items[t],r);this.onFormatItem(s)}f.appendChild(r)}f.children.length==0&&f.appendChild(document.createElement('div'));e&&!this.containsFocus()&&this.focus();this.showSelection();this.onLoadedItems()}},r.prototype._click=function(t){for(var r,u=this.hostElement.children,i=0;i<u.length;i++)if(n.contains(u[i],t.target)){this.selectedIndex=i;break}this.checkedMemberPath&&this.selectedIndex>-1&&(r=this._getCheckbox(this.selectedIndex),r==t.target&&this.setItemChecked(this.selectedIndex,r.checked))},r.prototype._keydown=function(t){var i,u,s;if(!t.defaultPrevented&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey){var r=this.selectedIndex,o=this.hostElement,f=o.children;switch(t.keyCode){case n.Key.Down:t.preventDefault();r<f.length-1&&this.selectedIndex++;break;case n.Key.Up:t.preventDefault();r>0&&this.selectedIndex--;break;case n.Key.Home:t.preventDefault();this.selectedIndex=0;break;case n.Key.End:t.preventDefault();this.selectedIndex=f.length-1;break;case n.Key.PageDown:if(t.preventDefault(),this.selectedIndex>-1){var r=this.selectedIndex,h=o.offsetHeight,e=0;for(i=r+1;i<this._cv.items.length;i++){if(u=f[i].scrollHeight,e+u>h){this.selectedIndex=i;break}e+=u}this.selectedIndex==r&&this._cv.moveCurrentToLast()}break;case n.Key.PageUp:if(t.preventDefault(),this.selectedIndex>-1){var r=this.selectedIndex,h=o.offsetHeight,e=0;for(i=r-1;i>0;i--){if(u=f[i].scrollHeight,e+u>h){this.selectedIndex=i;break}e+=u}this.selectedIndex==r&&this._cv.moveCurrentToFirst()}break;case n.Key.Space:this.checkedMemberPath&&this.selectedIndex>-1&&(s=this._getCheckbox(this.selectedIndex),s&&(this.hostElement.focus(),this.setItemChecked(this.selectedIndex,!s.checked),t.preventDefault()))}}},r.prototype._keypress=function(n){var u=this,i,t,r,f;if(!n.defaultPrevented&&!(n.target instanceof HTMLInputElement)&&(n.charCode>32||n.charCode==32&&this._search)&&(n.preventDefault(),this._search+=String.fromCharCode(n.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){u._toSearch=0;u._search=''},600),this.hostElement))for(i=this.hostElement.childElementCount,t=this._search.length>1?0:1;t<i;t++)if(r=(this.selectedIndex+t)%i,f=this.getDisplayText(r).trim().toLowerCase(),f.indexOf(this._search)==0){this.selectedIndex=r;break}},r.prototype._getCheckbox=function(n){if(!this.hostElement)return null;var t=this.hostElement.children[n];return t.querySelector('input[type=checkbox]')},r.prototype._populateSelectElement=function(n){for(var t,u=n.children,i=[],f=-1,r=0;r<u.length;r++)t=u[r],t.tagName=='OPTION'&&(t.hasAttribute('selected')&&(f=i.length),t.innerHTML?i.push({hdr:t.innerHTML,val:t.getAttribute('value'),cmdParam:t.getAttribute('cmd-param')}):i.push({hdr:'<div class="wj-separator"/>'}),n.removeChild(t),r--);i&&(this.displayMemberPath='hdr',this.selectedValuePath='val',this.itemsSource=i,this.selectedIndex=f)},r}(n.Control),i;t.ListBox=r;i=function(t){function i(i,r,u){t.call(this);this._index=n.asNumber(i);this._data=r;this._item=n.asType(u,HTMLElement)}return __extends(i,t),Object.defineProperty(i.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),i}(n.EventArgs);t.FormatItemEventArgs=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(t,r){var u=this;i.call(this,t);this._editable=!1;this._composing=!1;this._deleting=!1;this._settingText=!1;this.selectedIndexChanged=new n.Event;n.addClass(this.hostElement,'wj-combobox');this.autoExpandSelection=!1;this.addEventListener(this._tbx,'compositionstart',function(){u._composing=!0});this.addEventListener(this._tbx,'compositionend',function(){u._composing=!1;setTimeout(function(){u._setText(u.text,!0)})});this.addEventListener(this.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!u.isDroppedDown&&!u.isReadOnly&&u.containsFocus()&&u.selectedIndex>-1){var i=n.clamp(-t.deltaY,-1,1);u.selectedIndex=n.clamp(u.selectedIndex-i,0,u.collectionView.items.length-1);t.preventDefault()}});this._orgTag=='SELECT'&&this._lbx._populateSelectElement(this.hostElement);this.isRequired=!0;this.initialize(r)}return __extends(r,i),Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(n){this._lbx.itemsSource=n;this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(n){this._lbx.displayMemberPath=n;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"headerPath",{get:function(){return this._hdrPath},set:function(t){this._hdrPath=n.asString(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(n){this._lbx.selectedValuePath=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=n.asBoolean(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=n.asFunction(t);this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(n){n!=this.selectedIndex&&(this._lbx.selectedIndex=n);var t=this.getDisplayText(n);this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(n){this._lbx.selectedItem=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(n){this._lbx.selectedValue=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownWidth",{get:function(){var n=this._dropDown;return parseInt(n.style.maxWidth)},set:function(t){var i=this._dropDown;i.style.maxWidth=n.asNumber(t)+'px'},enumerable:!0,configurable:!0}),r.prototype.getDisplayText=function(t){if(t===void 0&&(t=this.selectedIndex),this.headerPath&&t>-1&&n.hasItems(this.collectionView)){var r=this.collectionView.items[t][this.headerPath],i=r!=null?r.toString():'';return this.isContentHtml&&(this._cvt||(this._cvt=document.createElement('div')),this._cvt.innerHTML=i,i=this._cvt.textContent),i}return this._lbx.getDisplayText(t)},r.prototype.onSelectedIndexChanged=function(n){this._updateBtn();this.selectedIndexChanged.raise(this,n)},r.prototype.indexOf=function(t,i){var f=this.collectionView,r,u;if(n.hasItems(f)&&t){if(i&&this.selectedIndex>-1&&t==this.getDisplayText(this.selectedIndex))return this.selectedIndex;for(t=t.toString().toLowerCase(),r=0;r<f.items.length;r++)if(u=this.getDisplayText(r).toLowerCase(),i){if(u==t)return r}else if(t&&u.indexOf(t)==0)return r}return-1},Object.defineProperty(r.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),r.prototype.refresh=function(t){i.prototype.refresh.call(this,t);n.hasItems(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},r.prototype.onLostFocus=function(t){this.isEditable&&this.isRequired&&!this.text&&n.hasItems(this.collectionView)&&(this.selectedIndex=0);i.prototype.onLostFocus.call(this,t)},r.prototype.onIsDroppedDownChanging=function(t){return n.hasItems(this.collectionView)?i.prototype.onIsDroppedDownChanging.call(this,t):!1},r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&(this._lbx.showSelection(),this.isTouching||this.selectAll())},r.prototype._updateBtn=function(){var t=this.collectionView;this._btn.style.display=this._showBtn&&n.hasItems(t)?'':'none'},r.prototype._createDropDown=function(){var n=this;this._lbx=new t.ListBox(this._dropDown);this._lbx.maxHeight=200;this._lbx.selectedIndexChanged.addHandler(function(){n._updateBtn();n.selectedIndex=n._lbx.selectedIndex;n.onSelectedIndexChanged()});this._lbx.itemsChanged.addHandler(function(){n._updateBtn()});this.addEventListener(this._dropDown,'click',function(t){t.target!=n._dropDown&&(n.isDroppedDown=!1)})},r.prototype._setText=function(t,r){var f;if(!this._composing&&!this._settingText){this._settingText=!0;t==null&&(t='');t=t.toString();var u=this.selectedIndex,o=this.collectionView,e=this._getSelStart(),s=-1;if(this._deleting&&(r=!0),this._deleting?u=this.indexOf(t,!0):(u=this.indexOf(t,r),u<0&&r&&(u=this.indexOf(t,!1)),u<0&&e>0&&(u=this.indexOf(t.substr(0,e),!1))),u<0&&!this.isEditable&&n.hasItems(o)&&(this.isRequired||t))for(u=Math.max(0,this.indexOf(this._oldText,!1)),f=0;f<t.length&&f<this._oldText.length;f++)if(t[f]!=this._oldText[f]){e=f;break}u>-1&&(s=e,t=this.getDisplayText(u));o&&o.moveCurrentToPosition(u);t!=this._tbx.value&&(this._tbx.value=t);s>-1&&this.containsFocus()&&!this.isTouching&&this._setSelRange(s,t.length);i.prototype._setText.call(this,t,r);this._deleting=!1;this._settingText=!1}},r.prototype._findNext=function(n,t){var i,u,f,r;if(this.collectionView)for(n=n.toLowerCase(),i=this.collectionView.items.length,r=1;r<=i;r++)if(u=(this.selectedIndex+r*t+i)%i,f=this.getDisplayText(u).toLowerCase(),f.indexOf(n)==0)return u;return this.selectedIndex},r.prototype._keydown=function(t){var u,r;if((i.prototype._keydown.call(this,t),!t.defaultPrevented)&&this._elRef==this._tbx&&((t.keyCode==n.Key.Back||t.keyCode==n.Key.Delete)&&(this._deleting=!0),u=this.collectionView,u&&u.items))switch(t.keyCode){case n.Key.Up:case n.Key.Down:r=this._getSelStart();r==this.text.length&&(r=0);this.selectedIndex=this._findNext(this.text.substr(0,r),t.keyCode==n.Key.Up?-1:1);n.setSelectionRange(this._tbx,r,this.text.length);t.preventDefault()}},r.prototype._setSelRange=function(t,i){this._elRef==this._tbx&&n.setSelectionRange(this._tbx,t,i)},r.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},r}(t.DropDown);t.ComboBox=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){t.call(this,i);this._cssMatch='wj-autocomplete-match';this._minLength=2;this._maxItems=6;this._itemCount=0;this._delay=500;this._query='';this._inCallback=!1;this._srchProps=[];n.addClass(this.hostElement,'wj-autocomplete');this.isEditable=!0;this.isRequired=!1;this.isContentHtml=!0;this.listBox.itemFormatter=this._defaultFormatter.bind(this);this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=n.asString(t);this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){this._itemFormatter=n.asFunction(t)},enumerable:!0,configurable:!0}),i.prototype._keydown=function(i){if(!i.defaultPrevented&&this.isDroppedDown)switch(i.keyCode){case n.Key.Up:case n.Key.Down:this.selectAll()}t.prototype._keydown.call(this,i)},i.prototype._setText=function(n){var t=this;if(!this._inCallback){if(!n&&this.selectedIndex>-1&&(this.selectedIndex=-1),n!=this._oldText&&(this._tbx.value!=n&&(this._tbx.value=n),this._oldText=n,this.onTextChanged(),!n&&this.collectionView)){this.collectionView.filter=this._query=null;this.isDroppedDown=!1;return}this._toSearch&&clearTimeout(this._toSearch);n!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){t._toSearch=null;var n=t.text.trim().toLowerCase();n.length>=t._minLength&&n!=t._query&&(t._query=n,n=n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),t._rxMatch=new RegExp('(?=.*'+n.replace(/ /g,')(?=.*')+')','ig'),t._rxHighlight=new RegExp('('+n.replace(/ /g,'|')+')','ig'),t.itemsSourceFunction?t.itemsSourceFunction(n,t.maxItems,t._itemSourceFunctionCallback.bind(t)):t._updateItems())},this._delay))}},i.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var i=n.asCollectionView(t);i&&i.moveCurrentToPosition(-1);this.itemsSource=i;this.isDroppedDown=!0;this._inCallback=!1;this.refresh()},i.prototype.onIsDroppedDownChanged=function(n){this.isDroppedDownChanged.raise(this,n);this._query='';this.selectedIndex>-1?(this._setText(this.getDisplayText()),this.isTouching||this.selectAll()):this.isTouching||this._tbx.focus()},i.prototype._updateItems=function(){var n=this.collectionView;n&&(this._inCallback=!0,n.beginUpdate(),this._itemCount=0,n.filter=this._filter.bind(this),n.moveCurrentToPosition(-1),n.endUpdate(),this._inCallback=!1,this.isDroppedDown=n.items.length>0&&this.containsFocus(),n.items.length!=0||this.isEditable||(this.selectedIndex=-1),this.refresh())},i.prototype._filter=function(n){var t,i;if(this._itemCount>=this._maxItems)return!1;if(t=n?n.toString():'',this.displayMemberPath)for(t=n[this.displayMemberPath],i=0;i<this._srchProps.length;i++)t+='\0'+n[this._srchProps[i]];return this._rxMatch.test(t)?(this._itemCount++,!0):!1},i.prototype._defaultFormatter=function(n,t){if(this._itemFormatter&&(t=this._itemFormatter(n,t)),this._rxHighlight&&this._cssMatch){var i='<span class="'+this._cssMatch+'">$1</span>';t=t.replace(this._rxHighlight,i)}return t},i}(t.ComboBox);t.AutoComplete=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=this,f;t.call(this,i);this.itemClicked=new n.Event;n.addClass(this.hostElement,'wj-menu');this._tbx.style.display='none';f='<div wj-part="header" class="wj-form-control" style="cursor:default"/>';this._hdr=n.createElement(f);this._tbx.parentElement.insertBefore(this._hdr,this._tbx);this._elRef=this._hdr;this.isRequired=!1;this._orgTag=='SELECT'&&(this.header=this.hostElement.getAttribute('header'),this._lbx.itemsSource&&(this.commandParameterPath='cmdParam'));this.isContentHtml=!0;this.maxDropDownHeight=500;this.addEventListener(this._hdr,'click',function(){u._isButton?(u.isDroppedDown=!1,u._raiseCommand(n.EventArgs.empty)):u.isDroppedDown=!u.isDroppedDown});this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"command",{get:function(){return this._command},set:function(n){this._command=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=n.asType(t,HTMLElement,!0);this._enableDisableItems()},enumerable:!0,configurable:!0}),i.prototype.onItemClicked=function(n){this.itemClicked.raise(this,n)},i.prototype.onTextChanged=function(n){t.prototype.onTextChanged.call(this,n);!this._closing&&this.isDroppedDown&&this._raiseCommand(n)},i.prototype.onIsDroppedDownChanged=function(n){t.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown?(this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1):this.selectedItem||(this.selectedItem=this._defaultItem)},i.prototype._raiseCommand=function(n){var r=this.selectedItem,t=this._getCommand(r),i;if(t){if(i=this._cmdParamPath?r[this._cmdParamPath]:null,!this._canExecuteCommand(t,i))return;this._executeCommand(t,i)}this.onItemClicked(n)},i.prototype._getCommand=function(n){var t=n&&this.commandPath?n[this.commandPath]:null;return t?t:this.command},i.prototype._executeCommand=function(t,i){t&&!n.isFunction(t)&&(t=t.executeCommand);n.isFunction(t)&&t(i)},i.prototype._canExecuteCommand=function(t,i){if(t){var r=t.canExecuteCommand;if(n.isFunction(r))return r(i)}return!0},i.prototype._enableDisableItems=function(){var i,t,r,u,f;if(this.collectionView&&(this.command||this.commandPath))for(i=this.collectionView.items,t=0;t<i.length;t++)r=this._getCommand(i[t]),u=this.commandParameterPath?i[t][this.commandParameterPath]:null,r&&(f=this._lbx.hostElement.children[t],n.toggleClass(f,'wj-state-disabled',!this._canExecuteCommand(r,u)))},i}(t.ComboBox);t.Menu=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};wijmo.culture.MultiSelect={itemsSelected:'{count:n0} items selected'},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=this;t.call(this,i);this._maxHdrItems=2;this._readOnly=!1;this._hdrFmt=n.culture.MultiSelect.itemsSelected;this.checkedItemsChanged=new n.Event;n.addClass(this.hostElement,'wj-multiselect');this._tbx.readOnly=!0;this.checkedMemberPath=null;this.addEventListener(this.inputElement,'click',function(){u.isDroppedDown=!u.isDroppedDown});this.removeEventListener(this.dropDown,'click');this._updateHeader();this.listBox.itemsChanged.addHandler(function(){u._updateHeader()});this.listBox.checkedItemsChanged.addHandler(function(){u._updateHeader();u.onCheckedItemsChanged()});this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"checkedMemberPath",{get:function(){var n=this.listBox.checkedMemberPath;return n!=i._DEF_CHECKED_PATH?n:null},set:function(t){t=n.asString(t);this.listBox.checkedMemberPath=t?t:i._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=n.asNumber(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=n.asString(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=n.asFunction(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=n.asArray(t)},enumerable:!0,configurable:!0}),i.prototype.onCheckedItemsChanged=function(n){this.checkedItemsChanged.raise(this,n)},Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype.refresh=function(n){n===void 0&&(n=!0);t.prototype.refresh.call(this,n);this._updateHeader()},i.prototype.onIsDroppedDownChanged=function(n){t.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&this.dropDown.focus()},i.prototype._setText=function(){},i.prototype._updateHeader=function(){var t,r,i;if(this._hdrFormatter)this.inputElement.value=this._hdrFormatter();else{if(t=this.checkedItems,r='',t.length>0)if(t.length<=this._maxHdrItems){if(this.displayMemberPath)for(i=0;i<t.length;i++)t[i]=t[i][this.displayMemberPath];r=t.join(', ')}else r=n.format(this.headerFormat,{count:t.length});this.inputElement.value=r}this._updateState()},i._DEF_CHECKED_PATH='$checked',i}(t.ComboBox);t.MultiSelect=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Click=1]="Click";n[n.Blur=2]="Blur"})(t.PopupTrigger||(t.PopupTrigger={}));var i=t.PopupTrigger,r=function(t){function r(r,u){var f=this,e;t.call(this,r,null,!0);this._showTrigger=i.Click;this._hideTrigger=i.Blur;this._fadeIn=!0;this._fadeOut=!0;this._click=this._handleClick.bind(this);this._visible=!1;this.showing=new n.Event;this.shown=new n.Event;this.hiding=new n.Event;this.hidden=new n.Event;e=this.hostElement;n.addClass(e,'wj-control wj-content wj-popup');e.getAttribute('tabindex')||(e.tabIndex=0);n.hidePopup(e,!1);this.addEventListener(e,'keydown',function(t){if(!t.defaultPrevented&&(t.keyCode==n.Key.Escape&&(t.preventDefault(),f.hide()),t.keyCode==n.Key.Enter)){var i=f.dialogResultEnter;!i&&f.hostElement.querySelector('button[type=submit]')&&(i='submit');i&&(t.preventDefault(),f._validateAndHide(i))}});this.addEventListener(e,'keydown',function(t){!t.defaultPrevented&&f.modal&&t.keyCode==n.Key.Tab&&(t.preventDefault(),n.moveFocus(f.hostElement,t.shiftKey?-1:1))},!0);this.addEventListener(e,'click',function(n){var t,i,r;n.target instanceof HTMLElement&&(t=n.target,i=t.className.match(/\bwj-hide[\S]*\b/),i&&i.length>0&&(n.preventDefault(),f.hide(i[0])),t instanceof HTMLButtonElement&&(r=t.getAttribute('type'),r&&r.match(/submit/i)&&f._validateAndHide('submit')))});this.addEventListener(document,'wheel',function(n){if(f.isVisible&&f._modal){for(var t=n.target;t&&t!=document.body;t=t.parentElement)if(t.scrollHeight>t.clientHeight)return;n.preventDefault();n.stopPropagation()}});this.initialize(u)}return __extends(r,t),Object.defineProperty(r.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner&&this.removeEventListener(this._owner,'click');this._owner=t!=null?n.getElement(t):null;this._owner&&this.addEventListener(this._owner,'click',this._click,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(n){n!=this.content&&(this.hostElement.innerHTML='',n instanceof HTMLElement&&this.hostElement.appendChild(n))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=n.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=n.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResult",{get:function(){return this._result},set:function(n){this._result=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(n){this._resultEnter=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){var n=this.hostElement;return this._visible&&n&&n.style.display!='none'},enumerable:!0,configurable:!0}),r.prototype.show=function(t,i){var r=this,u,f;if(!this.isVisible&&(this.dialogResult=null,this._callback=null,u=new n.CancelEventArgs,this.onShowing(u))){t!=null&&(this.modal=n.asBoolean(t));i!=null&&(this._callback=n.asFunction(i));this._modal&&this._showBackdrop();f=this._owner?this._owner.getBoundingClientRect():null;n.showPopup(this.hostElement,f,!1,this._fadeIn);this._visible=!0;this.onShown(u);setTimeout(function(){if(!r.isTouching){var t=r.hostElement.querySelector('input[autofocus]');t&&t.clientHeight>0&&!t.disabled&&t.tabIndex>-1&&!n.closest(t,'[disabled],.wj-state-disabled')?(t.focus(),t.select()):n.moveFocus(r.hostElement,0)}r.containsFocus()||(r.hostElement.tabIndex=0,r.hostElement.focus())},200)}},r.prototype.hide=function(t){if(this.isVisible){this.dialogResult=t;var i=new n.CancelEventArgs;if(this.onHiding(i)){this._modal&&n.hidePopup(this._bkdrop,!0,this.fadeOut);n.hidePopup(this.hostElement,!0,this.fadeOut);this._visible=!1;this.onHidden(i);this._callback&&this._callback(this)}}},r.prototype.onShowing=function(n){return this.showing.raise(this,n),!n.cancel},r.prototype.onShown=function(n){this.shown.raise(this,n)},r.prototype.onHiding=function(n){return this.hiding.raise(this,n),!n.cancel},r.prototype.onHidden=function(n){this.hidden.raise(this,n)},r.prototype.dispose=function(){this._owner=null;t.prototype.dispose.call(this)},r.prototype.onLostFocus=function(n){this.isVisible&&this._hideTrigger&i.Blur&&(this.containsFocus()||this.hide());t.prototype.onLostFocus.call(this,n)},r.prototype.refresh=function(i){if(i===void 0&&(i=!0),t.prototype.refresh.call(this,i),this.isVisible&&!this._refreshing){this._refreshing=!0;var r=n.getActiveElement(),u=this._owner?this._owner.getBoundingClientRect():null;n.showPopup(this.hostElement,u);this._modal&&r instanceof HTMLElement&&r!=n.getActiveElement()&&r.focus();this._refreshing=!1}},r.prototype._handleResize=function(){this.isVisible&&this.refresh()},r.prototype._handleClick=function(){this.isVisible&&this._hideTrigger&i.Click?this.hide():!this.isVisible&&this._showTrigger&i.Click&&this.show()},r.prototype._showBackdrop=function(){var t=this;this._bkdrop||(this._bkdrop=document.createElement('div'),this._bkdrop.tabIndex=-1,n.addClass(this._bkdrop,'wj-popup-backdrop'),this.addEventListener(this._bkdrop,'mousedown',function(n){n.preventDefault();n.stopPropagation();t.hostElement.focus()}));this._bkdrop.style.display='';document.body.appendChild(this._bkdrop)},r.prototype._validateAndHide=function(n){var t=this.hostElement.querySelector(':invalid');t?t.focus():this.hide(n)},r}(n.Control);t.Popup=r})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){var f=this,e;i.call(this,r);this._format='d';this.valueChanged=new n.Event;n.addClass(this.hostElement,'wj-inputdate');this._msk=new n._MaskProvider(this._tbx);n.isIE9()||(this._tbx.type='tel');this.addEventListener(this.hostElement,'wheel',function(i){if(!i.defaultPrevented&&!f.isDroppedDown&&f.containsFocus()&&f.value!=null&&f._canChangeValue()){var r=n.clamp(-i.deltaY,-1,1);f.value=f.selectionMode==t.DateSelectionMode.Month?n.DateTime.addMonths(f.value,r):n.DateTime.addDays(f.value,r);f.selectAll();i.preventDefault()}});this.value=n.DateTime.newDate();this._orgTag=='INPUT'&&(e=this._tbx.getAttribute('value'),e&&(this.value=n.Globalize.parseDate(e,'yyyy-MM-dd')));this.isRequired=!0;this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){n.DateTime.equals(this._value,t)?this._tbx.value=n.Globalize.format(t,this.format):(t=n.asDate(t,!this.isRequired||t==null&&this._value==null),t=this._clamp(t),this._isValidDate(t)?(this._tbx.value=t?n.Globalize.format(t,this.format):'',t==this._value||n.DateTime.equals(this._value,t)||(this._value=t,this.onValueChanged())):this._tbx.value=t?n.Globalize.format(this.value,this.format):'',this.text!=this._oldText&&this.onTextChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(n){this.calendar.selectionMode=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(t){t!=this.itemValidator&&(this._calendar.itemValidator=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(t){t!=this.itemFormatter&&(this.calendar.itemFormatter=n.asFunction(t))},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype.refresh=function(){this.isDroppedDown=!1;this._msk&&this._msk.refresh();this._calendar&&this._calendar.refresh();this._tbx.value=n.Globalize.format(this.value,this.format)},r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&this.dropDown.focus()},r.prototype._createDropDown=function(){var i=this;this._calendar=new t.Calendar(this._dropDown);this._dropDown.tabIndex=-1;this._calendar.valueChanged.addHandler(function(){i.value=n.DateTime.fromDateTime(i._calendar.value,i.value)});this.addEventListener(this._dropDown,'mouseup',function(r){var u=r.target,f='.wj-calendar-'+(i.selectionMode==t.DateSelectionMode.Month?'year':'month');n.hasClass(u,'wj-state-invalid')||n.closest(u,f)==null||n.closest(u,'.wj-header')!=null?u.getAttribute('wj-part')=='btn-today'&&(i.isDroppedDown=!1):i.isDroppedDown=!1})},r.prototype._updateDropDown=function(){var n,r;this._commitText();n=this._calendar;n.value=this.value;n.min=this.min;n.max=this.max;this.selectionMode!=t.DateSelectionMode.Month&&(n.monthView=!0);r=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=parseFloat(r.fontSize)*18+'px';this._calendar.refresh();i.prototype._updateDropDown.call(this)},r.prototype._keydown=function(r){if(!r.defaultPrevented&&!r.altKey&&!r.ctrlKey&&!r.metaKey)switch(r.keyCode){case n.Key.Enter:this._commitText();this.selectAll();break;case n.Key.Escape:this.text=n.Globalize.format(this.value,this.format);this.selectAll();break;case n.Key.Up:case n.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var u=r.keyCode==n.Key.Up?1:-1;this.value=this.selectionMode==t.DateSelectionMode.Month?n.DateTime.addMonths(this.value,u):n.DateTime.addDays(this.value,u);this.selectAll();r.preventDefault()}}i.prototype._keydown.call(this,r)},r.prototype._canChangeValue=function(){return!this.isReadOnly&&this.selectionMode!=t.DateSelectionMode.None},r.prototype._clamp=function(t){var i,r;return t&&(this.min&&(i=n.DateTime.fromDateTime(this.min,t),t<i&&(t=i)),this.max&&(r=n.DateTime.fromDateTime(this.max,t),t>r&&(t=r))),t},r.prototype._commitText=function(){var i=this._tbx.value,t;i||this.isRequired?(t=n.Globalize.parseDate(i,this.format),t?this.value=n.DateTime.fromDateTime(t,this.value):this._tbx.value=n.Globalize.format(this.value,this.format)):this.value=null},r.prototype._setDate=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},r.prototype._isValidDate=function(n){return this.itemValidator&&n?this.itemValidator(n):!0},r}(t.DropDown);t.InputDate=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){if(t.call(this,i),this._format='t',this.valueChanged=new n.Event,n.addClass(this.hostElement,'wj-inputtime'),this._value=n.DateTime.newDate(),this._msk=new n._MaskProvider(this._tbx),n.isIE9()||(this._tbx.type='tel'),this._orgTag=='INPUT'){var u=this._tbx.getAttribute('value');u&&(this.value=n.Globalize.parseDate(u,'HH:mm:ss'))}this.step=15;this.autoExpandSelection=!0;this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){t=n.asDate(t,!this.isRequired);t&&(this._min!=null&&this._getTime(t)<this._getTime(this._min)&&(t=n.DateTime.fromDateTime(t,this._min)),this._max!=null&&this._getTime(t)>this._getTime(this._max)&&(t=n.DateTime.fromDateTime(t,this._max)));this._setText(t?n.Globalize.format(t,this.format):'',!0);t==this._value||n.DateTime.equals(t,this._value)||(this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format),this.collectionView&&this.collectionView.items.length&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.refresh=function(){this.isDroppedDown=!1;this._msk.refresh();this._tbx.value=n.Globalize.format(this.value,this.format);this._updateItems()},i.prototype.onSelectedIndexChanged=function(n){this.selectedIndex>-1&&this._commitText();t.prototype.onSelectedIndexChanged.call(this,n)},i.prototype._updateItems=function(){var i=new Date(0,0,0,0,0),r=new Date(0,0,0,23,59,59),u=[],t,f;if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&r.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),n.isNumber(this.step)&&this.step>0)for(t=i;t<=r;t=n.DateTime.addMinutes(t,this.step))u.push(n.Globalize.format(t,this.format));f=this.text;this.itemsSource=u;this.text=f},i.prototype._getTime=function(n){return n.getHours()*3600+n.getMinutes()*60+n.getSeconds()},i.prototype._keydown=function(i){if(t.prototype._keydown.call(this,i),!i.defaultPrevented)switch(i.keyCode){case n.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case n.Key.Escape:this.text=n.Globalize.format(this.value,this.format);this.selectAll()}},i.prototype._commitText=function(){if(this.text||this.isRequired){var t=n.Globalize.parseDate(this.text,this.format);t?this.value=n.DateTime.fromDateTime(this.value,t):this._tbx.value=n.Globalize.format(this.value,this.format)}else this.value=null},i}(t.ComboBox);t.InputTime=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){var f=this,e,o;i.call(this,r);n.addClass(this.hostElement,'wj-inputdatetime');this._btnTm=this.hostElement.querySelector('[wj-part="btn-tm"]');this._format='g';this._inputTime=new t.InputTime(document.createElement('div'));this._inputTime.valueChanged.addHandler(function(){f.value=n.DateTime.fromDateTime(f.value,f._inputTime.value);f.containsFocus()&&(f.isTouching&&f.showDropDownButton||f.selectAll())});e=this._inputTime.dropDown;o=this._keydown.bind(this);this.addEventListener(e,'keydown',o,!0);this.addEventListener(e,'blur',function(){f._updateFocusState()},!0);this.addEventListener(this._btnTm,'click',this._btnclick.bind(this));this.addEventListener(this._btn,'mousedown',function(){f._setDropdown(f.calendar.hostElement)});this.addEventListener(this._btnTm,'mousedown',function(n){f.isDroppedDown&&f.dropDown==e&&n.preventDefault();f._inputTime.dropDownCssClass=f.dropDownCssClass;f._setDropdown(e)});this.initialize(u)}return __extends(r,i),Object.defineProperty(r.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(n){this._inputTime.min=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(n){this._inputTime.max=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(n){this._inputTime.format=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(n){this._inputTime.step=n},enumerable:!0,configurable:!0}),r.prototype.refresh=function(){i.prototype.refresh.call(this);this._inputTime.refresh()},r.prototype._updateBtn=function(){i.prototype._updateBtn.call(this);this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},r.prototype._clamp=function(n){return n&&(this.min&&n<this.min&&(n=this.min),this.max&&n>this.max&&(n=this.max)),n},r.prototype._commitText=function(){var i=this._tbx.value,t;i||this.isRequired?(t=n.Globalize.parseDate(i,this.format),t?this.value=t:this._tbx.value=n.Globalize.format(this.value,this.format)):this.value=null},r.prototype._setDropdown=function(n){this._dropDown!=n&&(this.isDroppedDown&&(this.isDroppedDown=!1),this._dropDown=n)},r.prototype._updateDropDown=function(){var n=this._inputTime;this._dropDown==n.dropDown?(this._commitText(),i.prototype._updateDropDown.call(this),n.isRequired=this.isRequired,n.value=this.value,this.isDroppedDown&&n.listBox.showSelection()):i.prototype._updateDropDown.call(this)},r.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span class="wj-input-group-btn" tabindex="-1"><button wj-part="btn" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-calendar"><\/span><\/button><button wj-part="btn-tm" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-clock"><\/span><\/button><\/span><\/div><\/div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100;width:auto"><\/div><\/div>',r}(t.InputDate);t.InputDateTime=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=this,e,f;t.call(this,i);this._showBtn=!0;this._readOnly=!1;this.textChanged=new n.Event;this.valueChanged=new n.Event;e=this.getTemplate();this.applyTemplate('wj-control wj-inputnumber wj-content',e,{_tbx:'input',_btnUp:'btn-inc',_btnDn:'btn-dec'},'input');f=this._tbx;f.autocomplete='off';f.spellcheck=!1;this._updateSymbols();this.addEventListener(this._tbx,'compositionstart',function(){u._composing=!0});this.addEventListener(this._tbx,'compositionend',function(){u._composing=!1;setTimeout(function(){u._setText(u.text)})});this.addEventListener(f,'keypress',this._keypress.bind(this));this.addEventListener(f,'keydown',this._keydown.bind(this));this.addEventListener(f,'input',this._input.bind(this));this.addEventListener(this._btnUp,'click',this._clickSpinner.bind(this));this.addEventListener(this._btnDn,'click',this._clickSpinner.bind(this));this.addEventListener(this.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!u.isReadOnly&&u.containsFocus()&&u.value!=null){var i=n.clamp(-t.deltaY,-1,1);u.value+=(u.step||1)*i;setTimeout(function(){return u.selectAll()});t.preventDefault()}});this.value=0;this.isRequired=!0;this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(t=n.asNumber(t,!this.isRequired||t==null&&this._value==null),t==null)this._setText('');else if(!isNaN(t)){var i=n.Globalize.format(t,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"required",{get:function(){return n._deprecated('required','isRequired'),this.isRequired},set:function(t){n._deprecated('required','isRequired');this.isRequired=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);this.inputElement.readOnly=this._readOnly},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._oldText=null,this._setText(n))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){n.setSelectionRange(this._tbx,0,this._tbx.value.length)},i.prototype.onTextChanged=function(n){this._updateState();this.textChanged.raise(this,n)},i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.onGotFocus=function(n){this.isTouching||(this._tbx.focus(),this.selectAll());t.prototype.onGotFocus.call(this,n)},i.prototype.onLostFocus=function(n){this.value=this._clamp(this.value);t.prototype.onLostFocus.call(this,n)},i.prototype.refresh=function(){this._updateSymbols();var t=n.Globalize.format(this.value,this.format);this._setText(t)},i.prototype._updateSymbols=function(){var t=n.culture.Globalize.numberFormat;this._decChar=t['.']||'.';this._currChar=t.currency.symbol||'$';this._rxSym=new RegExp('^[%+\\-() '+this._decChar+this._currChar+']*$')},i.prototype._clamp=function(t){return n.clamp(t,this.min,this.max)},i.prototype._isNumeric=function(n,t){t===void 0&&(t=!1);var i=n==this._decChar||n>='0'&&n<='9';return i||t||(i='+-()'.indexOf(n)>-1),i},i.prototype._getInputRange=function(n){var t;n===void 0&&(n=!1);var i=[0,0],r=this.text,u=!1;for(t=0;t<r.length;t++)this._isNumeric(r[t],n)&&(u||(i[0]=t,u=!0),i[1]=t+1);return i},i.prototype._moveToDigit=function(){var t=this._getInputRange(!0);n.setSelectionRange(this._tbx,t[0],t[1])},i.prototype._increment=function(t){if(t){var i=this._clamp(this.value+t),r=n.Globalize.format(i,this.format,!1,!1);this._setText(r)}},i.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},i.prototype._updateBtn=function(){this.showSpinner&&this.step&&this.value!=null?(this._btnUp.style.display=this._btnDn.style.display='',n.addClass(this.hostElement,'wj-input-show-spinner')):(this._btnUp.style.display=this._btnDn.style.display='none',n.removeClass(this.hostElement,'wj-input-show-spinner'))},i.prototype._setText=function(t){var u,i,r;if(!this._composing){if(!t){if(!this.isRequired){this._tbx.value='';this._value!=null&&(this._value=null,this.onValueChanged());this._oldText&&(this._oldText=t,this.onTextChanged());this._updateBtn();return}t='0'}if(t=='-'||t=='('){this._tbx.value=t;n.setSelectionRange(this._tbx,1);return}if(t.length>1&&t[t.length-1]==')'&&t[0]!='('&&(t=t.substr(0,t.length-1)),this._rxSym.test(t)&&(t='0'),u=this._format||(t.indexOf(this._decChar)>-1?'n2':'n0'),i=n.Globalize.parseFloat(t,u),isNaN(i)){this._tbx.value=this._oldText;return}t.indexOf('%')<0&&u.toLowerCase().indexOf('p')>-1&&(i/=100);r=n.Globalize.format(i,u,!1,!0);(u=='n'||u[0].toLowerCase()=='g')&&this._tbx.selectionStart==this._tbx.value.length&&(t==r+this._decChar||t==r+this._decChar+'0')&&(r=t);this._tbx.value!=r&&(this._tbx.value=r,i=n.Globalize.parseFloat(r,this.format));i!=this._value&&(this._value=i,this.onValueChanged());this.text!=this._oldText&&(this.onTextChanged(),this._oldText=this.text);this._updateBtn()}},i.prototype._keypress=function(t){var r,u,i;if(!t.defaultPrevented&&!this._composing&&!this._readOnly&&t.charCode&&!t.ctrlKey){r=String.fromCharCode(t.charCode);this._isNumeric(r)?(u=this._getInputRange(!0),this._tbx.selectionStart<u[0]&&n.setSelectionRange(this._tbx,u[0],u[1])):t.preventDefault();switch(r){case'-':this.value?(this.value*=-1,this._moveToDigit()):this._setText('-');t.preventDefault();break;case'+':this.value=Math.abs(this.value);this._moveToDigit();t.preventDefault();break;case this._decChar:i=this._tbx.value.indexOf(r);i>-1&&(this._getSelStart()<=i&&i++,n.setSelectionRange(this._tbx,i),t.preventDefault())}}},i.prototype._keydown=function(t){var r=this,i;if(!t.defaultPrevented&&!this._composing)switch(t.keyCode){case n.Key.Up:case n.Key.Down:this.step&&(this._increment(this.step*(t.keyCode==n.Key.Up?1:-1)),setTimeout(function(){r.selectAll()}),t.preventDefault());break;case n.Key.Back:this._tbx&&this._tbx.selectionStart==this._tbx.selectionEnd&&(i=this._tbx.selectionStart,i>0&&this.text[i-1]==this._decChar&&(setTimeout(function(){n.setSelectionRange(r._tbx,i-1)}),t.preventDefault()));break;case n.Key.Delete:this._tbx&&this._tbx.selectionStart==this._tbx.selectionEnd&&(i=this._tbx.selectionStart,i>0&&this.text[i]==this._decChar&&(setTimeout(function(){n.setSelectionRange(r._tbx,i+1)}),t.preventDefault()))}},i.prototype._input=function(){var t=this;this._composing||setTimeout(function(){var o=t._tbx,r=o.value,i=t._getSelStart(),s=r?r.indexOf(t._decChar):-1,f,u,e;t._setText(r);t.containsFocus()&&(f=o.value,u=f.indexOf(t._decChar),r&&r[0]=='-'&&f&&f[0]!='-'&&(r=null),r?i<=s&&u>-1||s<0&&u<0?i+=f.length-r.length:i==r.length&&s<0&&u>-1&&(i=u):i=u>-1?u:f.match(/[^\d]*$/).index,e=t._getInputRange(),i<e[0]&&(i=e[0]),i>e[1]&&(i=e[1]),n.setSelectionRange(o,i))})},i.prototype._clickSpinner=function(t){var i=this;t.defaultPrevented||this.isReadOnly||!this.step||this.value==null||(this._increment(this.step*(n.contains(this._btnUp,t.target)?1:-1)),this.isTouching||setTimeout(function(){return i.selectAll()}))},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">-<\/button><\/span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">+<\/button><\/span><\/div>',i}(n.Control);t.InputNumber=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var e=this,f,u;t.call(this,i);this.valueChanged=new n.Event;f=this.getTemplate();this.applyTemplate('wj-control wj-inputmask wj-content',f,{_tbx:'input'},'input');this._orgTag=='INPUT'&&(u=this._tbx.getAttribute('value'),u&&(this.value=u));this._msk=new n._MaskProvider(this._tbx);this.isRequired=!0;this.initialize(r);this.addEventListener(this._tbx,'input',function(){setTimeout(function(){e.onValueChanged()})})}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._tbx.value},set:function(t){if(t!=this.value){this._tbx.value=n.asString(t);var i=n.getActiveElement();this._tbx.selectionStart=this._tbx.value.length;i&&i!=n.getActiveElement()&&i.focus();t=this._msk._applyMask();this._tbx.value=t;this.onValueChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(n){this.value=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){var i=this.value;this._msk.mask=n.asString(t);this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(n){var t=this.value;this._msk.promptChar=n;this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){var t=this._msk.getMaskRange();n.setSelectionRange(this._tbx,t[0],t[1]+1)},i.prototype.onValueChanged=function(n){this._updateState();this.valueChanged.raise(this,n)},i.prototype.refresh=function(n){t.prototype.refresh.call(this,n);this._msk.refresh()},i.prototype.onGotFocus=function(n){t.prototype.onGotFocus.call(this,n);this.selectAll()},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/><\/div>',i}(n.Control);t.InputMask=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(t,r){var u=this;i.call(this,t);this.valueChanged=new n.Event;n.addClass(this.hostElement,'wj-inputcolor');this._tbx.style.paddingLeft='24px';this._ePreview=n.createElement('<div class="wj-inputcolorbox" style="position:absolute;left:6px;top:6px;width:12px;bottom:6px;border:1px solid black"></div>');this.hostElement.style.position='relative';this.hostElement.appendChild(this._ePreview);this._orgTag=='INPUT'&&(this._tbx.type='',this._commitText());this.value='#ffffff';this.isRequired=!0;this.initialize(r);this.addEventListener(this._colorPicker.hostElement,'click',function(t){var i=t.target,r;i&&i.tagName=='DIV'&&(n.closest(i,'[wj-part="div-pal"]')||n.closest(i,'[wj-part="div-pv"]'))&&(r=i.style.backgroundColor,r&&(u.isDroppedDown=!1))})}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){t!=this.value&&(t||!this.isRequired)&&(this.text=n.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(n.asString(t),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(n){this._colorPicker.showAlphaChannel=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype._createDropDown=function(){var i=this;this._colorPicker=new t.ColorPicker(this._dropDown);n.setCss(this._dropDown,{minWidth:420,minHeight:200});this._colorPicker.valueChanged.addHandler(function(){i.value=i._colorPicker.value})},r.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case n.Key.Enter:this._commitText();this.selectAll();break;case n.Key.Escape:this.text=this.value;this.selectAll()}i.prototype._keydown.call(this,t)},r.prototype._commitText=function(){if(this.value!=this.text){if(!this.isRequired&&!this.text){this._value=this.text;this._ePreview.style.backgroundColor='';return}var t=n.Color.fromString(this.text);t?(this._colorPicker.value=this.text,this._value=this._colorPicker.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()):this.text=this._value?this._value:''}},r}(t.DropDown);t.InputColor=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}))
/*
    *
    * Wijmo Library 5.20162.198
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;wijmo.culture.FlexGrid={groupHeaderFormat:'{name}: <b>{value} </b>({count:n0} items)'},function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Column=1]="Column";n[n.Row=2]="Row";n[n.All=3]="All"})(t.HeadersVisibility||(t.HeadersVisibility={}));var i=t.HeadersVisibility,r=function(r){function u(u,f){var e=this,s,h,o;r.call(this,u,null,!0);this._szClient=new n.Size(0,0);this._ptScrl=new n.Point(0,0);this._rtl=!1;this._cellPadding=3;this._autoGenCols=!0;this._autoClipboard=!0;this._readOnly=!1;this._indent=14;this._autoSizeMode=t.AutoSizeMode.Both;this._hdrVis=i.All;this._alSorting=!0;this._alAddNew=!1;this._alDelete=!1;this._alResizing=t.AllowResizing.Columns;this._alDragging=t.AllowDragging.Columns;this._alMerging=t.AllowMerging.None;this._ssHdr=i.None;this._shSort=!0;this._shGroups=!0;this._shAlt=!0;this._deferResizing=!1;this._pSel=!0;this._pOutline=!0;this.itemsSourceChanged=new n.Event;this.scrollPositionChanged=new n.Event;this.selectionChanging=new n.Event;this.selectionChanged=new n.Event;this.loadingRows=new n.Event;this.loadedRows=new n.Event;this.updatingLayout=new n.Event;this.updatedLayout=new n.Event;this.resizingColumn=new n.Event;this.resizedColumn=new n.Event;this.autoSizingColumn=new n.Event;this.autoSizedColumn=new n.Event;this.draggingColumn=new n.Event;this.draggedColumn=new n.Event;this.resizingRow=new n.Event;this.resizedRow=new n.Event;this.autoSizingRow=new n.Event;this.autoSizedRow=new n.Event;this.draggingRow=new n.Event;this.draggedRow=new n.Event;this.groupCollapsedChanging=new n.Event;this.groupCollapsedChanged=new n.Event;this.sortingColumn=new n.Event;this.sortedColumn=new n.Event;this.beginningEdit=new n.Event;this.prepareCellForEdit=new n.Event;this.cellEditEnding=new n.Event;this.cellEditEnded=new n.Event;this.rowEditEnding=new n.Event;this.rowEditEnded=new n.Event;this.rowAdded=new n.Event;this.deletingRow=new n.Event;this.deletedRow=new n.Event;this.copying=new n.Event;this.copied=new n.Event;this.pasting=new n.Event;this.pasted=new n.Event;this.pastingCell=new n.Event;this.pastedCell=new n.Event;this.formatItem=new n.Event;this.updatingView=new n.Event;this.updatedView=new n.Event;this._mappedColumns=null;s=this.hostElement;n.isIE()&&(s.style.borderRadius='0px');h=this.getTemplate();this.applyTemplate('wj-control wj-flexgrid wj-content',h,{_root:'root',_eSz:'sz',_eCt:'cells',_eTL:'tl',_eCHdr:'ch',_eRHdr:'rh',_eTLCt:'tlcells',_eCHdrCt:'chcells',_eRHdrCt:'rhcells',_eMarquee:'marquee',_eFocus:'focus'});o=this._getDefaultRowHeight();this.deferUpdate(function(){e._rows=new t.RowCollection(e,o);e._cols=new t.ColumnCollection(e,o*4);e._hdrRows=new t.RowCollection(e,o);e._hdrCols=new t.ColumnCollection(e,Math.round(o*1.25));e._gpCells=new t.GridPanel(e,t.CellType.Cell,e._rows,e._cols,e._eCt);e._gpCHdr=new t.GridPanel(e,t.CellType.ColumnHeader,e._hdrRows,e._cols,e._eCHdrCt);e._gpRHdr=new t.GridPanel(e,t.CellType.RowHeader,e._rows,e._hdrCols,e._eRHdrCt);e._gpTL=new t.GridPanel(e,t.CellType.TopLeft,e._hdrRows,e._hdrCols,e._eTLCt);e._hdrRows.push(new t.Row);e._hdrCols.push(new t.Column);e._hdrCols[0].align='center';e._cf=new t.CellFactory;e._keyHdl=new t._KeyboardHandler(e);e._mouseHdl=new t._MouseHandler(e);e._edtHdl=new t._EditHandler(e);e._selHdl=new t._SelectionHandler(e);e._addHdl=new t._AddNewHandler(e);e._mrgMgr=new t.MergeManager(e);e._bndSortConverter=e._sortConverter.bind(e);e.initialize(f)});this.addEventListener(this._root,'scroll',function(){e._updateScrollPosition()&&(e._afScrl&&cancelAnimationFrame(e._afScrl),e._afScrl=requestAnimationFrame(function(){e.finishEditing();e._updateContent(!0);e._afScrl=null}))})}return __extends(u,r),u.prototype._handleResize=function(){r.prototype._handleResize.call(this);this._rcBounds=null},Object.defineProperty(u.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(t){t!=this._hdrVis&&(this._hdrVis=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(t){var i=this;t!=this._stickyHdr&&(this._stickyHdr=n.asBoolean(t),this._updateStickyHeaders(),this.removeEventListener(window,'scroll'),this._stickyHdr&&this.addEventListener(window,'scroll',function(t){n.contains(t.target,i.hostElement)&&(i._toSticky&&cancelAnimationFrame(i._toSticky),i._toSticky=requestAnimationFrame(function(){var t=new n.CancelEventArgs;if(i.onUpdatingLayout(t)){i._updateStickyHeaders();i.onUpdatedLayout(t)}i._toSticky=null}))},!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(t){this._pSel=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(t){this._pOutline=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(t){this._autoGenCols=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(t){this._autoClipboard=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columnLayout",{get:function(){for(var c,o,r,i,f,s=u._getSerializableProperties(t.Column),l=new t.Column,h=[],e=0;e<this.columns.length;e++){for(c=this.columns[e],o={},r=0;r<s.length;r++)i=s[r],f=c[i],f!=l[i]&&n.isPrimitive(f)&&i!='size'&&(o[i]=f);h.push(o)}return JSON.stringify({columns:h})},set:function(t){var i=JSON.parse(n.asString(t));if(!i||i.columns==null)throw'Invalid columnLayout data.';this.columns.clear();this.initialize(i)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){t!=this._readOnly&&(this._readOnly=n.asBoolean(t),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"imeEnabled",{get:function(){return this._imeHdl!=null},set:function(n){n!=this.imeEnabled&&(this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),n&&(this._imeHdl=new t._ImeHandler(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(i){this._alResizing=n.asEnum(i,t.AllowResizing)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(t){this._deferResizing=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(i){this._autoSizeMode=n.asEnum(i,t.AutoSizeMode)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(t){this._alSorting=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(t){t!=this._alAddNew&&(this._alAddNew=n.asBoolean(t),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(t){t!=this._alDelete&&(this._alDelete=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(i){i!=this._alMerging&&(this._alMerging=n.asEnum(i,t.AllowMerging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(t){t!=this._ssHdr&&(this._ssHdr=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showMarquee",{get:function(){return!this._eMarquee.style.display},set:function(t){if(t!=this.showMarquee){var i=this._eMarquee.style;i.visibility='collapse';i.display=n.asBoolean(t)?'':'none';this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSort",{get:function(){return this._shSort},set:function(t){t!=this._shSort&&(this._shSort=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=n.asBoolean(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showAlternatingRows",{get:function(){return this._shAlt},set:function(t){t!=this._shAlt&&(this._shAlt=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(t){t!=this._gHdrFmt&&(this._gHdrFmt=n.asString(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(i){i!=this._alDragging&&(this._alDragging=n.asEnum(i,t.AllowDragging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemsSource",{get:function(){return this._items},set:function(t){var i;t!=this._items&&(this._cv&&(i=n.tryCast(this._cv,n.collections.CollectionView),i&&i.sortConverter==this._bndSortConverter&&(i.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=this._getCollectionView(t),this._lastCount=0,this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),i=n.tryCast(this._cv,n.collections.CollectionView),i&&!i.sortConverter&&(i.sortConverter=this._bndSortConverter)),this._bindGrid(!0),this.onItemsSourceChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(t){t!=this._childItemsPath&&(n.assert(t==null||n.isArray(t)||n.isString(t),'childItemsPath should be an array or a string.'),this._childItemsPath=t,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),u.prototype.getColumn=function(n){return this.columns.getColumn(n)},Object.defineProperty(u.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(n){this.rows.frozen=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(n){this.columns.frozen=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(t){t!=this._sortRowIndex&&(this._sortRowIndex=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(n){var t=this._root,i=-n.x;if(this._rtl)switch(u._getRtlMode()){case'rev':i=t.scrollWidth-t.clientWidth+n.x;break;case'neg':i=n.x;break;default:i=-n.x}t.scrollLeft=i;t.scrollTop=-n.y},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=n.getElementRect(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scrollSize",{get:function(){return new n.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cellFactory",{get:function(){return this._cf},set:function(i){i!=this._cf&&(this._cf=n.asType(i,t.CellFactory,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.getCellData=function(n,t,i){return this.cells.getCellData(n,t,i)},u.prototype.getCellBoundingRect=function(n,t,i){return this.cells.getCellBoundingRect(n,t,i)},u.prototype.setCellData=function(n,t,i,r,u){return r===void 0&&(r=!0),u===void 0&&(u=!0),this.cells.setCellData(n,t,i,r,u)},u.prototype.hitTest=function(i,r){return n.isNumber(i)&&n.isNumber(r)&&(i=new n.Point(i,r)),new t.HitTestInfo(this,i)},u.prototype.getClipString=function(i){var f='',s=!0,o=!0,r,u,e;for(i=i?n.asType(i,t.CellRange):this.selection,r=i.topRow;r<=i.bottomRow;r++)if(this.rows[r].isVisible)for(s||(f+='\n'),s=!1,u=i.leftCol,o=!0;u<=i.rightCol;u++)this.columns[u].isVisible&&(o||(f+='\t'),o=!1,e=this.cells.getCellData(r,u,!0).toString(),e=e.replace(/\t/g,' '),f+=e);return f},u.prototype.setClipString=function(i,r){var v=r==null,e,o,c,u,s;r=r?n.asType(r,t.CellRange):this.selection;i=n.asString(i).replace(/\r\n/g,'\n').replace(/\r/g,'\n');i&&i[i.length-1]=='\n'&&(i=i.substring(0,i.length-1));v&&!r.isSingleCell&&(i=this._expandClipString(i,r));e=new t.CellRange(r.topRow,r.leftCol);this.beginUpdate();var f=r.topRow,l=i.split('\n'),a=!1,h;for(o=0;o<l.length&&f<this.rows.length;o++,f++){if(!this.rows[f].isVisible){o--;continue}for(c=l[o].split('\t'),u=r.leftCol,s=0;s<c.length&&u<this.columns.length;s++,u++){if(!this.columns[u].isVisible){s--;continue}if(!this.columns[u].isReadOnly&&!this.rows[f].isReadOnly){if(h=new t.CellRangeEventArgs(this.cells,new t.CellRange(f,u),c[s]),this.onPastingCell(h)&&this.cells.setCellData(f,u,h.data)){this.onPastedCell(h);a=!0}e.row2=Math.max(e.row2,f);e.col2=Math.max(e.col2,u)}}}this.endUpdate();this.collectionView&&a&&this.collectionView.refresh();this.select(e)},u.prototype._expandClipString=function(n,t){var s,r,u,i,f;if(!n)return n;var h=n.split('\n'),o=h.length,e=0,c=[];for(i=0;i<o;i++){if(s=h[i].split('\t'),c.push(s),i>1&&s.length!=e)return n;e=s.length}if(r=t.rowSpan,u=t.columnSpan,(r>1||u>1)&&(r==1&&(r=o),u==1&&(u=e),u%e==0&&r%o==0))for(n='',i=0;i<r;i++)for(f=0;f<u;f++)i>0&&f==0&&(n+='\n'),f>0&&(n+='\t'),n+=c[i%o][f%e];return n},u.prototype.focus=function(){var t,i;if(this.activeEditor){this.activeEditor.focus();return}if(n.getActiveElement()!=this._eFocus){if(t=this.hostElement.getBoundingClientRect(),t.bottom>0&&t.right>0&&t.top<innerHeight&&t.left<innerWidth){n.setCss(this._eFocus,{top:Math.max(0,-t.top),left:Math.max(0,-t.left)});this._eFocus.focus();return}if(i=this.cells.hostElement.querySelector('.wj-cell.wj-state-selected'),i){i.focus();return}r.prototype.focus.call(this)}},u.prototype.containsFocus=function(){var n=this._edtHdl?this._edtHdl._lbx:null;return r.prototype.containsFocus.call(this)||n&&n.containsFocus()},u.prototype.dispose=function(){this.finishEditing(!0);this.itemsSource=null;this._afScrl&&cancelAnimationFrame(this._afScrl);r.prototype.dispose.call(this)},u.prototype.refresh=function(n){n===void 0&&(n=!0);r.prototype.refresh.call(this,n);this.finishEditing();n&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl);this.refreshCells(n)},u.prototype.refreshCells=function(n,t,i){this.isUpdating||(n?this._updateLayout():this._updateContent(t,i))},u.prototype.autoSizeColumn=function(n,t,i){t===void 0&&(t=!1);i===void 0&&(i=4);this.autoSizeColumns(n,n,t,i)},u.prototype.autoSizeColumns=function(i,r,f,e){var h=this;f===void 0&&(f=!1);e===void 0&&(e=4);var s=0,l=f?this.topLeftCells:this.columnHeaders,o=f?this.rowHeaders:this.cells,c=this.viewRange,a,v;i=i==null?0:n.asInt(i);r=r==null?o.columns.length-1:n.asInt(r);n.asBoolean(f);n.asNumber(e);c.row=Math.max(0,c.row-1e3);c.row2=Math.min(c.row2+1e3,this.rows.length-1);this.deferUpdate(function(){var p=document.createElement('div'),y,n,w;for(p.setAttribute(u._WJS_MEASURE,'true'),p.style.visibility='hidden',h.hostElement.appendChild(p),y=i;y<=r&&y>-1&&y<o.columns.length;y++){if(s=0,h.autoSizeMode&t.AutoSizeMode.Headers)for(n=0;n<l.rows.length;n++)l.rows[n].isVisible&&(w=h._getDesiredWidth(l,n,y,p),s=Math.max(s,w));if(h.autoSizeMode&t.AutoSizeMode.Cells)for(v=null,n=c.row;n<=c.row2&&n>-1&&n<o.rows.length;n++)o.rows[n].isVisible&&(!f&&y==o.columns.firstVisibleIndex&&o.rows.maxGroupLevel>-1?(w=h._getDesiredWidth(o,n,y,p),s=Math.max(s,w)):(a=o.getCellData(n,y,!0),a!=v&&(v=a,w=h._getDesiredWidth(o,n,y,p),s=Math.max(s,w))));o.columns[y].width=s+e+2}h.hostElement.removeChild(p)})},u.prototype.autoSizeRow=function(n,t,i){t===void 0&&(t=!1);i===void 0&&(i=0);this.autoSizeRows(n,n,t,i)},u.prototype.autoSizeRows=function(i,r,f,e){var o=this;f===void 0&&(f=!1);e===void 0&&(e=0);var s=0,c=f?this.topLeftCells:this.rowHeaders,h=f?this.columnHeaders:this.cells;f=n.asBoolean(f);e=n.asNumber(e);i=i==null?0:n.asInt(i);r=r==null?h.rows.length-1:n.asInt(r);this.deferUpdate(function(){var l=document.createElement('div'),f,n,a;for(l.setAttribute(u._WJS_MEASURE,'true'),l.style.visibility='hidden',o.hostElement.appendChild(l),f=i;f<=r&&f>-1&&f<h.rows.length;f++){if(s=0,o.autoSizeMode&t.AutoSizeMode.Headers)for(n=0;n<c.columns.length;n++)c.columns[n].renderSize>0&&(a=o._getDesiredHeight(c,f,n,l),s=Math.max(s,a));if(o.autoSizeMode&t.AutoSizeMode.Cells)for(n=0;n<h.columns.length;n++)h.columns[n].renderSize>0&&(a=o._getDesiredHeight(h,f,n,l),s=Math.max(s,a));h.rows[f].height=s+e}o.hostElement.removeChild(l)})},Object.defineProperty(u.prototype,"treeIndent",{get:function(){return this._indent},set:function(t){t!=this._indent&&(this._indent=n.asNumber(t,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),u.prototype.collapseGroupsToLevel=function(i){if(this.finishEditing()){var r=this.rows;r.deferUpdate(function(){for(var f,u=0;u<r.length;u++)f=n.tryCast(r[u],t.GroupRow),f&&(f.isCollapsed=f.level>=i)})}},Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(i){i!=this.selectionMode&&(this._selHdl.selectionMode=n.asEnum(i,t.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(n){this._selHdl.selection=n},enumerable:!0,configurable:!0}),u.prototype.select=function(n,t){t===void 0&&(t=!0);this._selHdl.select(n,t)},u.prototype.getSelectedState=function(n,t){return this.cells.getSelectedState(n,t,null)},Object.defineProperty(u.prototype,"selectedRows",{get:function(){var i=[],r,n;if(this.selectionMode==t.SelectionMode.ListBox)for(n=0;n<this.rows.length;n++)this.rows[n].isSelected&&i.push(this.rows[n]);else if(this.rows.length)for(r=this.selection,n=r.topRow;n>-1&&n<=r.bottomRow;n++)i.push(this.rows[n]);return i},set:function(i){var r=this;n.assert(this.selectionMode==t.SelectionMode.ListBox,'This property can be set only in ListBox mode.');i=n.asArray(i);this.deferUpdate(function(){for(var u,f,n=0,t=!0;n<r.rows.length;n++)u=r.rows[n],f=i&&i.indexOf(u)>-1,f&&t&&(t=!1,r.select(n,r.selection.col)),u.isSelected=f})},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectedItems",{get:function(){for(var n=this.selectedRows,t=0;t<n.length;t++)n[t]=n[t].dataItem;return n},set:function(i){var r=this;n.assert(this.selectionMode==t.SelectionMode.ListBox,'This property can be set only in ListBox mode.');i=n.asArray(i);this.deferUpdate(function(){for(var u,f,n=0,t=!0;n<r.rows.length;n++)u=r.rows[n],f=i&&i.indexOf(u.dataItem)>-1,f&&t&&(t=!1,r.select(n,r.selection.col)),u.isSelected=f})},enumerable:!0,configurable:!0}),u.prototype.scrollIntoView=function(t,i){var u,h;this._maxOffsetY==null&&this._updateLayout();var r=this.scrollPosition,c=this._szClient.width,f=this._szClient.height,e=this.cells._getFrozenPos();if(t=n.asInt(t),t>-1&&t<this._rows.length&&t>=this._rows.frozen){var s=this._rows[t],a=this.cells.height>f?Math.round(s.pos/(this.cells.height-f)*100)/100:0,v=Math.round(this._maxOffsetY*a),o=s.pos-v,l=o+s.renderSize-1;l>f-r.y&&(r.y=Math.max(-o,f-l));o-e.y<-r.y&&(r.y=-(o-e.y))}return(i=n.asInt(i),i>-1&&i<this._cols.length&&i>=this._cols.frozen&&(u=this._cols[i],h=u.pos+u.renderSize-1,h>-r.x+c&&(r.x=Math.max(-u.pos,c-h)),u.pos-e.x<-r.x&&(r.x=-(u.pos-e.x))),!r.equals(this.scrollPosition))?(this.scrollPosition=r,!0):!1},u.prototype.isRangeValid=function(n){return n.isValid&&n.bottomRow<this.rows.length&&n.rightCol<this.columns.length},u.prototype.startEditing=function(n,t,i,r){return n===void 0&&(n=!0),this._edtHdl.startEditing(n,t,i,r)},u.prototype.finishEditing=function(n){return n===void 0&&(n=!1),this._edtHdl.finishEditing(n)},Object.defineProperty(u.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"editRange",{get:function(){return this._edtHdl.editRange},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(i){i!=this._mrgMgr&&(this._mrgMgr=n.asType(i,t.MergeManager,!0),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.getMergedRange=function(n,t,i,r){return r===void 0&&(r=!0),this._mrgMgr?this._mrgMgr.getMergedRange(n,t,i,r):null},u.prototype.onItemsSourceChanged=function(n){this.itemsSourceChanged.raise(this,n)},u.prototype.onScrollPositionChanged=function(n){this.scrollPositionChanged.raise(this,n)},u.prototype.onSelectionChanging=function(n){return this.selectionChanging.raise(this,n),!n.cancel},u.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},u.prototype.onLoadingRows=function(n){return this.loadingRows.raise(this,n),!n.cancel},u.prototype.onLoadedRows=function(n){this.loadedRows.raise(this,n)},u.prototype.onUpdatingLayout=function(n){return this.updatingLayout.raise(this,n),!n.cancel},u.prototype.onUpdatedLayout=function(n){this.updatedLayout.raise(this,n)},u.prototype.onResizingColumn=function(n){return this.resizingColumn.raise(this,n),!n.cancel},u.prototype.onResizedColumn=function(n){this.resizedColumn.raise(this,n)},u.prototype.onAutoSizingColumn=function(n){return this.autoSizingColumn.raise(this,n),!n.cancel},u.prototype.onAutoSizedColumn=function(n){this.autoSizedColumn.raise(this,n)},u.prototype.onDraggingColumn=function(n){return this.draggingColumn.raise(this,n),!n.cancel},u.prototype.onDraggedColumn=function(n){this.draggedColumn.raise(this,n)},u.prototype.onResizingRow=function(n){return this.resizingRow.raise(this,n),!n.cancel},u.prototype.onResizedRow=function(n){this.resizedRow.raise(this,n)},u.prototype.onAutoSizingRow=function(n){return this.autoSizingRow.raise(this,n),!n.cancel},u.prototype.onAutoSizedRow=function(n){this.autoSizedRow.raise(this,n)},u.prototype.onDraggingRow=function(n){return this.draggingRow.raise(this,n),!n.cancel},u.prototype.onDraggedRow=function(n){this.draggedRow.raise(this,n)},u.prototype.onGroupCollapsedChanging=function(n){return this.groupCollapsedChanging.raise(this,n),!n.cancel},u.prototype.onGroupCollapsedChanged=function(n){this.groupCollapsedChanged.raise(this,n)},u.prototype.onSortingColumn=function(n){return this.sortingColumn.raise(this,n),!n.cancel},u.prototype.onSortedColumn=function(n){this.sortedColumn.raise(this,n)},u.prototype.onBeginningEdit=function(n){return this.beginningEdit.raise(this,n),!n.cancel},u.prototype.onPrepareCellForEdit=function(n){this.prepareCellForEdit.raise(this,n)},u.prototype.onCellEditEnding=function(n){return this.cellEditEnding.raise(this,n),!n.cancel},u.prototype.onCellEditEnded=function(n){this.cellEditEnded.raise(this,n)},u.prototype.onRowEditEnding=function(n){this.rowEditEnding.raise(this,n)},u.prototype.onRowEditEnded=function(n){this.rowEditEnded.raise(this,n)},u.prototype.onRowAdded=function(n){this.rowAdded.raise(this,n)},u.prototype.onDeletingRow=function(n){return this.deletingRow.raise(this,n),!n.cancel},u.prototype.onDeletedRow=function(n){this.deletedRow.raise(this,n)},u.prototype.onCopying=function(n){return this.copying.raise(this,n),!n.cancel},u.prototype.onCopied=function(n){this.copied.raise(this,n)},u.prototype.onPasting=function(n){return this.pasting.raise(this,n),!n.cancel},u.prototype.onPasted=function(n){this.pasted.raise(this,n)},u.prototype.onPastingCell=function(n){return this.pastingCell.raise(this,n),!n.cancel},u.prototype.onPastedCell=function(n){this.pastedCell.raise(this,n)},u.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},u.prototype.onUpdatingView=function(n){return this.updatingView.raise(this,n),!n.cancel},u.prototype.onUpdatedView=function(n){this.updatedView.raise(this,n)},u.prototype._getDefaultRowHeight=function(){var f=this.hostElement,t=document.body,i=null,r,e,u;if(t&&!n.contains(t,f)){for(r=f;r;r=r.parentElement)i=r;i&&t.appendChild(i)}return e=n.createElement('<div class="wj-cell">123</div>',f),u=e.scrollHeight+2,f.removeChild(e),i&&t.removeChild(i),(u<=6||isNaN(u)||!t)&&(u=28),u},u.prototype._getCollectionView=function(t){return n.asCollectionView(t)},u.prototype._getDesiredWidth=function(n,t,i,r){var u=this.getMergedRange(n,t,i),f;return this.cellFactory.updateCell(n,t,i,r,u),r.style.width='',f=r.offsetWidth,u&&u.columnSpan>1?f/u.columnSpan:f},u.prototype._getDesiredHeight=function(n,t,i,r){var u=this.getMergedRange(n,t,i),f;return this.cellFactory.updateCell(n,t,i,r,u),r.style.height='',f=r.offsetHeight,u&&u.rowSpan>1?f/u.rowSpan:f},u.prototype._getSortRowIndex=function(){return this._sortRowIndex!=null?this._sortRowIndex:this.columnHeaders.rows.length-1},u.prototype._sortConverter=function(n,t,i,r){var u,o,f,e;if(r){if(this._mappedColumns=null,this.collectionView)for(o=this.collectionView.sortDescriptions,f=0;f<o.length;f++)u=this.columns.getColumn(o[f].property),u&&u.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[u.binding]=u.dataMap);this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(u=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&u.dataMap&&(this._mappedColumns[u.binding]=u.dataMap))}return this._mappedColumns&&(e=this._mappedColumns[n.property],e&&e.sortByDisplayValues&&(i=e.getDisplayValue(i))),i},u.prototype._bindGrid=function(i){var r=this;this.deferUpdate(function(){var o,s,h,c,l,u,e,f;if(r._lastCount==0&&r._cv&&r._cv.items&&r._cv.items.length&&(i=!0),o=[],r.preserveSelectedState&&r.selectionMode==t.SelectionMode.ListBox)for(u=0;u<r.rows.length;u++)s=r.rows[u],s.isSelected&&s.dataItem&&o.push(s.dataItem);if(r.preserveOutlineState&&n.isFunction(window.Map)&&r.rows.maxGroupLevel>-1)for(h=new Map,u=0;u<r.rows.length;u++)e=r.rows[u],e instanceof t.GroupRow&&e.isCollapsed&&e.dataItem&&(f=e.dataItem,f instanceof n.collections.CollectionViewGroup&&(f=f._path),h.set(f,!0));if(i&&r.columns.deferUpdate(function(){r._bindColumns()}),r.rows.deferUpdate(function(){r._bindRows()}),c=0,o.length)for(u=0;u<r.rows.length&&c<o.length;u++)o.indexOf(r.rows[u].dataItem)>-1&&(r.rows[u].isSelected=!0,c++);if(r.selectionMode==t.SelectionMode.ListBox&&c==0)for(l=r.selection,u=l.topRow;u<=l.bottomRow&&u>-1&&u<r.rows.length;u++)r.rows[u].isSelected=!0;if(h)for(u=0;u<r.rows.length;u++)e=r.rows[u],e instanceof t.GroupRow&&(f=e.dataItem,f instanceof n.collections.CollectionViewGroup&&(f=f._path),h.get(f)&&(e.isCollapsed=!0));!r._lastCount&&r._cv&&r._cv.items&&(r._lastCount=r._cv.items.length)});this.collectionView&&this._cvCurrentChanged(this.collectionView,n.EventArgs.empty)},u.prototype._cvCollectionChanged=function(i,r){var u;if(this.autoGenerateColumns&&this.columns.length==0){this._bindGrid(!0);return}if(this.childItemsPath&&r.action!=n.collections.NotifyCollectionChangedAction.Change){this._bindGrid(!1);return}switch(r.action){case n.collections.NotifyCollectionChangedAction.Change:this.invalidate();return;case n.collections.NotifyCollectionChangedAction.Add:if(r.index==this.collectionView.items.length-1){u=this.rows.length;this.rows[u-1]instanceof t._NewRowTemplate&&u--;this.rows.insert(u,new t.Row(r.item));return}n.assert(!1,'added item should be the last one.');break;case n.collections.NotifyCollectionChangedAction.Remove:if(u=this._findRow(r.item),u>-1){this.rows.removeAt(u);this._cvCurrentChanged(i,r);return}n.assert(!1,'removed item not found in grid.')}this._bindGrid(!1)},u.prototype._cvCurrentChanged=function(){if(this.collectionView){var i=this.selection,r=i.row>-1&&i.row<this.rows.length?this.rows[i.row].dataItem:null;r instanceof n.collections.CollectionViewGroup&&(r=null);r!=this.collectionView.currentItem&&(i.row=i.row2=this._getRowIndex(this.collectionView.currentPosition),this.select(i,!1),this.selectionMode!=t.SelectionMode.None&&this.scrollIntoView(i.row,-1))}},u.prototype._getRowIndex=function(n){var r,n,i;if(this.collectionView){if(n>-1){for(r=this.collectionView.items[n];n<this.rows.length;n++)if(this.rows[n].dataItem===r)return n;return-1}return this.rows.length==1&&this.rows[0]instanceof t._NewRowTemplate?0:(n=this.selection.row,i=n>-1?this.rows[n]:null,i&&(i instanceof t.GroupRow||i.dataItem==null)?n:-1)}return this.selection.row},u.prototype._getCvIndex=function(n){if(n>-1&&this.collectionView){var t=this.rows[n].dataItem;for(n=Math.min(n,this.collectionView.items.length);n>-1;n--)if(this.collectionView.items[n]===t)return n}return-1},u.prototype._findRow=function(n){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==n)return t;return-1},u.prototype._updateLayout=function(){var a=new n.CancelEventArgs,o,h,s;if(this.onUpdatingLayout(a)){var e=this._rows.getTotalSize(),r=this._hdrVis&i.Row?this._hdrCols.getTotalSize():0,f=this._hdrVis&i.Column?this._hdrRows.getTotalSize():0;e<1&&(e=1);this._rtl=this.hostElement?getComputedStyle(this.hostElement).direction=='rtl':!1;this._heightBrowser=Math.min(e,u._getMaxSupportedCssHeight());this._maxOffsetY=Math.max(0,e-this._heightBrowser);this.cells.hostElement&&(o=n.createElement('<div class="wj-cell"></div>',this.cells.hostElement),h=getComputedStyle(o),this._cellPadding=parseInt(this._rtl?h.paddingRight:h.paddingLeft),o.parentElement.removeChild(o));this._rtl?(n.setCss(this._eTL,{right:0,top:0,width:r,height:f}),n.setCss(this._eCHdr,{top:0,right:r,height:f}),n.setCss(this._eRHdr,{right:0,top:f,width:r}),n.setCss(this._eCt,{right:r,top:f,width:this._gpCells.width,height:this._heightBrowser})):(n.setCss(this._eTL,{left:0,top:0,width:r,height:f}),n.setCss(this._eCHdr,{top:0,left:r,height:f}),n.setCss(this._eRHdr,{left:0,top:f,width:r}),n.setCss(this._eCt,{left:r,top:f,width:this._gpCells.width,height:this._heightBrowser}));this._stickyHdr&&this._updateStickyHeaders();var t=this._root,c=t.offsetWidth-t.clientWidth,l=t.offsetHeight-t.clientHeight;n.setCss(this._eSz,{width:r+c+this._gpCells.width,height:f+l+this._heightBrowser});s=null;this.columns._updateStarSizes(t.clientWidth-r)&&(s=t.clientWidth,this._eCt.style.width=this._gpCells.width+'px');this._szClient=new n.Size(t.clientWidth-r,t.clientHeight-f);this._rcBounds=null;this._updateContent(!1);c=t.offsetWidth-t.clientWidth;l=t.offsetHeight-t.clientHeight;n.setCss(this._eSz,{width:r+c+this._gpCells.width,height:f+l+this._heightBrowser});this._szClient=new n.Size(t.clientWidth-r,t.clientHeight-f);s&&s!=t.clientWidth&&this.columns._updateStarSizes(t.clientWidth-r)&&(this._eCt.style.width=this._gpCells.width+'px',this._updateContent(!1));this._eCHdr.style.width=this._szClient.width+'px';this._eRHdr.style.height=this._szClient.height+'px';this.onUpdatedLayout(a)}},u.prototype._updateStickyHeaders=function(){var r=!1,o=0,f,t,i,e;if(this._stickyHdr){for(f=0,t=null,i=this.hostElement;i;i=i.parentElement)e=i.getBoundingClientRect(),t==null&&(t=e.top),f=Math.max(f,e.top);t=Math.max(0,f-t-1);o=-t;r=t>0}this._eTL.style.top=this._eCHdr.style.top=r?-o+'px':'';n.toggleClass(this._eTL,u._WJS_STICKY,r);n.toggleClass(this._eCHdr,u._WJS_STICKY,r)},u.prototype._updateScrollPosition=function(){var t=this._root,f=t.scrollTop,i=t.scrollLeft,r;return(this._rtl&&u._getRtlMode()=='rev'&&(i=t.scrollWidth-t.clientWidth-i),r=new n.Point(-Math.abs(i),-f),!this._ptScrl.equals(r))?(this._ptScrl=r,this.onScrollPositionChanged(),!0):!1},u.prototype._updateContent=function(t,r){var a=this,v=this.containsFocus(),y=n.contains(this.columnHeaders.hostElement,n.getActiveElement()),o=new n.CancelEventArgs,s,e,u;if(this.onUpdatingView(o)){if(this._offsetY=0,this._heightBrowser>this._szClient.height&&(s=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100,this._offsetY=Math.round(this._maxOffsetY*s)),this._updateScrollPosition(),this._gpCells._updateContent(t,r,this._offsetY),this._hdrVis&i.Column&&(!r||this._ssHdr&i.Column)&&this._gpCHdr._updateContent(t,r,0),this._hdrVis&i.Row&&(!r||this._ssHdr&i.Row)&&this._gpRHdr._updateContent(t,r,this._offsetY),this._hdrVis&&!r&&this._gpTL._updateContent(t,r,0),this.showMarquee)if(e=this._selHdl._sel,u=this._eMarquee,this.isRangeValid(e)){var f=this._getMarqueeRect(e),h=u.firstChild,c=u.offsetWidth-h.offsetWidth,l=u.offsetHeight-h.offsetHeight;n.setCss(u,{left:f.left+this.cells.hostElement.offsetLeft-c/2,top:f.top+this.cells.hostElement.offsetTop-l/2,width:f.width+c,height:f.height+l,visibility:f.width>0&&f.height>0?'':'collapse'})}else n.setCss(u,{left:0,top:0,width:0,height:0,visibility:'collapse'});v&&!r&&setTimeout(function(){a.focus()},10);this._rcBounds=null;this.onUpdatedView(o)}},u.prototype._getMarqueeRect=function(i){var s=this.getMergedRange(this.cells,i.topRow,i.leftCol)||new t.CellRange(i.topRow,i.leftCol),h=this.getMergedRange(this.cells,i.bottomRow,i.rightCol)||new t.CellRange(i.bottomRow,i.rightCol),r=this.cells.getCellBoundingRect(s.topRow,s.leftCol,!0),f=this.cells.getCellBoundingRect(h.bottomRow,h.rightCol,!0),o,e,u;if(this.rows.frozen){if(o=Math.min(this.rows.length,this.rows.frozen),u=this.cells.getCellBoundingRect(o-1,0,!0),i.bottomRow>=o&&f.bottom<u.bottom)return new n.Rect(0,0,0,0);i.topRow>=o&&r.top<u.bottom&&(r.top=u.bottom)}if(this.columns.frozen)if(e=Math.min(this.columns.length,this.columns.frozen),u=this.cells.getCellBoundingRect(0,e-1,!0),this._rtl){if(i.rightCol>=e&&f.left>u.left)return new n.Rect(0,0,0,0);i.leftCol>=e&&r.right>u.left&&(r.left=u.left-r.width)}else{if(i.rightCol>=e&&f.right<u.right)return new n.Rect(0,0,0,0);i.leftCol>=e&&r.left<u.right&&(r.left=u.right)}return this._rtl?new n.Rect(f.left,r.top,r.right-f.left,f.bottom-r.top):new n.Rect(r.left,r.top,f.right-r.left,f.bottom-r.top)},u.prototype._bindColumns=function(){for(var i,r,e,f,o,u=0;u<this.columns.length;u++)i=this.columns[u],i._getFlag(t.RowColFlags.AutoGenerated)&&(this.columns.removeAt(u),u--);if(r=null,e=this.collectionView,e&&e.sourceCollection&&e.sourceCollection.length&&(r=e.sourceCollection[0]),r&&this.autoGenerateColumns)for(f in r)n.isPrimitive(r[f])&&(i=new t.Column,i._setFlag(t.RowColFlags.AutoGenerated,!0),i.binding=i.name=f,i.header=n.toHeaderCase(f),i.dataType=n.getType(r[f]),i.dataType==n.DataType.Number&&(i.width=80),o=Object.getOwnPropertyDescriptor(r,f),!o||o.writable||n.isFunction(o.set)||i._setFlag(t.RowColFlags.ReadOnly,!0),this.columns.push(i));this._updateColumnTypes()},u.prototype._updateColumnTypes=function(){var u=this.collectionView,f,r,i,t;if(n.hasItems(u))for(f=u.items[0],r=this.columns,i=0;i<r.length;i++)t=r[i],t.dataType==null&&t._binding&&(t.dataType=n.getType(t._binding.getValue(f)))},u.prototype._getBindingColumn=function(n,t,i){return i},u.prototype._bindRows=function(){var f=new n.CancelEventArgs,i,r,u,t;if(this.onLoadingRows(f)){if(this.rows.clear(),i=this.collectionView,i&&i.items)if(r=i.items,u=i.groups,this.childItemsPath)for(t=0;t<r.length;t++)this._addNode(r,t,0);else if(u!=null&&u.length>0&&this.showGroups)for(t=0;t<u.length;t++)this._addGroup(u[t]);else for(t=0;t<r.length;t++)this._addBoundRow(r,t);this.onLoadedRows(f)}},u.prototype._addBoundRow=function(n,i){this.rows.push(new t.Row(n[i]))},u.prototype._addNode=function(i,r,u){var e=new t.GroupRow,o=this.childItemsPath,c=n.isArray(o)?o[u]:o,h=i[r],s=h[c],f;if(e.dataItem=h,e.level=u,this.rows.push(e),s)for(f=0;f<s.length;f++)this._addNode(s,f,u+1)},u.prototype._addGroup=function(n){var r=new t.GroupRow,u,i;if(r.level=n.level,r.dataItem=n,this.rows.push(r),n.isBottomLevel)for(u=n.items,i=0;i<u.length;i++)this._addBoundRow(u,i);else for(i=0;i<n.groups.length;i++)this._addGroup(n.groups[i])},u._getSerializableProperties=function(n){var f=[],u,i,t,r;for(n=n.prototype;n!=Object.prototype;n=Object.getPrototypeOf(n))for(u=Object.getOwnPropertyNames(n),i=0;i<u.length;i++)t=u[i],r=Object.getOwnPropertyDescriptor(n,t),r&&r.set&&r.get&&t[0]!='_'&&!t.match(/disabled|required/)&&f.push(t);return f},u.prototype._copy=function(i,r){var f,u,e;if(i=='columns'){for(this.columns.clear(),f=n.asArray(r),u=0;u<f.length;u++)e=new t.Column,n.copy(e,f[u]),this.columns.push(e);return!0}return!1},u.prototype._isInputElement=function(n){if(n instanceof HTMLElement){var t=n.tagName.match(/INPUT|SELECT|TEXTAREA|BUTTON|A/);return t&&t.length>0}return!1},u._getMaxSupportedCssHeight=function(){var n;if(!u._maxCssHeight){var i=1e6,t=document.createElement('div');for(t.style.visibility='hidden',document.body.appendChild(t),n=i;n<=6e7;n+=5e5){if(t.style.height=n+'px',t.offsetHeight!=n)break;i=n}document.body.removeChild(t);u._maxCssHeight=i}return u._maxCssHeight},u._getRtlMode=function(){var t,i,r;return u._rtlMode||(t=n.createElement('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"><\/div><\/div>'),document.body.appendChild(t),i=t.scrollLeft,t.scrollLeft=-1e3,r=t.scrollLeft,document.body.removeChild(t),u._rtlMode=r<0?'neg':i>0?'rev':'std'),u._rtlMode},u._WJS_STICKY='wj-state-sticky',u._WJS_MEASURE='wj-state-measuring',u.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="focus" tabIndex="0" style="position:absolute;opacity:0;pointer-events:none;left:-10px;top:-10px"><\/div><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;max-width:inherit;max-height:inherit;boxSizing:content-box"><div wj-part="cells" class="wj-cells" style="position:relative"><\/div><div wj-part="marquee" class="wj-marquee" style="display:none;pointer-events:none"><div style="width:100%;height:100%"><\/div><\/div><\/div><div wj-part="rh" style="position:absolute;overflow:hidden;outline:none"><div wj-part="rhcells" class="wj-rowheaders" style="position:relative"><\/div><\/div><div wj-part="ch" style="position:absolute;overflow:hidden;outline:none"><div wj-part="chcells" class="wj-colheaders" style="position:relative"><\/div><\/div><div wj-part="tl" style="position:absolute;overflow:hidden;outline:none"><div wj-part="tlcells" class="wj-topleft" style="position:relative"><\/div><\/div><div wj-part="sz" style="position:relative;visibility:hidden"><\/div><\/div>',u}(n.Control);t.FlexGrid=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u,f){i.call(this);this._p=n.asType(r,t.GridPanel);this._rng=n.asType(u,t.CellRange);this._data=f}return __extends(r,i),Object.defineProperty(r.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(n){this._data=n},enumerable:!0,configurable:!0}),r}(n.CancelEventArgs),r;t.CellRangeEventArgs=i;r=function(t){function i(i,r,u){t.call(this,i,r);this._cell=n.asType(u,HTMLElement)}return __extends(i,t),Object.defineProperty(i.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),i}(i);t.FormatItemEventArgs=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Cell=1]="Cell";n[n.ColumnHeader=2]="ColumnHeader";n[n.RowHeader=3]="RowHeader";n[n.TopLeft=4]="TopLeft"})(t.CellType||(t.CellType={}));var i=t.CellType,r=function(){function r(i,u,f,e,o){this._offsetY=0;this._g=n.asType(i,t.FlexGrid);this._ct=n.asInt(u);this._rows=n.asType(f,t.RowCollection);this._cols=n.asType(e,t.ColumnCollection);this._e=n.asType(o,HTMLElement);this._rng=new t.CellRange;r._evtBlur||(r._evtBlur=document.createEvent('HTMLEvents'),r._evtBlur.initEvent('blur',!0,!1))}return Object.defineProperty(r.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"viewRange",{get:function(){return this._getViewRange(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),r.prototype.getCellData=function(r,u,f){var s=this._rows[n.asNumber(r,!1,!0)],h,e=null,o,c;if(n.isString(u)&&(u=this._cols.indexOf(u),u<0))throw'Invalid column name or binding.';if(h=this._cols[n.asNumber(u,!1,!0)],o=this._g?this._g._getBindingColumn(this,r,h):h,!o.binding||!s.dataItem||s.dataItem instanceof n.collections.CollectionViewGroup?s._ubv&&(e=s._ubv[h._hash]):e=o._binding.getValue(s.dataItem),e==null)switch(this._ct){case i.ColumnHeader:(r==this._rows.length-1||o!=h)&&(e=o.header);break;case i.Cell:h.aggregate!=n.Aggregate.None&&s instanceof t.GroupRow&&(c=n.tryCast(s.dataItem,n.collections.CollectionViewGroup),c&&(e=c.getAggregate(o.aggregate,o.binding,this._g.collectionView)))}return f&&(this.cellType==i.Cell&&o.dataMap&&(e=o.dataMap.getDisplayValue(e)),e=e!=null?n.Globalize.format(e,o.format):''),e},r.prototype.setCellData=function(t,r,u,f,e){var s,v,o,c,y,h,p,a,k;if(f===void 0&&(f=!0),e===void 0&&(e=!0),s=this._rows[n.asNumber(t,!1,!0)],n.isString(r)&&(r=this._cols.indexOf(r),r<0))throw'Invalid column name or binding.';if(v=this._cols[n.asNumber(r,!1,!0)],o=this._g?this._g._getBindingColumn(this,t,v):v,this._ct==i.Cell){if(o.dataMap&&u!=null&&(o.isRequired||u!=''&&u!=null))if(c=o.dataMap,y=c.getKeyValue(u),y==null){if(!c.isEditable||c.displayMemberPath!=c.selectedValuePath)return!1}else u=y;if(h=n.DataType.Object,o.dataType?h=o.dataType:(p=this.getCellData(t,r,!1),h=n.getType(p)),n.isBoolean(o.isRequired))if(o.isRequired||u!==''&&u!==null){if(o.isRequired&&(u===''||u===null))return!1}else u=null,f=!1;if(f&&(u=n.changeType(u,h,o.format),h!=n.DataType.Object&&n.getType(u)!=h))return!1}if(s.dataItem&&o.binding){var w=o._binding,l=s.dataItem,b=w.getValue(l);if(u!==b&&!n.DateTime.equals(u,b)&&(w.setValue(l,u),a=this._g.collectionView,a instanceof n.collections.CollectionView&&l!=a.currentEditItem)){k=new n.collections.NotifyCollectionChangedEventArgs(n.collections.NotifyCollectionChangedAction.Change,l,a.items.indexOf(l));a.onCollectionChanged(k)}}else s._ubv||(s._ubv={}),s._ubv[v._hash]=u;return e&&this._g&&this._g.invalidate(),!0},r.prototype.getCellBoundingRect=function(t,i,r){var o=this.rows[t],s=this.columns[i],u=new n.Rect(s.pos,o.pos,s.renderSize,o.renderSize),f,e;return this._g._rtl&&(u.left=this.hostElement.clientWidth-u.right,n.isIE()||(f=this.hostElement.parentElement,u.left-=f.offsetWidth-f.clientWidth)),r||(e=this.hostElement.getBoundingClientRect(),u.left+=e.left,u.top+=e.top-this._offsetY),t<this.rows.frozen&&(u.top-=this._g.scrollPosition.y),i<this.columns.frozen&&(u.left-=this._g.scrollPosition.x*(this._g._rtl?-1:1)),u},r.prototype.getSelectedState=function(n,r,u){var e=this._g,o=e.selectionMode,f=e._selHdl._sel;if(o!=t.SelectionMode.None)switch(this._ct){case i.Cell:if(u||(u=e.getMergedRange(this,n,r)),u){if(u.contains(f.row,f.col))return e.showMarquee?t.SelectedState.None:t.SelectedState.Cursor;if(u.intersects(f))return t.SelectedState.Selected}return f.row==n&&f.col==r?e.showMarquee?t.SelectedState.None:t.SelectedState.Cursor:e.rows[n].isSelected||e.columns[r].isSelected?t.SelectedState.Selected:(f=e._selHdl._adjustSelection(f),o==t.SelectionMode.ListBox)?t.SelectedState.None:f.containsRow(n)&&f.containsColumn(r)?t.SelectedState.Selected:t.SelectedState.None;case i.ColumnHeader:if(e.showSelectedHeaders&t.HeadersVisibility.Column&&(e.columns[r].isSelected||f.containsColumn(r)||f.intersectsColumn(u))&&(u&&(n=u.bottomRow),n==this.rows.length-1))return t.SelectedState.Selected;break;case i.RowHeader:if(e.showSelectedHeaders&t.HeadersVisibility.Row&&(e.rows[n].isSelected||f.containsRow(n)||f.intersectsRow(u))&&(u&&(r=u.rightCol),r==this.columns.length-1))return t.SelectedState.Selected}return t.SelectedState.None},Object.defineProperty(r.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),r.prototype._getOffsetY=function(){return this._offsetY},r.prototype._updateContent=function(t,u,f){var e,o,p,v=this._g,c=this._rows,d=this._cols,l,a,y,s,k,h;if((this._ct==i.ColumnHeader||this._ct==i.RowHeader)&&(l=v._ptScrl,a=this._e.style,this.cellType==i.ColumnHeader?v._rtl?a.right=l.x+'px':a.left=l.x+'px':this.cellType==i.RowHeader&&(a.top=l.y+'px')),this._offsetY!=f&&(t=!1,this._offsetY=f),y=this._getViewRange(!1),s=t&&v.isTouching?this._getViewRange(!0):y,!t||u||c.frozen||d.frozen||!this._rng.contains(y)){if(t&&s.equals(this._rng)||(u=!1),!t){var w=n.getActiveElement(),b=n.contains(this._e,w)?w:null,g=this._g.cellFactory;for(h=0;h<this._e.childElementCount;h++)g.disposeCell(this._e.children[h]);n.setText(this._e,null);b&&b.dispatchEvent(r._evtBlur);this._rowIdx=[]}for(t&&this._ct!=i.TopLeft&&this._reorderCells(s,this._rng),this._rng=s,o=0,this._rowIdx=[],e=s.topRow;e<=s.bottomRow&&e>-1;e++)this._rowIdx.push(o),o=this._renderRow(e,s,!1,u,o);for(this._rowIdx.push(o),e=s.topRow;e<=s.bottomRow&&e>-1;e++)o=this._renderRow(e,s,!0,u,o);for(e=0;e<c.frozen&&e<c.length;e++)o=this._renderRow(e,s,!1,u,o);for(e=0;e<c.frozen&&e<c.length;e++)o=this._renderRow(e,s,!0,u,o);for(k=this._e.childElementCount,h=o;h<k;h++)p=this._e.children[h],p.style.display='none'}},r.prototype._reorderCells=function(n,i){var h,r,s,c,f,l,e,o,u;if(this._rowIdx&&!(this._rows.frozen>0)&&!(this._cols.frozen>0)&&n.columnSpan==i.columnSpan&&n.rowSpan==i.rowSpan&&i.isValid&&n.isValid&&n.intersects(i)&&(n.row!=i.row&&(r=n.row-i.row,s=Math.max(1,n.rowSpan-1),r!=0&&Math.abs(r)<s&&(r>0&&(u=this._createRange(0,this._rowIdx[r]),this._e.appendChild(u.extractContents())),r<0&&(h=this._rowIdx.length-1,u=this._createRange(this._rowIdx[h+r],this._rowIdx[h]),this._e.insertBefore(u.extractContents(),this._e.firstChild)))),n.col!=i.col&&(r=n.col-i.col,s=Math.max(1,n.columnSpan-1),r!=0&&Math.abs(r)<s)))for(c=this._e.childElementCount,f=0;f<this._rowIdx.length-1;f++)l=this.rows[n.topRow+f],l instanceof t.GroupRow||(e=this._rowIdx[f],o=this._rowIdx[f+1],r>0&&e+r<=c&&(u=this._createRange(e,e+r),this._e.insertBefore(u.extractContents(),this._e.children[o])),r<0&&o+r-1>=0&&(u=this._createRange(o+r-1,o-1),this._e.insertBefore(u.extractContents(),this._e.children[e])))},r.prototype._createRange=function(n,t){var i=document.createRange();return i.setStart(this._e,n),i.setEnd(this._e,t),i},r.prototype._renderRow=function(n,t,i,r,u){var f;if(this.rows[n].renderSize<=0)return u;if(i)for(f=0;f<this.columns.frozen&&f<this.columns.length;f++)u=this._renderCell(n,f,t,r,u);else for(f=t.leftCol;f<=t.rightCol&&f>-1;f++)u=this._renderCell(n,f,t,r,u);return u},r.prototype._renderCell=function(i,r,u,f,e){var l=this._g,h=l.getMergedRange(this,i,r),s,o,c;if(h){for(s=Math.max(u.row,h.row);s<i;s++)if(this.rows[s].isVisible)return e;for(s=Math.max(u.col,h.col);s<r;s++)if(this.columns[s].isVisible)return e}return this.columns[r].renderSize<=0&&(!h||h.getRenderSize(this).width<=0)?e:(o=this._e.childNodes[e++],o&&f)?(c=this.getSelectedState(i,r,h),n.toggleClass(o,'wj-state-selected',c==t.SelectedState.Cursor),n.toggleClass(o,'wj-state-multi-selected',c==t.SelectedState.Selected),e):(o||(o=document.createElement('div'),o.tabIndex=0,this._e.appendChild(o)),l.cellFactory.updateCell(this,i,r,o,h),e)},r.prototype._getViewRange=function(n){var h=this._g,a=h._ptScrl,u=this._rows,f=this._cols,r=new t.CellRange(0,0,u.length-1,f.length-1),e,o;if(this._ct==i.Cell||this._ct==i.RowHeader){var c=-a.y+this._offsetY,v=h.clientSize.height,s=Math.min(u.frozen,u.length-1);s>0&&(e=u[s-1].pos,c+=e,v-=e);r.row=Math.min(u.length-1,Math.max(u.frozen,u.getItemAt(c+1)));r.row2=u.getItemAt(c+v)}if(this._ct==i.Cell||this._ct==i.ColumnHeader){var l=-a.x,y=h.clientSize.width,s=Math.min(f.frozen,f.length-1);s>0&&(e=f[s-1].pos,l+=e,y-=e);r.col=Math.min(f.length-1,Math.max(f.frozen,f.getItemAt(l+1)));r.col2=f.getItemAt(l+y)}return!n||this._ct!=i.Cell||u.frozen||f.frozen||(o=6,r.row<this._rng.row&&(r.row=Math.max(r.row-o,0)),r.row2>this._rng.row2&&(r.row2=Math.min(r.row2+o,u.length-1)),r.col<this._rng.col&&(r.col=Math.max(r.col-o,0)),r.col2>this._rng.col2&&(r.col2=Math.min(r.col2+o,f.length-1))),u.length<=u.frozen&&(r.row=r.row2=-1),f.length<=f.frozen&&(r.col=r.col2=-1),r},r.prototype._getFrozenPos=function(){var r=this._rows.frozen,u=this._cols.frozen,t=r>0?this._rows[r-1]:null,i=u>0?this._cols[u-1]:null,f=t?t.pos+t.renderSize:0,e=i?i.pos+i.renderSize:0;return new n.Point(e,f)},r}();t.GridPanel=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(){}return i.prototype.updateCell=function(r,u,f,e,o,s){var h=r.grid,p=r.cellType,g=r.rows,nt=r.columns,y=g[u],k=nt[f],tt=u,ut=f,w=n.tryCast(y,t.GroupRow),yt=n.tryCast(y,t._NewRowTemplate),pt=k.renderWidth,wt=y.renderHeight,a='wj-cell',l={display:''},bt=s!=!1,st,ft,d,dt,ct,et,v,lt,at,b,vt,it,ot,rt,ti,gt,o,ni;s!=!1&&e.firstElementChild&&(e.childNodes.length!=1||e.firstElementChild.type!='checkbox')&&(n.setText(e,null),bt=!1);o&&!o.isSingleCell&&(u=o.row,f=o.col,tt=o.row2,ut=o.col2,y=g[u],k=nt[f],w=n.tryCast(y,t.GroupRow),st=o.getRenderSize(r),wt=st.height,pt=st.width);var c=h._getBindingColumn(r,u,k),ht=k.pos,kt=y.pos;u<g.frozen&&(kt-=h._ptScrl.y);f<nt.frozen&&(ht-=h._ptScrl.x);h._rtl?l.right=ht+'px':l.left=ht+'px';l.top=kt-r._getOffsetY()+'px';l.width=pt+'px';l.height=wt+'px';p==t.CellType.Cell?(w&&(a+=' wj-group'),h.showAlternatingRows&&u%2!=0&&(a+=' wj-alt'),(u<g.frozen||f<nt.frozen)&&(a+=' wj-frozen'),yt&&(a+=' wj-new'),y.cssClass&&(a+=' '+y.cssClass),c.cssClass&&(a+=' '+c.cssClass)):(a+=' wj-header',h.showAlternatingRows&&u%2!=0&&(a+=' wj-header-alt'));ft=r.getSelectedState(u,f,o);ft!=t.SelectedState.None&&p==t.CellType.Cell&&k.dataType!=n.DataType.Boolean&&h.editRange&&h.editRange.contains(u,f)&&(ft=t.SelectedState.None);switch(ft){case t.SelectedState.Cursor:a+=' wj-state-selected';break;case t.SelectedState.Selected:a+=' wj-state-multi-selected'}if(tt==g.frozen-1&&(a+=' wj-frozen-row'),ut==nt.frozen-1&&(a+=' wj-frozen-col'),(k.wordWrap||y.wordWrap)&&(a+=' wj-wrap'),bt&&a==e.className&&(d=e.style,d.top==l.top&&d.width==l.width&&d.height==l.height&&(h._rtl&&d.right==l.right||!h._rtl&&d.left==l.left))){d.display&&(e.style.display='');return}l.textAlign=c.getAlignment();p==t.CellType.Cell&&h.rows.maxGroupLevel>-1&&(l.paddingLeft=l.paddingRight='',f==h.columns.firstVisibleIndex&&h.treeIndent&&(dt=w?Math.max(0,w.level):h.rows.maxGroupLevel+1,ct=h.treeIndent*dt+h._cellPadding,h._rtl?l.paddingRight=ct:l.paddingLeft=ct));s!=!1&&(et=r.getCellData(u,f,!1),v=r.getCellData(u,f,!0),p==t.CellType.Cell&&f==h.columns.firstVisibleIndex&&w&&w.hasChildren&&!this._isEditingCell(h,u,f)?(v||(v=w.getGroupHeader()),e.innerHTML=this._getTreeIcon(w)+' '+v,l.textAlign=''):p==t.CellType.ColumnHeader&&c.currentSort&&h.showSort&&(tt==h._getSortRowIndex()||c!=k)?(a+=' wj-sort-'+(c.currentSort=='+'?'asc':'desc'),e.innerHTML=n.escapeHtml(v)+'&nbsp;'+this._getSortIcon(c)):p!=t.CellType.RowHeader||f!=h.rowHeaders.columns.length-1||v?p==t.CellType.Cell&&c.dataType==n.DataType.Boolean&&(!w||n.isBoolean(et))?(b=e.firstChild,b instanceof HTMLInputElement&&b.type=='checkbox'||(e.innerHTML='<input type="checkbox"/>',b=e.firstChild),b.checked=et==!0?!0:!1,b.indeterminate=et==null,b.disabled=!h._edtHdl._allowEditing(u,f),b.disabled&&(b.style.cursor='default'),h.editRange&&h.editRange.contains(u,f)&&(h._edtHdl._edt=b)):p==t.CellType.Cell&&this._isEditingCell(h,u,f)?(vt=c.inputType,c.inputType||(vt=c.dataType==n.DataType.Number&&!c.dataMap?'tel':'text'),c.dataMap||c.mask||(it=r.getCellData(u,f,!1),n.isNumber(it)&&(ot=c.format,ot&&it!=Math.round(it)&&(ot=c.format.replace(/([a-z])(\d*)(.*)/ig,'$0112$3')),v=n.Globalize.formatNumber(it,ot,!0))),e.innerHTML='<input type="'+vt+'" class="wj-grid-editor wj-form-control">',rt=e.children[0],rt.value=v,rt.style.textAlign=c.getAlignment(),l.padding='0px',c.mask&&(ti=new n._MaskProvider(rt,c.mask)),h._edtHdl._edt=rt):p==t.CellType.Cell&&(y.isContentHtml||c.isContentHtml)?e.innerHTML=v:n.setText(e,v):(lt=h.collectionView,at=lt?lt.currentEditItem:null,at&&y.dataItem==at?v='\u270E':n.tryCast(y,t._NewRowTemplate)&&(v='*'),n.setText(e,v)),p==t.CellType.Cell&&n.input&&c.dataMap&&c.showDropDown!==!1&&h._edtHdl._allowEditing(u,f)&&(i._ddIcon||(i._ddIcon=n.createElement('<div class="'+i._WJC_DROPDOWN+'"><span class="wj-glyph-down"></span></div>')),gt=i._ddIcon.cloneNode(!0),e.appendChild(gt)));switch(p){case t.CellType.RowHeader:e.removeAttribute('draggable');w||yt||(h.allowDragging&t.AllowDragging.Rows)==0||e.setAttribute('draggable','true');break;case t.CellType.ColumnHeader:e.removeAttribute('draggable');(h.allowDragging&t.AllowDragging.Columns)!=0&&e.setAttribute('draggable','true')}if(e.className!=a&&(e.className=a),n.setCss(e,l),h.itemFormatter&&h.itemFormatter(r,u,f,e),h.formatItem.hasHandlers){o=i._fmtRng;o?o.setRange(u,f,tt,ut):o=i._fmtRng=new t.CellRange(u,f,tt,ut);ni=new t.FormatItemEventArgs(r,o,e);h.onFormatItem(ni)}},i.prototype.disposeCell=function(){},i.prototype._isEditingCell=function(n,t,i){return n.editRange&&n.editRange.contains(t,i)},i.prototype._getTreeIcon=function(n){var t='wj-glyph-'+(n.isCollapsed?'':'down-')+(n.grid._rtl?'left':'right');return'<span class="'+i._WJC_COLLAPSE+' '+t+'"></span>'},i.prototype._getSortIcon=function(n){return'<span class="wj-glyph-'+(n.currentSort=='+'?'up':'down')+'"></span>'},i._WJC_COLLAPSE='wj-elem-collapse',i._WJC_DROPDOWN='wj-elem-dropdown',i}();t.CellFactory=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(n,t,i,r){n===void 0&&(n=-1);t===void 0&&(t=-1);i===void 0&&(i=n);r===void 0&&(r=t);this.setRange(n,t,i,r)}return t.prototype.setRange=function(t,i,r,u){t===void 0&&(t=-1);i===void 0&&(i=-1);r===void 0&&(r=t);u===void 0&&(u=i);this._row=n.asInt(t);this._col=n.asInt(i);this._row2=n.asInt(r);this._col2=n.asInt(u)},Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){this._row=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._col},set:function(t){this._col=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=n.asInt(t)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this._row,this._col,this._row2,this._col2)},Object.defineProperty(t.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),t.prototype.contains=function(i,r){var u=n.tryCast(i,t);if(u)return u.topRow>=this.topRow&&u.bottomRow<=this.bottomRow&&u.leftCol>=this.leftCol&&u.rightCol<=this.rightCol;if(n.isInt(i)&&n.isInt(r))return i>=this.topRow&&i<=this.bottomRow&&r>=this.leftCol&&r<=this.rightCol;throw'contains expects a CellRange or row/column indices.';},t.prototype.containsRow=function(t){return n.asInt(t)>=this.topRow&&t<=this.bottomRow},t.prototype.containsColumn=function(t){return n.asInt(t)>=this.leftCol&&t<=this.rightCol},t.prototype.intersects=function(n){return this.intersectsRow(n)&&this.intersectsColumn(n)},t.prototype.intersectsRow=function(n){return n&&!(this.bottomRow<n.topRow||this.topRow>n.bottomRow)},t.prototype.intersectsColumn=function(n){return n&&!(this.rightCol<n.leftCol||this.leftCol>n.rightCol)},t.prototype.getRenderSize=function(t){var u=new n.Size(0,0),i,r;if(this.isValid){for(i=this.topRow;i<=this.bottomRow;i++)u.height+=t.rows[i].renderSize;for(r=this.leftCol;r<=this.rightCol;r++)u.width+=t.columns[r].renderSize}return u},t.prototype.equals=function(n){return n instanceof t&&this._row==n._row&&this._col==n._col&&this._row2==n._row2&&this._col2==n._col2},t}();t.CellRange=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var i,u,r,e,o,f,s,h;(function(n){n[n.Visible=1]="Visible";n[n.AllowResizing=2]="AllowResizing";n[n.AllowDragging=4]="AllowDragging";n[n.AllowMerging=8]="AllowMerging";n[n.AllowSorting=16]="AllowSorting";n[n.AutoGenerated=32]="AutoGenerated";n[n.Collapsed=64]="Collapsed";n[n.ParentCollapsed=128]="ParentCollapsed";n[n.Selected=256]="Selected";n[n.ReadOnly=512]="ReadOnly";n[n.HtmlContent=1024]="HtmlContent";n[n.WordWrap=2048]="WordWrap";n[n.RowDefault=3]="RowDefault";n[n.ColumnDefault=23]="ColumnDefault"})(t.RowColFlags||(t.RowColFlags={}));i=t.RowColFlags;u=function(){function r(){this._list=null;this._pos=0;this._idx=-1}return Object.defineProperty(r.prototype,"visible",{get:function(){return this._getFlag(i.Visible)},set:function(n){this._setFlag(i.Visible,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){return this._getFlag(i.Visible)?this._getFlag(i.ParentCollapsed)&&!(this instanceof t._NewRowTemplate)?!1:!0:!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pos",{get:function(){return this._list&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this._list&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=n.asNumber(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"renderSize",{get:function(){if(!this.isVisible)return 0;var n=this._sz,t=this._list;return(n==null||n<0)&&t!=null?Math.round(t.defaultSize):(t!=null&&(t.minSize!=null&&n<t.minSize&&(n=t.minSize),t.maxSize!=null&&n>t.maxSize&&(n=t.maxSize)),this._szMin!=null&&n<this._szMin&&(n=this._szMin),this._szMax!=null&&n>this._szMax&&(n=this._szMax),Math.round(n))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowResizing",{get:function(){return this._getFlag(i.AllowResizing)},set:function(n){this._setFlag(i.AllowResizing,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowDragging",{get:function(){return this._getFlag(i.AllowDragging)},set:function(n){this._setFlag(i.AllowDragging,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowMerging",{get:function(){return this._getFlag(i.AllowMerging)},set:function(n){this._setFlag(i.AllowMerging,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isSelected",{get:function(){return this._getFlag(i.Selected)},set:function(n){this._setFlag(i.Selected,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isReadOnly",{get:function(){return this._getFlag(i.ReadOnly)},set:function(n){this._setFlag(i.ReadOnly,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._getFlag(i.HtmlContent)},set:function(n){this.isContentHtml!=n&&(this._setFlag(i.HtmlContent,n),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"wordWrap",{get:function(){return this._getFlag(i.WordWrap)},set:function(n){this._setFlag(i.WordWrap,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=n.asString(t),this.grid&&this.grid.invalidate(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),r.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},r.prototype._getFlag=function(n){return(this._f&n)!=0},r.prototype._setFlag=function(n,t,i){return t!=this._getFlag(n)?(this._f=t?this._f|n:this._f&~n,i||this.onPropertyChanged(),!0):!1},r}();t.RowCol=u;r=function(r){function u(t){r.call(this);this._f=i.ColumnDefault;this._hash=u._ctr.toString(36);u._ctr++;t&&n.copy(this,t)}return __extends(u,r),Object.defineProperty(u.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dataType",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=n.asEnum(t,n.DataType),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"required",{get:function(){return n._deprecated('required','isRequired'),this.isRequired},set:function(t){n._deprecated('required','isRequired');this.isRequired=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showDropDown",{get:function(){return this._showDropDown},set:function(t){t!=this._showDropDown&&(this._showDropDown=n.asBoolean(t,!0),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){var r,i,u;t!=this.binding&&(r=n.asString(t),this._binding=r?new n.Binding(r):null,!this._type&&this.grid&&this._binding&&(i=this.grid.collectionView,i&&i.sourceCollection&&i.sourceCollection.length&&(u=i.sourceCollection[0],this._type=n.getType(this._binding.getValue(u)))),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var i=n.asString(t);this._bindingSort=i?new n.Binding(i):null;this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return this._szStar!=null?this._szStar:this.size},set:function(t){u._parseStarSize(t)!=null?(this._szStar=t,this.onPropertyChanged()):(this._szStar=null,this.size=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"minWidth",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=n.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxWidth",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=n.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"align",{get:function(){return this._align},set:function(n){this._align!=n&&(this._align=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),u.prototype.getAlignment=function(){var t=this._align;if(t==null&&(t='',!this._map))switch(this._type){case n.DataType.Boolean:t='center';break;case n.DataType.Number:t='right'}return t},Object.defineProperty(u.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(n){this._hdr!=n&&(this._hdr=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dataMap",{get:function(){return this._map},set:function(i){this._map!=i&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),n.isArray(i)&&(i=new t.DataMap(i,null,null)),this._map=n.asType(i,t.DataMap,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"format",{get:function(){return this._fmt},set:function(n){this._fmt!=n&&(this._fmt=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowSorting",{get:function(){return this._getFlag(i.AllowSorting)},set:function(n){this._setFlag(i.AllowSorting,n)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"currentSort",{get:function(){var t,n;if(this.grid&&this.grid.collectionView&&this.grid.collectionView.canSort)for(t=this.grid.collectionView.sortDescriptions,n=0;n<t.length;n++)if(t[n].property==this._getBindingSort())return t[n].ascending?'+':'-';return null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"aggregate",{get:function(){return this._agg!=null?this._agg:n.Aggregate.None},set:function(t){t!=this._agg&&(this._agg=n.asEnum(t,n.Aggregate),this.onPropertyChanged())},enumerable:!0,configurable:!0}),u.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},u._parseStarSize=function(t){if(n.isString(t)&&t.length>0&&t[t.length-1]=='*'){var i=t.length==1?1:t.substr(0,t.length-1)*1;if(i>0&&!isNaN(i))return i}return null},u._ctr=0,u}(u);t.Column=r;e=function(n){function t(t){n.call(this);this._f=i.ColumnDefault;this._data=t}return __extends(t,n),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(n){this._data=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(n){this.size=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(u);t.Row=e;o=function(r){function u(){r.call(this);this._level=-1;this.isReadOnly=!0}return __extends(u,r),Object.defineProperty(u.prototype,"level",{get:function(){return this._level},set:function(t){n.asInt(t);t!=this._level&&(this._level=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"hasChildren",{get:function(){if(this.grid!=null&&this._list!=null){this._list._update();var i=this.index<this._list.length-1?this._list[this.index+1]:null,r=n.tryCast(i,u),f=n.tryCast(i,t._NewRowTemplate);return i&&f==null&&(r==null||r.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isCollapsed",{get:function(){return this._getFlag(i.Collapsed)},set:function(t){n.asBoolean(t);t!=this.isCollapsed&&this._list!=null&&this._setCollapsed(t)},enumerable:!0,configurable:!0}),u.prototype.getGroupHeader=function(){var u=this.grid,o=u.groupHeaderFormat?u.groupHeaderFormat:n.culture.FlexGrid.groupHeaderFormat,r=n.tryCast(this.dataItem,n.collections.CollectionViewGroup);if(r&&o){var f=r.groupDescription.propertyName,i=r.name,t=u.columns.getColumn(f),e=this.isContentHtml;return t&&(e=e||t.isContentHtml,t.header&&(f=t.header),t.dataMap?i=t.dataMap.getDisplayValue(i):t.format&&(i=n.Globalize.format(i,t.format))),n.format(o,{name:n.escapeHtml(f),value:e?i:n.escapeHtml(i),level:r.level,count:r.items.length})}return''},u.prototype._setCollapsed=function(r){var c=this,f=this.grid,o=f.rows,h=this.getCellRange(),s=new t.CellRangeEventArgs(f.cells,new t.CellRange(this.index,-1)),e;f.onGroupCollapsedChanging(s);if(!s.cancel){f.deferUpdate(function(){c._setFlag(i.Collapsed,r);for(var t=h.topRow+1;t<=h.bottomRow&&t>-1&&t<o.length;t++)o[t]._setFlag(i.ParentCollapsed,r),e=n.tryCast(o[t],u),e!=null&&e.isCollapsed&&(t=e.getCellRange().bottomRow)});f.onGroupCollapsedChanged(s)}},u.prototype.getCellRange=function(){for(var f,e=this._list,o=this.index,r=e.length-1,i=o+1;i<=r;i++)if(f=n.tryCast(e[i],u),f!=null&&f.level<=this.level){r=i-1;break}return new t.CellRange(o,0,r,this.grid.columns.length-1)},u}(e);t.GroupRow=o;f=function(i){function r(r,u){i.call(this);this._frozen=0;this._szDef=28;this._szTot=0;this._dirty=!1;this._g=n.asType(r,t.FlexGrid);this._szDef=n.asNumber(u,!1,!0)}return __extends(r,i),Object.defineProperty(r.prototype,"defaultSize",{get:function(){return this._szDef},set:function(t){this._szDef!=t&&(this._szDef=n.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"frozen",{get:function(){return this._frozen},set:function(t){t!=this._frozen&&(this._frozen=n.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),r.prototype.isFrozen=function(n){return n<this.frozen},Object.defineProperty(r.prototype,"minSize",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=n.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxSize",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=n.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),r.prototype.getTotalSize=function(){return this._update(),this._szTot},r.prototype.getItemAt=function(n){if(this._update(),n<=0&&this.length>0)return 0;for(var u=0,i=this.length-1,t,r;u<=i;)if(t=u+i>>>1,r=this[t],r._pos>n)i=t-1;else if(r._pos+r.renderSize<n)u=t+1;else{while(t>0&&!this[t].visible)t--;while(t<this.length-1&&!this[t].visible)t++;return t}return i},r.prototype.getNextCell=function(n,i,r){var u,f;switch(i){case t.SelMove.Next:for(u=n+1;u<this.length;u++)if(this[u].renderSize>0)return u;break;case t.SelMove.Prev:for(u=n-1;u>=0;u--)if(this[u].renderSize>0)return u;break;case t.SelMove.End:for(u=this.length-1;u>=0;u--)if(this[u].renderSize>0)return u;break;case t.SelMove.Home:for(u=0;u<this.length;u++)if(this[u].renderSize>0)return u;break;case t.SelMove.NextPage:return f=this.getItemAt(this[n].pos+r),f<0?this.getNextCell(n,t.SelMove.End,r):f;case t.SelMove.PrevPage:return f=this.getItemAt(this[n].pos-r),f<0?this.getNextCell(n,t.SelMove.Home,r):f}return n},r.prototype.canMoveElement=function(n,i){var u,f,r;if(i==n||n<0||n>=this.length||i>=this.length)return!1;for(i<0&&(i=this.length-1),u=Math.min(n,i),f=Math.max(n,i),r=u;r<=f;r++)if(!this[r].allowDragging)return!1;return this[i]instanceof t._NewRowTemplate?!1:!0},r.prototype.moveElement=function(n,t){if(this.canMoveElement(n,t)){var i=this[n];this.removeAt(n);t<0&&(t=this.length);this.insert(t,i)}},r.prototype.onCollectionChanged=function(t){t===void 0&&(t=n.collections.NotifyCollectionChangedEventArgs.reset);this._dirty=!0;this._g.invalidate();i.prototype.onCollectionChanged.call(this,t)},r.prototype.push=function(n){return n._list=this,i.prototype.push.call(this,n)},r.prototype.splice=function(n,t,r){return r&&(r._list=this),i.prototype.splice.call(this,n,t,r)},r.prototype.beginUpdate=function(){this._update();i.prototype.beginUpdate.call(this)},r.prototype._update=function(){var i,n,t;if(this._dirty&&!this.isUpdating){for(this._dirty=!1,i=0,t=0;t<this.length;t++)n=this[t],n._idx=t,n._list=this,n._pos=i,i+=n.renderSize;return this._szTot=i,!0}return!1},r}(n.collections.ObservableArray);t.RowColCollection=f;s=function(n){function t(){n.apply(this,arguments);this._firstVisible=-1}return __extends(t,n),t.prototype.getColumn=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(t){var i;if(t instanceof r)return n.prototype.indexOf.call(this,t);for(i=0;i<this.length;i++)if(this[i].name==t)return i;for(i=0;i<this.length;i++)if(this[i].binding==t)return i;return-1},Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(n.prototype._update.call(this)){this._firstVisible=-1;for(var t=0;t<this.length;t++)if(this[t].visible){this._firstVisible=t;break}return!0}return!1},t.prototype._updateStarSizes=function(n){for(var u,t,e=0,f,i=0;i<this.length;i++)t=this[i],t.isVisible&&(t._szStar?(e+=r._parseStarSize(t._szStar),f=t):n-=t.renderWidth);if(f){for(u=n,i=0;i<this.length;i++)t=this[i],t.isVisible&&t._szStar&&(t==f&&u>0?t._sz=u:(t._sz=Math.max(0,Math.round(r._parseStarSize(t._szStar)/e*n)),u-=t.renderWidth));return this._dirty=!0,this._update(),!0}return!1},t}(f);t.ColumnCollection=s;h=function(t){function i(){t.apply(this,arguments);this._maxLevel=-1}return __extends(i,t),Object.defineProperty(i.prototype,"maxGroupLevel",{get:function(){return this._update(),this._maxLevel},enumerable:!0,configurable:!0}),i.prototype._update=function(){var i,r;if(t.prototype._update.call(this)){for(this._maxLevel=-1,i=0;i<this.length;i++)r=n.tryCast(this[i],o),r&&r.level>this._maxLevel&&(this._maxLevel=r.level);return!0}return!1},i}(f);t.RowCollection=h})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(r,u){var o,l,a;if(this._row=-1,this._col=-1,this._edge=0,r instanceof t.FlexGrid)this._g=r;else if(r instanceof t.GridPanel)this._p=r,r=this._g=this._p.grid;else throw'First parameter should be a FlexGrid or GridPanel.';u=n.mouseToPage(u);this._pt=u.clone();var v=r.controlRect,d=r.scrollPosition,y=r.clientSize,g=r.topLeftCells,nt=r._eTL,p=r.headersVisibility,w=t.HeadersVisibility,e=p&w.Row?g.columns.getTotalSize():0,s=p&w.Column?g.rows.getTotalSize():0,h=p&w.Column?s+nt.offsetTop:0;if(u.x=Math.max(0,u.x-v.left),u.y=Math.max(0,u.y-v.top),this._g._rtl&&(u.x=v.width-u.x),!this._p&&u.x>=0&&u.y>=nt.offsetTop&&y&&u.x<=y.width+e&&u.y<=y.height+h&&(this._p=u.x<=e&&u.y<=h?r.topLeftCells:u.x<=e?r.rowHeaders:u.y<=h?r.columnHeaders:r.cells),this._p!=null){var b=this._p.rows,k=this._p.columns,f=this._p.cellType,tt=f==t.CellType.ColumnHeader||f==t.CellType.TopLeft?s:b.getTotalSize(),it=f==t.CellType.RowHeader||f==t.CellType.TopLeft?e:k.getTotalSize(),c=this._p._getFrozenPos();if((f==t.CellType.Cell||f==t.CellType.RowHeader)&&(u.y-=s,(u.y>c.y||c.y<=0)&&(u.y-=d.y,u.y+=this._p._getOffsetY())),(f==t.CellType.Cell||f==t.CellType.ColumnHeader)&&(u.x-=e,(u.x>c.x||c.x<=0)&&(u.x-=d.x)),(f==t.CellType.ColumnHeader||f==t.CellType.TopLeft)&&(u.y-=h-s),this._row=u.y>tt?-1:b.getItemAt(u.y),this._col=u.x>it?-1:k.getItemAt(u.x),this._row<0||this._col<0){this._p=null;return}this._edge=0;o=i._SZEDGE[this._g.isTouching?1:0];this._col>-1&&(l=k[this._col],u.x-l.pos<=o&&(this._edge|=1),l.pos+l.renderSize-u.x<=o&&(this._edge|=4));this._row>-1&&(a=b[this._row],u.y-a.pos<=o&&(this._edge|=2),a.pos+a.renderSize-u.y<=o&&(this._edge|=8))}}return Object.defineProperty(i.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cellType",{get:function(){return this._p?this._p.cellType:t.CellType.None},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"range",{get:function(){return new t.CellRange(this._row,this._col)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"edgeLeft",{get:function(){return(this._edge&1)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"edgeTop",{get:function(){return(this._edge&2)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"edgeRight",{get:function(){return(this._edge&4)!=0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"edgeBottom",{get:function(){return(this._edge&8)!=0},enumerable:!0,configurable:!0}),i._SZEDGE=[5,30],i}();t.HitTestInfo=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';(function(n){n[n.None=0]="None";n[n.Cells=1]="Cells";n[n.ColumnHeaders=2]="ColumnHeaders";n[n.RowHeaders=4]="RowHeaders";n[n.AllHeaders=6]="AllHeaders";n[n.All=7]="All"})(t.AllowMerging||(t.AllowMerging={}));var i=t.AllowMerging,r=function(){function r(n){this._g=n}return r.prototype.getMergedRange=function(r,u,f,e){var c,g,b,v,y,nt,k,p,w;e===void 0&&(e=!0);var o,l,h=r.cellType,s=r.columns,a=r.rows,d=a[u],tt=s[f];if(d instanceof t._NewRowTemplate)return null;if(d instanceof t.GroupRow&&d.dataItem instanceof n.collections.CollectionViewGroup){if(o=new t.CellRange(u,f),tt.aggregate==n.Aggregate.None){while(o.col>0&&s[o.col-1].aggregate==n.Aggregate.None&&o.col!=s.frozen)o.col--;while(o.col2<s.length-1&&s[o.col2+1].aggregate==n.Aggregate.None&&o.col2+1!=s.frozen)o.col2++}while(o.col<f&&!s[o.col].visible)o.col++;return o.isSingleCell?null:o}c=!1;switch(this._g.allowMerging){case i.None:c=!0;break;case i.Cells:c=h!=t.CellType.Cell;break;case i.ColumnHeaders:c=h!=t.CellType.ColumnHeader&&h!=t.CellType.TopLeft;break;case i.RowHeaders:c=h!=t.CellType.RowHeader&&h!=t.CellType.TopLeft;break;case i.AllHeaders:c=h==t.CellType.Cell}if(c)return null;if(s[f].allowMerging){for(o=new t.CellRange(u,f),g=0,b=a.length-1,u>=a.frozen?e&&(h==t.CellType.Cell||h==t.CellType.RowHeader)&&(l=r._getViewRange(!0),g=l.topRow,b=l.bottomRow):b=a.frozen-1,v=u-1;v>=g&&this._mergeCell(r,v,f,u,f);v--)o.row=v;for(y=u+1;y<=b&&this._mergeCell(r,u,f,y,f);y++)o.row2=y;while(o.row<u&&!a[o.row].visible)o.row++;if(!o.isSingleCell)return o}if(a[u].allowMerging){for(o=new t.CellRange(u,f),nt=0,k=s.length-1,f>=s.frozen?e&&(h==t.CellType.Cell||h==t.CellType.ColumnHeader)&&(l=r._getViewRange(!0),nt=l.leftCol,k=l.rightCol):k=s.frozen-1,p=f-1;p>=nt&&this._mergeCell(r,u,p,u,f);p--)o.col=p;for(w=f+1;w<=k&&this._mergeCell(r,u,f,u,w);w++)o.col2=w;while(o.col<f&&!s[o.col].visible)o.col++;if(!o.isSingleCell)return o}return null},r.prototype._mergeCell=function(n,i,r,u,f){var e=n.rows[i],o=n.rows[u];return e instanceof t.GroupRow||e instanceof t._NewRowTemplate||o instanceof t.GroupRow||o instanceof t._NewRowTemplate?!1:i!=u&&n.rows.isFrozen(i)!=n.rows.isFrozen(u)?!1:r!=f&&n.columns.isFrozen(r)!=n.columns.isFrozen(f)?!1:i!=u&&(r>0&&(e.allowMerging&&this._mergeCell(n,i,r-1,i,r)||o.allowMerging&&this._mergeCell(n,u,r-1,u,r))||f<n.columns.length-1&&(e.allowMerging&&this._mergeCell(n,i,f,i,f+1)||o.allowMerging&&this._mergeCell(n,u,f,u,f+1)))?!1:n.getCellData(i,r,!0)!=n.getCellData(u,f,!0)?!1:!0},r}();t.MergeManager=r})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t,i,r){var f,u;if(this.mapChanged=new n.Event,n.isArray(t)&&!i&&!r){for(f=[],u=0;u<t.length;u++)f.push({value:t[u]});t=f;i=r='value'}this._cv=n.asCollectionView(t);this._keyPath=n.asString(i,!1);this._displayPath=n.asString(r,!1);this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(t.prototype,"sortByDisplayValues",{get:function(){return this._sortByKey!=!0},set:function(t){this._sortByKey=!n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),t.prototype.getKeyValue=function(n){var t=this._indexOf(n,this._displayPath,!1);return t>-1?this._cv.sourceCollection[t][this._keyPath]:null},t.prototype.getDisplayValue=function(n){var t=this._indexOf(n,this._keyPath,!0);return t>-1?this._cv.sourceCollection[t][this._displayPath]:n},t.prototype.getDisplayValues=function(){var i=[],t,n;if(this._cv&&this._displayPath)for(t=this._cv.items,n=0;n<t.length;n++)i.push(t[n][this._displayPath]);return i},t.prototype.getKeyValues=function(){var i=[],t,n;if(this._cv&&this._keyPath)for(t=this._cv.items,n=0;n<t.length;n++)i.push(t[n][this._keyPath]);return i},Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=n.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.onMapChanged=function(n){this.mapChanged.raise(this,n)},t.prototype._indexOf=function(n,t,i){var u,r;if(this._cv&&t){var f=n!=null?n.toString():'',e=i?f:f.toLowerCase(),o=this._cv.sourceCollection;for(u=0;u<o.length;u++)if((r=o[u][t],r==n)||!i&&r.length==e.length&&r.toLowerCase()==e||r!=null&&r.toString()==f)return u}return-1},t}();t.DataMap=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var r,f,i,u;(function(n){n[n.None=0]="None";n[n.Cell=1]="Cell";n[n.CellRange=2]="CellRange";n[n.Row=3]="Row";n[n.RowRange=4]="RowRange";n[n.ListBox=5]="ListBox"})(t.SelectionMode||(t.SelectionMode={}));r=t.SelectionMode,function(n){n[n.None=0]="None";n[n.Selected=1]="Selected";n[n.Cursor=2]="Cursor"}(t.SelectedState||(t.SelectedState={}));f=t.SelectedState,function(n){n[n.None=0]="None";n[n.Next=1]="Next";n[n.Prev=2]="Prev";n[n.NextPage=3]="NextPage";n[n.PrevPage=4]="PrevPage";n[n.Home=5]="Home";n[n.End=6]="End";n[n.NextCell=7]="NextCell";n[n.PrevCell=8]="PrevCell"}(t.SelMove||(t.SelMove={}));i=t.SelMove;u=function(){function u(n){this._sel=new t.CellRange(0,0);this._mode=r.CellRange;this._g=n}return Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._mode},set:function(n){var u,i,f,e;if(n!=this._mode){if(n==r.ListBox||this._mode==r.ListBox)for(u=this._g.rows,i=0;i<u.length;i++)f=u[i],e=n==r.ListBox?this._sel.containsRow(i):!1,f._setFlag(t.RowColFlags.Selected,e,!0);switch(n){case r.None:this._sel.setRange(-1,-1);break;case r.Cell:this._sel.row2=this._sel.row;this._sel.col2=this._sel.col;break;case r.Row:this._sel.row2=this._sel.row}this._mode=n;this._g.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selection",{get:function(){return this._sel},set:function(n){this.select(n)},enumerable:!0,configurable:!0}),u.prototype.select=function(i,u){var h,c,o,l;u===void 0&&(u=!0);n.isNumber(i)&&n.isNumber(u)&&(i=new t.CellRange(i,u),u=!0);i=n.asType(i,t.CellRange);var f=this._g,a=this._sel,e=i,s=!1;switch(f.selectionMode){case r.Cell:i.row2=i.row;i.col2=i.col;break;case r.Row:i.row2=i.row;break;case r.ListBox:s=!0}if(h=e.equals(a),s&&e.row>-1&&!f.rows[e.row].isSelected&&(h=!1),h){u&&f.scrollIntoView(e.row,e.col);return}if(c=new t.CellRangeEventArgs(f.cells,e),f.onSelectionChanging(c)){if(s){for(o=0;o<f.rows.length;o++)f.rows[o]._setFlag(t.RowColFlags.Selected,e.containsRow(o),!0);f.refreshCells(!1,!0,!0)}e.row=Math.min(e.row,f.rows.length-1);e.row2=Math.min(e.row2,f.rows.length-1);this._sel=e;f.refreshCells(!1,!0,!0);u&&f.scrollIntoView(e.row,e.col);f.collectionView&&(l=f._getCvIndex(e.row),f.collectionView.moveCurrentToPosition(l));f.onSelectionChanged(c)}},u.prototype.moveSelection=function(n,r,u){var e,f,h=this._g,l=h.rows,c=h.columns,o=this._getReferenceCell(n,r,u),s=Math.max(0,h.clientSize.height-h.columnHeaders.height),a;r==i.NextCell?(f=c.getNextCell(o.col,i.Next,s),e=o.row,f==o.col&&(e=l.getNextCell(e,i.Next,s),e>o.row&&(f=c.getNextCell(0,i.Next,s),f=c.getNextCell(f,i.Prev,s))),h.select(e,f)):r==i.PrevCell?(f=c.getNextCell(o.col,i.Prev,s),e=o.row,f==o.col&&(e=l.getNextCell(e,i.Prev,s),e<o.row&&(f=c.getNextCell(c.length-1,i.Prev,s),f=c.getNextCell(f,i.Next,s))),h.select(e,f)):(e=l.getNextCell(o.row,n,s),f=c.getNextCell(o.col,r,s),u?(a=h._selHdl._sel,h.select(new t.CellRange(e,f,a.row2,a.col2))):h.select(e,f))},u.prototype._getReferenceCell=function(n,t){var f=this._g,u=f._selHdl._sel,r=f.getMergedRange(f.cells,u.row,u.col);if(!r||r.isSingleCell)return u;r=r.clone();switch(n){case i.Next:case i.NextCell:r.row=r.bottomRow;break;case i.None:r.row=u.row}switch(t){case i.Next:case i.NextCell:r.col=r.rightCol;break;case i.None:r.col=u.col}return r},u.prototype._adjustSelection=function(n){switch(this._mode){case r.Cell:return new t.CellRange(n.row,n.col,n.row,n.col);case r.Row:return new t.CellRange(n.row,0,n.row,this._g.columns.length-1);case r.RowRange:case r.ListBox:return new t.CellRange(n.row,0,n.row2,this._g.columns.length-1)}return n},u}();t._SelectionHandler=u})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(n){this._g=n;n.addEventListener(n.hostElement,'keypress',this._keypress.bind(this));n.addEventListener(n.hostElement,'keydown',this._keydown.bind(this))}return i.prototype._keydown=function(i){var r=this._g,e=r.selection,f=i.ctrlKey||i.metaKey,u=i.shiftKey,a=i.target,o=!0,v,l;if(r.isRangeValid(e)&&!i.defaultPrevented){if(!r.activeEditor&&r._isInputElement(a)&&!a.getAttribute('wj-part'))return;if(r.activeEditor&&r._edtHdl._keydown(i))return;var h=n.tryCast(r.rows[e.row],t.GroupRow),c=n.tryCast(r.collectionView,'IEditableCollectionView'),s=i.keyCode;if(r.autoClipboard){if(f&&(s==67||s==45)){if(l=new t.CellRangeEventArgs(r.cells,e),r.onCopying(l)){v=r.getClipString();n.Clipboard.copy(v);r.onCopied(l)}i.stopPropagation();return}if(f&&s==86||u&&s==45){r.isReadOnly||(l=new t.CellRangeEventArgs(r.cells,e),r.onPasting(l)&&n.Clipboard.paste(function(n){r.setClipString(n);r.onPasted(l)}));i.stopPropagation();return}}if(r._rtl)switch(s){case n.Key.Left:s=n.Key.Right;break;case n.Key.Right:s=n.Key.Left}switch(s){case 65:f?r.select(new t.CellRange(0,0,r.rows.length-1,r.columns.length-1)):o=!1;break;case n.Key.Left:e.isValid&&e.col==0&&h!=null&&!h.isCollapsed&&h.hasChildren?h.isCollapsed=!0:this._moveSel(t.SelMove.None,f?t.SelMove.Home:t.SelMove.Prev,u);break;case n.Key.Right:e.isValid&&e.col==0&&h!=null&&h.isCollapsed?h.isCollapsed=!1:this._moveSel(t.SelMove.None,f?t.SelMove.End:t.SelMove.Next,u);break;case n.Key.Up:if(i.altKey&&r._edtHdl._toggleListBox(this._g.selection))break;this._moveSel(f?t.SelMove.Home:t.SelMove.Prev,t.SelMove.None,u);break;case n.Key.Down:if(i.altKey&&r._edtHdl._toggleListBox(this._g.selection))break;this._moveSel(f?t.SelMove.End:t.SelMove.Next,t.SelMove.None,u);break;case n.Key.PageUp:this._moveSel(t.SelMove.PrevPage,t.SelMove.None,u);break;case n.Key.PageDown:this._moveSel(t.SelMove.NextPage,t.SelMove.None,u);break;case n.Key.Home:this._moveSel(f?t.SelMove.Home:t.SelMove.None,t.SelMove.Home,u);break;case n.Key.End:this._moveSel(f?t.SelMove.End:t.SelMove.None,t.SelMove.End,u);break;case n.Key.Tab:this._moveSel(t.SelMove.None,u?t.SelMove.PrevCell:t.SelMove.NextCell,!1);break;case n.Key.Enter:this._moveSel(u?t.SelMove.Prev:t.SelMove.Next,t.SelMove.None,!1);!u&&c&&c.currentEditItem!=null&&r._edtHdl._commitRowEdits();break;case n.Key.Escape:c&&(c.currentEditItem!=null&&c.cancelEdit(),c.currentAddItem!=null&&c.cancelNew());r._mouseHdl.resetMouseState();break;case n.Key.Delete:o=this._deleteSel();break;case n.Key.F2:o=r.startEditing(!0);break;case n.Key.F4:o=r._edtHdl._toggleListBox(this._g.selection);break;case n.Key.Space:o=r.startEditing(!0);o&&setTimeout(function(){var t=r.activeEditor;t&&(t.type=='checkbox'?(t.checked=!t.checked,r.finishEditing()):n.setSelectionRange(t,t.value.length))});break;default:o=!1}o&&(i.preventDefault(),i.stopPropagation())}},i.prototype._keypress=function(t){var i=this._g;i.activeEditor?i._edtHdl._keypress(t):t.charCode>n.Key.Space&&i.startEditing(!1)&&i.activeEditor&&setTimeout(function(){var r=i.activeEditor;r&&r.type!='checkbox'&&(r.value=String.fromCharCode(t.charCode),n.setSelectionRange(r,1),r.dispatchEvent(i._edtHdl._evtInput),i._edtHdl._keypress(t))});t.stopPropagation()},i.prototype._moveSel=function(n,i,r){this._g.selectionMode!=t.SelectionMode.None&&this._g._selHdl.moveSelection(n,i,r)},i.prototype._deleteSel=function(){var i=this._g,f=n.tryCast(i.collectionView,'IEditableCollectionView'),u=i.selection,o=i.rows,e=[],h,a,r,s,c,l;if(i.allowDelete&&!i.isReadOnly&&(f==null||f.canRemove&&!f.isAddingNew&&!f.isEditingItem))switch(i.selectionMode){case t.SelectionMode.CellRange:if(u.leftCol==0&&u.rightCol==i.columns.length-1)for(r=u.topRow;r>-1&&r<=u.bottomRow;r++)e.push(o[r]);break;case t.SelectionMode.ListBox:for(r=0;r<o.length;r++)o[r].isSelected&&e.push(o[r]);break;case t.SelectionMode.Row:u.topRow>-1&&e.push(o[u.topRow]);break;case t.SelectionMode.RowRange:for(r=u.topRow;r>-1&&r<=u.bottomRow;r++)e.push(o[r])}if(e.length>0){for(f&&f.beginUpdate(),i.beginUpdate(),h=new t.CellRange,a=new t.CellRangeEventArgs(i.cells,h),r=e.length-1;r>=0;r--)if(s=e[r],h.row=h.row2=s.index,i.onDeletingRow(a)){f&&s.dataItem?f.remove(s.dataItem):i.rows.removeAt(s.index);i.onDeletedRow(a)}return i.endUpdate(),f&&f.endUpdate(),i.selectionMode==t.SelectionMode.ListBox&&(c=i.selection.row,c>-1&&c<i.rows.length&&(i.rows[c].isSelected=!0)),i.childItemsPath&&i.collectionView&&i.collectionView.refresh(),!0}return!i.isReadOnly&&e.length==0&&u.isSingleCell&&(l=i._getBindingColumn(i.cells,u.row,i.columns[u.col]),(l.isRequired==!1||l.isRequired==null&&l.dataType==n.DataType.String)&&i.getCellData(u.row,u.col,!0)&&i.startEditing(!1,u.row,u.col))?(i.setCellData(u.row,u.col,'',!0),i.finishEditing(!0),i.invalidate(),!0):!1},i}();t._KeyboardHandler=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=4,r,e,u,f;(function(n){n[n.None=0]="None";n[n.Columns=1]="Columns";n[n.Rows=2]="Rows";n[n.Both=3]="Both";n[n.ColumnsAllCells=n.Columns|i]="ColumnsAllCells";n[n.RowsAllCells=n.Rows|i]="RowsAllCells";n[n.BothAllCells=n.Both|i]="BothAllCells"})(t.AllowResizing||(t.AllowResizing={}));r=t.AllowResizing,function(n){n[n.None=0]="None";n[n.Headers=1]="Headers";n[n.Cells=2]="Cells";n[n.Both=3]="Both"}(t.AutoSizeMode||(t.AutoSizeMode={}));e=t.AutoSizeMode,function(n){n[n.None=0]="None";n[n.Columns=1]="Columns";n[n.Rows=2]="Rows";n[n.Both=3]="Both"}(t.AllowDragging||(t.AllowDragging={}));u=t.AllowDragging;f=function(){function f(t){var r=this,i=t.hostElement,u,f;this._g=t;t.addEventListener(i,'mousedown',function(n){n.defaultPrevented||n.button!=0||(t.addEventListener(document,'mousemove',u),t.addEventListener(document,'mouseup',f),r._mousedown(n))});u=function(n){r._mousemove(n)};f=function(n){t.removeEventListener(document,'mousemove');t.removeEventListener(document,'mouseup');r._mouseup(n)};t.addEventListener(i,'mousemove',this._hover.bind(this));t.addEventListener(i,'dblclick',this._dblclick.bind(this));t.addEventListener(i,'selectstart',function(n){n.target.tagName!='INPUT'&&n.preventDefault()});t.addEventListener(i,'wheel',function(i){var r=t.cells.hostElement.parentElement;r.scrollHeight>r.offsetHeight&&(i.deltaY<0&&r.scrollTop==0||i.deltaY>0&&r.scrollTop+r.offsetHeight>=r.scrollHeight)&&n.closest(i.target,'.wj-flexgrid')==t.hostElement&&(i.preventDefault(),i.stopPropagation())});t.addEventListener(i,'dragstart',this._dragstart.bind(this));t.addEventListener(i,'dragover',this._dragover.bind(this));t.addEventListener(i,'dragleave',this._dragover.bind(this));t.addEventListener(i,'drop',this._drop.bind(this));t.addEventListener(i,'dragend',this._dragend.bind(this));this._dvMarker=n.createElement('<div class="wj-marker">&nbsp;</div>')}return f.prototype.resetMouseState=function(){var n,t;this._dragSource&&(this._dragSource.style.opacity=1);this._showDragMarker(null);n=this._g.hostElement;n&&(n.style.cursor='default');t=this._g;t.removeEventListener(document,'mousemove');t.removeEventListener(document,'mouseup');this._htDown=null;this._lbSelRows=null;this._szRowCol=null;this._szArgs=null;this._dragSource=null},f.prototype._mousedown=function(i){var r=this._g,f,o,s,e,h;if(r._rcBounds=null,f=r.hitTest(i),o=f.cellType,o==t.CellType.None){r.finishEditing();return}if((o!=t.CellType.Cell||!r.editRange||!r.editRange.contains(f.range))&&(s=n.getActiveElement(),i.target!=s||!r._isInputElement(i.target))){if(i.target!=s&&r.focus(),this._htDown=f,this._eMouse=i,this._szRowCol!=null){this._handleResizing(i);return}switch(o){case t.CellType.Cell:i.ctrlKey&&r.selectionMode==t.SelectionMode.ListBox&&this._startListBoxSelection(f.row);this._mouseSelect(i,i.shiftKey);break;case t.CellType.RowHeader:(this._g.allowDragging&u.Rows)==0&&(i.ctrlKey&&r.selectionMode==t.SelectionMode.ListBox&&this._startListBoxSelection(f.row),this._mouseSelect(i,i.shiftKey))}if(o==t.CellType.Cell&&r.rows.maxGroupLevel>-1&&(e=n.tryCast(r.rows[f.row],t.GroupRow),h=n.closest(i.target,'.'+t.CellFactory._WJC_COLLAPSE),e&&h)){i.ctrlKey?r.collapseGroupsToLevel(e.isCollapsed?e.level+1:e.level):e.isCollapsed=!e.isCollapsed;this.resetMouseState();i.preventDefault();return}}},f.prototype._mousemove=function(n){var i=this;if(this._htDown!=null)if(setTimeout(function(){n.which&&i._g.containsFocus()||i.resetMouseState()}),this._eMouse=n,this._szRowCol)this._handleResizing(n);else switch(this._htDown.cellType){case t.CellType.Cell:this._mouseSelect(n,!0);break;case t.CellType.RowHeader:(this._g.allowDragging&u.Rows)==0&&this._mouseSelect(n,!0)}},f.prototype._mouseup=function(n){var i,r,u,f;this._dragSource&&this._g.isTouching||(i=this._htDown,!i||i.cellType!=t.CellType.TopLeft||this._szArgs||n.defaultPrevented?this._szArgs?this._finishResizing(n):this._handleSort(n):(r=this._g,u=r.hitTest(n),u.panel==i.panel&&u.row==i.row&&u.col==i.col&&(f=r.getMergedRange(i.panel,i.row,i.col)||u.range,f.row==0&&f.col==0&&r.select(new t.CellRange(0,0,r.rows.length-1,r.columns.length-1)))),this.resetMouseState())},f.prototype._dblclick=function(n){var u=this._g,e=u.hitTest(n),o=e.cellType,l=u.selection,s=e.range,f,h,c;if(!n.defaultPrevented){if(e.edgeRight&&u.allowResizing&r.Columns){if(o==t.CellType.ColumnHeader||o==t.CellType.Cell&&u.allowResizing&i){for(n.preventDefault(),n.ctrlKey&&l.containsColumn(e.col)&&(s=l),h=s.leftCol;h<=s.rightCol;h++)if(u.columns[h].allowResizing&&(f=new t.CellRangeEventArgs(u.cells,new t.CellRange(-1,h)),u.onAutoSizingColumn(f)&&u.onResizingColumn(f))){u.autoSizeColumn(h);u.onResizedColumn(f);u.onAutoSizedColumn(f)}}else if(o==t.CellType.TopLeft&&u.topLeftCells.columns[e.col].allowResizing&&(n.preventDefault(),f=new t.CellRangeEventArgs(u.topLeftCells,new t.CellRange(-1,e.col)),u.onAutoSizingColumn(f)&&u.onResizingColumn(f))){u.autoSizeColumn(e.col,!0);u.onAutoSizedColumn(f);u.onResizedColumn(f)}this.resetMouseState();return}if(e.edgeBottom&&u.allowResizing&r.Rows){if(o==t.CellType.RowHeader||o==t.CellType.Cell&&u.allowResizing&i){for(n.ctrlKey&&l.containsRow(e.row)&&(s=l),c=s.topRow;c<=s.bottomRow;c++)if(u.rows[c].allowResizing&&(f=new t.CellRangeEventArgs(u.cells,new t.CellRange(c,-1)),u.onAutoSizingRow(f)&&u.onResizingRow(f))){u.autoSizeRow(c);u.onResizedRow(f);u.onAutoSizedRow(f)}}else if(o==t.CellType.TopLeft&&u.topLeftCells.rows[e.row].allowResizing&&(f=new t.CellRangeEventArgs(u.topLeftCells,new t.CellRange(e.row,-1)),u.onAutoSizingRow(f)&&u.onResizingRow(f))){u.autoSizeRow(e.row,!0);u.onResizedRow(f);u.onAutoSizedRow(f)}this.resetMouseState()}}},f.prototype._hover=function(n){if(this._htDown==null){var u=this._g,f=u.hitTest(n),s=f.panel,e=f.cellType,o='default';this._szRowCol=null;(e==t.CellType.ColumnHeader||e==t.CellType.TopLeft||e==t.CellType.Cell&&u.allowResizing&i)&&f.edgeRight&&(u.allowResizing&r.Columns)!=0&&(this._szRowCol=this._getResizeCol(f));(e==t.CellType.RowHeader||e==t.CellType.TopLeft||e==t.CellType.Cell&&u.allowResizing&i)&&f.edgeBottom&&(u.allowResizing&r.Rows)!=0&&(this._szRowCol=this._getResizeRow(f));this._szRowCol instanceof t.Column?o='col-resize':this._szRowCol instanceof t.Row&&(o='row-resize');this._szStart=this._szRowCol?this._szRowCol.renderSize:0;u.hostElement.style.cursor=o}},f.prototype._getResizeCol=function(n){for(var i,r=n.panel.columns,f=r[n.col],u=n.col+1;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}if(n.col==r.length-1&&(n.cellType==t.CellType.TopLeft||n.cellType==t.CellType.RowHeader))for(r=this._g.columns,u=0;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}return f.allowResizing?f:null},f.prototype._getResizeRow=function(n){for(var i,r=n.panel.rows,f=r[n.row],u=n.row+1;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}if(n.row==r.length-1&&(n.cellType==t.CellType.TopLeft||n.cellType==t.CellType.ColumnHeader))for(r=this._g.rows,u=0;u<r.length;u++)if(i=r[u],i.visible){i.size<1&&(f=i);break}return f.allowResizing?f:null},f.prototype._mouseSelect=function(i,r){var f=this,u;this._htDown&&this._htDown.panel&&this._g.selectionMode!=t.SelectionMode.None&&(u=new t.HitTestInfo(this._htDown.panel,i),this._handleSelection(u,r),this._g._isInputElement(i.target)||i.preventDefault(),!n.isIE9()&&i.button>=0&&(u=new t.HitTestInfo(this._g,i),u.cellType!=t.CellType.Cell&&u.cellType!=t.CellType.RowHeader&&setTimeout(function(){f._mouseSelect(f._eMouse,r)},100)))},f.prototype._handleResizing=function(n){var u;if(n.preventDefault(),this._szRowCol instanceof t.Column){var i=this._g,e=n.clientX+pageXOffset,r=Math.round(Math.max(f._SZ_MIN,this._szStart+(e-this._htDown.point.x)*(i._rtl?-1:1)));this._szRowCol.renderSize!=r&&(this._szArgs==null&&(u=i.rowHeaders.columns.indexOf(this._szRowCol)>-1?i.rowHeaders:i.cells,this._szArgs=new t.CellRangeEventArgs(u,new t.CellRange(-1,this._szRowCol.index))),this._szArgs.cancel=!1,i.onResizingColumn(this._szArgs)&&(i.deferResizing||i.isTouching?this._showResizeMarker(r):this._szRowCol.width=r))}if(this._szRowCol instanceof t.Row){var i=this._g,o=n.clientY+pageYOffset,r=Math.round(Math.max(f._SZ_MIN,this._szStart+(o-this._htDown.point.y)));this._szRowCol.renderSize!=r&&(this._szArgs==null&&(u=i.columnHeaders.rows.indexOf(this._szRowCol)>-1?i.columnHeaders:i.cells,this._szArgs=new t.CellRangeEventArgs(u,new t.CellRange(this._szRowCol.index,-1))),this._szArgs.cancel=!1,i.onResizingRow(this._szArgs)&&(i.deferResizing||i.isTouching?this._showResizeMarker(r):this._szRowCol.height=r))}},f.prototype._dragstart=function(n){var i=this._g,r=this._htDown,f,e;r&&(this._dragSource=null,this._szRowCol||(f=new t.CellRangeEventArgs(i.cells,r.range),r.cellType==t.CellType.ColumnHeader&&i.allowDragging&u.Columns&&r.col>-1&&i.columns[r.col].allowDragging?i.onDraggingColumn(f)&&(this._dragSource=n.target):r.cellType==t.CellType.RowHeader&&i.allowDragging&u.Rows&&r.row>-1&&i.rows[r.row].allowDragging&&(e=i.rows[r.row],e instanceof t.GroupRow||e instanceof t._NewRowTemplate||i.onDraggingRow(f)&&(this._dragSource=n.target))),this._dragSource&&n.dataTransfer?(n.dataTransfer.effectAllowed='move',n.dataTransfer.setData('text',''),this._dragSource.style.opacity=.5,n.stopPropagation(),i.beginUpdate()):n.preventDefault())},f.prototype._dragend=function(){this._g.endUpdate();this.resetMouseState()},f.prototype._dragover=function(n){var r=this._g,i=r.hitTest(n),u=!1;this._htDown&&i.cellType==this._htDown.cellType&&(i.cellType==t.CellType.ColumnHeader?u=r.columns.canMoveElement(this._htDown.col,i.col):i.cellType==t.CellType.RowHeader&&(u=r.rows.canMoveElement(this._htDown.row,i.row)));u?(n.dataTransfer.dropEffect='move',n.preventDefault(),this._showDragMarker(i)):this._showDragMarker(null)},f.prototype._drop=function(n){var i=this._g,r=i.hitTest(n),f=new t.CellRangeEventArgs(i.cells,r.range),u;if(this._htDown&&r.cellType==this._htDown.cellType)if(u=i.selection,r.cellType==t.CellType.ColumnHeader){i.columns.moveElement(this._htDown.col,r.col);i.select(u.row,r.col);i.onDraggedColumn(f)}else if(r.cellType==t.CellType.RowHeader){i.rows.moveElement(this._htDown.row,r.row);i.select(r.row,u.col);i.onDraggedRow(f)}this.resetMouseState()},f.prototype._showResizeMarker=function(i){var f=this._g,e=this._dvMarker,r,u;e.parentElement||f.cells.hostElement.appendChild(e);u=this._szArgs.panel.cellType;this._szRowCol instanceof t.Column?(r={display:'',left:this._szRowCol.pos+i-1,top:0,right:'',bottom:0,width:3,height:'',zIndex:1e3},f._rtl&&(r.left=e.parentElement.clientWidth-r.left-r.width),(u==t.CellType.TopLeft||u==t.CellType.RowHeader)&&(r.left-=f.topLeftCells.hostElement.offsetWidth)):(r={left:0,top:this._szRowCol.pos+i-1,right:0,bottom:'',width:'',height:3,zIndex:1e3},(u==t.CellType.TopLeft||u==t.CellType.ColumnHeader)&&(r.top-=f.topLeftCells.hostElement.offsetHeight));n.setCss(e,r)},f.prototype._showDragMarker=function(i){var f=this._g,u=this._dvMarker,r,e,o;if(!i){u.parentElement&&u.parentElement.removeChild(u);this._rngTarget=null;return}if(!i.range.equals(this._rngTarget)){this._rngTarget=i.range;u.parentElement||i.panel.hostElement.appendChild(u);r={display:'',left:0,top:0,width:6,height:6};switch(i.cellType){case t.CellType.ColumnHeader:r.height=i.panel.height;e=f.columns[i.col];r.left=e.pos-r.width/2;i.col>this._htDown.col&&(r.left+=e.renderWidth);f._rtl&&(r.left=u.parentElement.clientWidth-r.left-r.width);break;case t.CellType.RowHeader:r.width=i.panel.width;o=f.rows[i.row];r.top=o.pos-r.height/2;i.row>this._htDown.row&&(r.top+=o.renderHeight)}n.setCss(u,r)}},f.prototype._finishResizing=function(n){var r=this._g,s=r.selection,c=this._eMouse.ctrlKey,i=this._szArgs,l=n.clientX+pageXOffset,a=n.clientY+pageYOffset,u,h,e,o;if(i&&!i.cancel&&i.col>-1){u=i.col;h=Math.round(Math.max(f._SZ_MIN,this._szStart+(l-this._htDown.point.x)*(this._g._rtl?-1:1)));i.panel.columns[u].width=Math.round(h);r.onResizedColumn(i);if(c&&this._htDown.cellType==t.CellType.ColumnHeader&&s.containsColumn(u))for(e=s.leftCol;e<=s.rightCol;e++)if(r.columns[e].allowResizing&&e!=u&&(i=new t.CellRangeEventArgs(r.cells,new t.CellRange(-1,e)),r.onResizingColumn(i))){r.columns[e].size=r.columns[u].size;r.onResizedColumn(i)}}if(i&&!i.cancel&&i.row>-1){u=i.row;h=Math.round(Math.max(f._SZ_MIN,this._szStart+(a-this._htDown.point.y)));i.panel.rows[u].height=Math.round(h);r.onResizedRow(i);if(c&&this._htDown.cellType==t.CellType.RowHeader&&s.containsRow(u))for(o=s.topRow;o<=s.bottomRow;o++)if(r.rows[o].allowResizing&&o!=u&&(i=new t.CellRangeEventArgs(r.cells,new t.CellRange(o,-1)),r.onResizingRow(i))){r.rows[o].size=r.rows[u].size;r.onResizedRow(i)}}},f.prototype._startListBoxSelection=function(n){var i=this._g.rows,t;for(this._lbSelState=!i[n].isSelected,this._lbSelRows={},t=0;t<i.length;t++)i[t].isSelected&&(this._lbSelRows[t]=!0)},f.prototype._handleSelection=function(n,i){var r=this._g,o=r.rows,e=r._selHdl._sel,f=new t.CellRange(n.row,n.col),s,u,h,c;if(n.row>-1&&n.col>-1)if(this._lbSelRows!=null){for(s=!1,f=new t.CellRange(n.row,n.col,this._htDown.row,this._htDown.col),u=0;u<o.length;u++)if(h=f.containsRow(u)?this._lbSelState:this._lbSelRows[u]!=null,h!=o[u].isSelected&&(c=new t.CellRangeEventArgs(r.cells,new t.CellRange(u,e.col,u,e.col2)),r.onSelectionChanging(c))){o[u]._setFlag(t.RowColFlags.Selected,h,!0);s=!0;r.onSelectionChanged(c)}s&&r.refreshCells(!1,!0,!0);r.scrollIntoView(n.row,n.col)}else n.cellType==t.CellType.RowHeader&&(f.col=0,f.col2=r.columns.length-1),i&&(f.row2=e.row2,f.col2=e.col2),r.select(f)},f.prototype._handleSort=function(i){var u=this._g,o=u.collectionView,r=u.hitTest(i),s,a,h,e;if(this._htDown&&r.cellType==this._htDown.cellType&&r.col==this._htDown.col&&r.cellType==t.CellType.ColumnHeader&&!r.edgeRight&&r.col>-1&&o&&o.canSort&&u.allowSorting){var c=u.getMergedRange(r.panel,r.row,r.col),v=c?c.row2:r.row,l=u.columns[r.col],f=u._getBindingColumn(r.panel,r.row,l);if((v==u._getSortRowIndex()||l!=f)&&(s=f.currentSort,a=s!='+',f.allowSorting&&f.binding)){if(!s&&i.ctrlKey)return;if(h=new t.CellRangeEventArgs(u.columnHeaders,new t.CellRange(-1,r.col)),u.onSortingColumn(h)){e=o.sortDescriptions;i.ctrlKey?e.clear():e.splice(0,e.length,new n.collections.SortDescription(f._getBindingSort(),a));u.onSortedColumn(h)}}}},f._SZ_MIN=0,f}();t._MouseHandler=f})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(i){var r=this;this._fullEdit=!1;this._list=null;this._g=i;this._evtInput=document.createEvent('HTMLEvents');this._evtInput.initEvent('input',!0,!1);i.selectionChanging.addHandler(function(n,t){var u;if(r.finishEditing(),u=i._selHdl._sel.row,u!=t.row){var f=i.rows.length,e=u>-1&&u<f?i.rows[u].dataItem:null,o=t.row>-1&&t.row<f?i.rows[t.row].dataItem:null;e!=o&&r._commitRowEdits()}});i.lostFocus.addHandler(function(){if(!r._g.containsFocus()){var t=n.getActiveElement();t&&getComputedStyle(t).position=='fixed'||r._commitRowEdits()}});i.addEventListener(i.hostElement,'mousedown',function(u){var o,e,f,s;if(!u.defaultPrevented&&u.button==0&&!i._mouseHdl._szRowCol)if(o=i.selection,e=i.hitTest(u),r._htDown=null,r._cancelClick=!1,e.cellType!=t.CellType.Cell&&e.cellType!=t.CellType.None)r._lbx&&n.contains(r._lbx.hostElement,u.target)||r._commitRowEdits();else if(e.cellType!=t.CellType.None){if(f=n.tryCast(u.target,HTMLInputElement),f&&f.type=='checkbox'&&n.hasClass(f.parentElement,'wj-cell')&&(f!=r.activeEditor?(r.startEditing(!1,e.row,e.col),setTimeout(function(){f=r.activeEditor;f&&f.type=='checkbox'?(f.checked=!f.checked,f.focus(),r.finishEditing()):r._cancelClick=!0})):r.finishEditing()),s=document.elementFromPoint(u.clientX,u.clientY),n.closest(s,'.'+t.CellFactory._WJC_DROPDOWN)){r._toggleListBox(e.range);r._htDown=null;u.preventDefault();return}f==null&&e.row==o.row&&e.col==o.col&&(r._htDown=e)}},!0);i.addEventListener(i.hostElement,'click',function(n){if(r._cancelClick){n.preventDefault();n.stopPropagation();return}if(r._htDown&&!r.activeEditor){var t=i.hitTest(n);t.range.equals(r._htDown.range)&&r.startEditing(!0,t.row,t.col)}},!0)}return i.prototype.startEditing=function(i,r,u,f){var e,s,h,c,l,a,o;if((i===void 0&&(i=!0),e=this._g,r=n.asNumber(r,!0,!0),u=n.asNumber(u,!0,!0),r==null&&(r=e.selection.row),u==null&&(u=e.selection.col),f==null&&(f=!0),!this._allowEditing(r,u))||(s=e.getMergedRange(e.cells,r,u),s||(s=new t.CellRange(r,u)),h=e.rows[r].dataItem,e.select(s,!0),!e.rows[r]||h!=e.rows[r].dataItem))return!1;if(s.equals(this._rng))return!0;if(c=new t.CellRangeEventArgs(e.cells,s),!e.onBeginningEdit(c))return!1;if(l=n.tryCast(e.collectionView,'IEditableCollectionView'),l&&(h=e.rows[r].dataItem,l.editItem(h)),this._fullEdit=i,this._rng=s,this._list=null,a=e.columns[u].dataMap,a&&(this._list=a.getDisplayValues()),e.refresh(!1),o=this._edt,o){o.type=='checkbox'?this._fullEdit=!1:f&&n.setSelectionRange(o,0,o.value.length);e.onPrepareCellForEdit(c);o=this._edt;o&&f&&o.focus()}return!0},i.prototype.finishEditing=function(i){var u,h,l,o,s;if(i===void 0&&(i=!1),u=this._edt,!u)return this._removeListBox(),!0;var r=this._g,f=this._rng,e=new t.CellRangeEventArgs(r.cells,f),c=this._g.containsFocus();if(r.activeEditor&&c&&(h=n.Control.getControl(n.closest(n.getActiveElement(),'.wj-control')),h))h.onLostFocus(e);e.cancel=i;r.onCellEditEnding(e);if(!e.cancel)for(l=u.type=='checkbox'?u.checked:u.value,o=f.topRow;o<=f.bottomRow&&o<r.rows.length;o++)for(s=f.leftCol;s<=f.rightCol&&s<r.columns.length;s++)r.cells.setCellData(o,s,l,!0);this._edt=null;this._rng=null;this._list=null;this._removeListBox();r.refresh(!1);c&&r.focus();r.onCellEditEnded(e);return!0},Object.defineProperty(i.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),i.prototype._allowEditing=function(n,i){var r=this._g;return r.isReadOnly||r.selectionMode==t.SelectionMode.None?!1:n<0||n>=r.rows.length||r.rows[n].isReadOnly||!r.rows[n].isVisible?!1:i<0||i>=r.columns.length||r.columns[i].isReadOnly||!r.columns[i].isVisible?!1:r._getBindingColumn(r.cells,n,r.columns[i]).isReadOnly?!1:!0},i.prototype._commitRowEdits=function(){var i,r,u;if(this.finishEditing(),i=this._g,r=n.tryCast(i.collectionView,'IEditableCollectionView'),r&&r.currentEditItem){u=new t.CellRangeEventArgs(i.cells,i.selection);i.onRowEditEnding(u);r.commitEdit();i.onRowEditEnded(u)}},i.prototype._keydown=function(t){switch(t.keyCode){case n.Key.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case n.Key.F4:return this._toggleListBox(this._g.selection),t.preventDefault(),!0;case n.Key.Space:var i=this._edt;return i&&i.type=='checkbox'&&(i.checked=!i.checked,this.finishEditing(),t.preventDefault()),!0;case n.Key.Enter:case n.Key.Tab:return this.finishEditing(),!1;case n.Key.Escape:return this.finishEditing(!0),!0;case n.Key.Up:case n.Key.Down:case n.Key.Left:case n.Key.Right:case n.Key.PageUp:case n.Key.PageDown:case n.Key.Home:case n.Key.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case n.Key.Up:case n.Key.Down:return this._toggleListBox(this._g.selection),t.preventDefault(),!0}if(!this._fullEdit)return this.finishEditing(),!1}return!0},i.prototype._keydownListBox=function(t){var i=!0;if(this._lbx)switch(t.keyCode){case n.Key.Up:t.altKey?this._toggleListBox(this._g.selection):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case n.Key.Down:t.altKey?this._toggleListBox(this._g.selection):this._lbx.selectedIndex++;break;case n.Key.Home:case n.Key.PageUp:this._lbx.selectedIndex=0;break;case n.Key.End:case n.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:i=!1}return i?(t.preventDefault(),!0):!1},i.prototype._keypress=function(t){var i=this._edt,f,u,r;if(i&&i.type!='checkbox'&&t.target==i&&this._list&&this._list.length>0&&t.charCode>=32)for(f=i.selectionStart,u=i.value.substr(0,f),t.target==i&&(f++,u+=String.fromCharCode(t.charCode)),u=u.toLowerCase(),r=0;r<this._list.length;r++)if(this._list[r].toLowerCase().indexOf(u)==0){i.value=this._list[r];n.setSelectionRange(i,f,this._list[r].length);i.dispatchEvent(this._evtInput);t.preventDefault();break}},i.prototype._toggleListBox=function(t){var i=this._g,r,u;return this._lbx&&(this._removeListBox(),i.selection.contains(t))?(i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus(),!0):(r=i.isTouching,u=i._getBindingColumn(i.cells,t.row,i.columns[t.col]),!n.input||!u.dataMap||u.showDropDown===!1)?!1:!n.input||!this.startEditing(!0,t.row,t.col,!r)?!1:(this._lbx=this._createListBox(),this._lbx.showSelection(),r&&this._lbx.focus(),!0)},i.prototype._createListBox=function(){var u=this,t=this._g,r=this._rng,o=t.rows[r.row],e=t._getBindingColumn(t.cells,r.row,t.columns[r.col]),f=document.createElement('div'),i=new n.input.ListBox(f);return n.addClass(f,'wj-dropdown-panel'),i.maxHeight=o.renderHeight*4,i.itemsSource=e.dataMap.getDisplayValues(),i.selectedValue=t.activeEditor?t.activeEditor.value:t.getCellData(r.row,r.col,!0),n.addClass(f,e.dropDownCssClass),i.addEventListener(i.hostElement,'click',function(){u._removeListBox();u.finishEditing()}),i.lostFocus.addHandler(function(){u._removeListBox()}),i.selectedIndexChanged.addHandler(function(){var i=t.activeEditor;i&&(i.value=u._lbx.selectedValue,i.dispatchEvent(u._evtInput),n.setSelectionRange(i,0,i.value.length))}),n.showPopup(f,t.getCellBoundingRect(r.row,r.col)),i},i.prototype._removeListBox=function(){this._lbx&&(n.hidePopup(this._lbx.hostElement,!0),this._lbx.dispose(),this._lbx=null)},i}();t._EditHandler=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){'use strict';var r=function(){function r(n){this._nrt=new i;this._g=n;n.beginningEdit.addHandler(this._beginningEdit,this);n.pastingCell.addHandler(this._beginningEdit,this);n.rowEditEnded.addHandler(this._rowEditEnded,this);n.loadedRows.addHandler(this.updateNewRowTemplate,this)}return r.prototype.updateNewRowTemplate=function(){var e=n.tryCast(this._g.collectionView,'IEditableCollectionView'),u=this._g,i=u.rows,o=e&&e.canAddNew&&u.allowAddNew&&!u.isReadOnly,r=i.indexOf(this._nrt),f;!o&&r>-1?(f=u.selection,f.row==r&&u.select(f.row-1,f.col),i.removeAt(r)):o&&(r<0?i.push(this._nrt):r!=i.length-1&&(i.removeAt(r),i.push(this._nrt)),this._nrt&&this._nrt._setFlag(t.RowColFlags.ParentCollapsed,!1))},r.prototype._beginningEdit=function(t,r){var f,u,e;if(!r.cancel&&(f=this._g.rows[r.row],n.tryCast(f,i)&&(u=n.tryCast(this._g.collectionView,'IEditableCollectionView'),u&&u.canAddNew))){e=u.currentAddItem&&u.currentAddItem==f.dataItem?u.currentAddItem:u.addNew();u.moveCurrentTo(e);this.updateNewRowTemplate();this._g.refresh(!0);this._g.onRowAdded(r);r.cancel&&u.cancelNew()}},r.prototype._rowEditEnded=function(){var t=n.tryCast(this._g.collectionView,'IEditableCollectionView');t&&t.isAddingNew&&t.commitNew()},r}(),i;t._AddNewHandler=r;i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(t.Row);t._NewRowTemplate=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t){this._tbx=n.createElement('<input class="wj-grid-editor wj-form-control" wj-part="ime-target"/>');this._cssHidden={opacity:'0',pointerEvents:'none',position:'absolute',left:-10,top:-10,width:0};n.setCss(this._tbx,this._cssHidden);this._g=t;this._g.cells.hostElement.parentElement.appendChild(this._tbx);this._updateImeFocus();var t=this._g,i=t.hostElement;t.addEventListener(this._tbx,'compositionstart',this._compositionstart.bind(this));t.addEventListener(i,'blur',this._updateImeFocus.bind(this),!0);t.addEventListener(i,'focus',this._updateImeFocus.bind(this),!0);t.addEventListener(i,'mousedown',this._mousedown.bind(this),!0);t.addEventListener(i,'mouseup',this._mouseup.bind(this),!0);t.cellEditEnded.addHandler(this._cellEditEnded,this);t.selectionChanged.addHandler(this._updateImeFocus,this)}return t.prototype.dispose=function(){var n=this._g,t=n.hostElement;n.removeEventListener(this._tbx,'compositionstart');n.removeEventListener(t,'blur');n.removeEventListener(t,'focus');n.removeEventListener(t,'mousedown');n.removeEventListener(t,'mouseup');n.cellEditEnded.removeHandler(this._cellEditEnded);n.selectionChanged.removeHandler(this._updateImeFocus);this._tbx.parentElement&&this._tbx.parentElement.removeChild(this._tbx)},t.prototype._cellEditEnded=function(){n.setCss(this._tbx,this._cssHidden);this._tbx.value=''},t.prototype._compositionstart=function(){var t=this._g,i,r,u;t.activeEditor==null&&(i=t._selHdl.selection,t.startEditing(!1,i.row,i.col,!1)&&(r=t.getCellBoundingRect(i.row,i.col),u=t.cells.hostElement,n.setCss(this._tbx,{opacity:'',pointerEvents:'',left:t.columns[i.col].pos+u.offsetLeft,top:t.rows[i.row].pos+u.offsetTop,width:r.width-1,height:r.height-1}),t._edtHdl._edt=this._tbx))},t.prototype._mousedown=function(){this._mouseDown=!0;this._updateImeFocus()},t.prototype._mouseup=function(){this._mouseDown=!1;this._updateImeFocus()},t.prototype._updateImeFocus=function(){var i=this._g,t,r;!i.containsFocus()||i.activeEditor||i.isTouching||this._mouseDown||(t=this._tbx,this._enableIme()?(t.disabled=!1,t.select()):t.disabled||(t.disabled=!0,r=n.getActiveElement(),r instanceof HTMLElement&&r.blur(),i.focus()))},t.prototype._enableIme=function(){var i=this._g,t=i.selection;return t.row<0||t.col<0||!i._edtHdl._allowEditing(t.row,t.col)?!1:i.columns[t.col].dataType==n.DataType.Boolean?!1:!0},t}();t._ImeHandler=i})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}))
/*
    *
    * Wijmo Library 5.20162.198
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends,wijmo;(function(n){var t;(function(n){var t;(function(){'use strict'})(t=n.filter||(n.filter={}))})(t=n.grid||(n.grid={}))})(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(){function t(t){this._maxValues=250;this._sortValues=!0;this._col=t;this._bnd=t.binding?new n.Binding(t.binding):null}return Object.defineProperty(t.prototype,"showValues",{get:function(){return this._values},set:function(n){this._values=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterText",{get:function(){return this._filterText},set:function(t){this._filterText=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValues",{get:function(){return this._maxValues},set:function(t){this._maxValues=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(t){this._uniqueValues=n.asArray(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortValues",{get:function(){return this._sortValues},set:function(t){this._sortValues=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._values!=null&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),t.prototype.apply=function(t){var i=this.column;return!this._bnd||!this._values||!Object.keys(this._values).length?!0:(t=this._bnd.getValue(t),t=i.dataMap?i.dataMap.getDisplayValue(t):n.Globalize.format(t,i.format),this._values[t]!=undefined)},t.prototype.clear=function(){this.showValues=null;this.filterText=null},t.prototype.implementsInterface=function(n){return n=='IColumnFilter'},t}();t.ValueFilter=i})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(i){function r(r,u){var f,e;i.call(this,r);this._filter=n.asType(u,t.ValueFilter,!1);f=this.getTemplate();this.applyTemplate('wj-control',f,{_divFilter:'div-filter',_cbSelectAll:'cb-select-all',_spSelectAll:'sp-select-all',_divValues:'div-values'});this._spSelectAll.textContent=n.culture.FlexGridFilter.selectAll;this._view=new n.collections.CollectionView;u.sortValues&&(e=u.column.dataMap?'text':'value',this._view.sortDescriptions.push(new n.collections.SortDescription(e,!0)));this._view.filter=this._filterValues.bind(this);this._view.collectionChanged.addHandler(this._updateSelectAllCheck,this);this._filterText='';this._cmbFilter=new n.input.ComboBox(this._divFilter,{placeholder:n.culture.FlexGridFilter.search});this._lbValues=new n.input.ListBox(this._divValues,{displayMemberPath:'text',checkedMemberPath:'show',itemsSource:this._view,itemFormatter:function(t,i){return i?i:n.culture.FlexGridFilter.null}});this._cmbFilter.textChanged.addHandler(this._filterTextChanged,this);this._cbSelectAll.addEventListener('click',this._cbSelectAllClicked.bind(this));this.updateEditor()}return __extends(r,i),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),r.prototype.updateEditor=function(){var i=this._filter.column,r=[],h,a,c,u,o,s,v,t;if(this._filter.uniqueValues)for(h=this._filter.uniqueValues,t=0;t<h.length;t++)u=h[t],r.push({value:u,text:u.toString()});else{var l={},f=i.collectionView?i.collectionView.sourceCollection:[],e=i.collectionView;if(e&&e.sourceCollection&&e.filter){for(a=this._filter.showValues,this._filter.showValues=null,c=[],t=0;t<f.length;t++)e.filter(f[t])&&c.push(f[t]);f=c;this._filter.showValues=a}for(t=0;t<f.length;t++)u=i._binding.getValue(f[t]),o=i.dataMap?i.dataMap.getDisplayValue(u):n.Globalize.format(u,i.format),l[o]||(l[o]=!0,r.push({value:u,text:o}))}if(s=this._filter.showValues,s&&Object.keys(s).length!=0){for(v in s)for(t=0;t<r.length;t++)if(r[t].text==v){r[t].show=!0;break}}else for(t=0;t<r.length;t++)r[t].show=!0;this._lbValues.isContentHtml=i.isContentHtml;this._cmbFilter.text=this._filter.filterText;this._filterText=this._cmbFilter.text.toLowerCase();this._view.pageSize=this._filter.maxValues;this._view.sourceCollection=r;this._view.moveCurrentToPosition(-1)},r.prototype.clearEditor=function(){var t,n;for(this._cmbFilter.text='',this._filterText='',this._view.refresh(),t=this._view.items,n=0;n<t.length;n++)t[n].show=!1},r.prototype.updateFilter=function(){var t=null,r=this._view.items,n,i;if(this._filterText||this._cbSelectAll.indeterminate)for(t={},n=0;n<r.length;n++)i=r[n],i.show&&(t[i.text]=!0);this._filter.showValues=t;this._filter.filterText=this._filterText},r.prototype._filterTextChanged=function(){var n=this;this._toText&&clearTimeout(this._toText);this._toText=setTimeout(function(){var t=n._cmbFilter.text.toLowerCase();t!=n._filterText&&(n._filterText=t,n._view.refresh(),n._cbSelectAll.checked=!0,n._cbSelectAllClicked())},500)},r.prototype._filterValues=function(n){return this._filterText?n&&n.text?n.text.toLowerCase().indexOf(this._filterText)>-1:!1:!0},r.prototype._cbSelectAllClicked=function(){for(var i=this._cbSelectAll.checked,t=this._view.items,n=0;n<t.length;n++)t[n].show=i;this._view.refresh()},r.prototype._updateSelectAllCheck=function(){for(var n=0,t=this._view.items,i=0;i<t.length;i++)t[i].show&&n++;n==0?(this._cbSelectAll.checked=!1,this._cbSelectAll.indeterminate=!1):n==t.length?(this._cbSelectAll.checked=!0,this._cbSelectAll.indeterminate=!1):this._cbSelectAll.indeterminate=!0},r.controlTemplate='<div><div wj-part="div-filter"><\/div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"><\/span><\/label><\/div><div wj-part="div-values" style="height:150px"><\/div><\/div>',r}(n.Control);t.ValueFilterEditor=i})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(){function i(i){this._c1=new t.FilterCondition;this._c2=new t.FilterCondition;this._and=!0;this._col=i;this._bnd=i.binding?new n.Binding(i.binding):null}return Object.defineProperty(i.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"and",{get:function(){return this._and},set:function(t){this._and=n.asBoolean(t);this._bnd=this._col&&this._col.binding?new n.Binding(this._col.binding):null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),i.prototype.apply=function(t){var i=this._col,r=this._c1,u=this._c2,f,e;return!this._bnd||!this.isActive?!0:(t=this._bnd.getValue(t),i.dataMap?t=i.dataMap.getDisplayValue(t):n.isDate(t)?(n.isString(r.value)||n.isString(u.value))&&(t=n.Globalize.format(t,i.format)):n.isNumber(t)&&(t=n.Globalize.parseFloat(n.Globalize.format(t,i.format))),f=r.apply(t),e=u.apply(t),r.isActive&&u.isActive?this._and?f&&e:f||e:r.isActive?f:u.isActive?e:!0)},i.prototype.clear=function(){this._c1.clear();this._c2.clear();this.and=!0},i.prototype.implementsInterface=function(n){return n=='IColumnFilter'},i}();t.ConditionFilter=i})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(i){function r(r,u){var e,f;i.call(this,r);this._filter=n.asType(u,t.ConditionFilter,!1);e=this.getTemplate();this.applyTemplate('wj-control',e,{_divHdr:'div-hdr',_divCmb1:'div-cmb1',_divVal1:'div-val1',_btnAnd:'btn-and',_btnOr:'btn-or',_spAnd:'sp-and',_spOr:'sp-or',_divCmb2:'div-cmb2',_divVal2:'div-val2'});this._divHdr.textContent=n.culture.FlexGridFilter.header;this._spAnd.textContent=n.culture.FlexGridFilter.and;this._spOr.textContent=n.culture.FlexGridFilter.or;this._cmb1=this._createOperatorCombo(this._divCmb1);this._cmb2=this._createOperatorCombo(this._divCmb2);this._val1=this._createValueInput(this._divVal1);this._val2=this._createValueInput(this._divVal2);f=this._btnAndOrChanged.bind(this);this._btnAnd.addEventListener('change',f);this._btnOr.addEventListener('change',f);this.updateEditor()}return __extends(r,i),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),r.prototype.updateEditor=function(){var t=this._filter.condition1,i=this._filter.condition2;this._cmb1.selectedValue=t.operator;this._cmb2.selectedValue=i.operator;this._val1 instanceof n.input.ComboBox?(this._val1.text=n.changeType(t.value,n.DataType.String,null),this._val2.text=n.changeType(i.value,n.DataType.String,null)):(this._val1.value=t.value,this._val2.value=i.value);this._btnAnd.checked=this._filter.and;this._btnOr.checked=!this._filter.and},r.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null;this._val1.text=this._val2.text=null;this._btnAnd.checked=!0;this._btnOr.checked=!1},r.prototype.updateFilter=function(){var t=this._filter.column,i=this._filter.condition1,r=this._filter.condition2,u;i.operator=this._cmb1.selectedValue;r.operator=this._cmb2.selectedValue;this._val1 instanceof n.input.ComboBox?(u=t.dataType==n.DataType.Date?n.DataType.String:t.dataType,i.value=n.changeType(this._val1.text,u,t.format),r.value=n.changeType(this._val2.text,u,t.format)):(i.value=this._val1.value,r.value=this._val2.value);this._filter.and=this._btnAnd.checked},r.prototype._createOperatorCombo=function(t){var i=this._filter.column,u=n.culture.FlexGridFilter.stringOperators,r;return i.dataType!=n.DataType.Date||this._isTimeFormat(i.format)?i.dataType!=n.DataType.Number||i.dataMap?i.dataType!=n.DataType.Boolean||i.dataMap||(u=n.culture.FlexGridFilter.booleanOperators):u=n.culture.FlexGridFilter.numberOperators:u=n.culture.FlexGridFilter.dateOperators,r=new n.input.ComboBox(t),r.itemsSource=u,r.displayMemberPath='name',r.selectedValuePath='op',r},r.prototype._createValueInput=function(t){var r=this._filter.column,i=null;return r.dataType!=n.DataType.Date||this._isTimeFormat(r.format)?r.dataType!=n.DataType.Number||r.dataMap?(i=new n.input.ComboBox(t),r.dataMap?(i.itemsSource=r.dataMap.getDisplayValues(),i.isEditable=!0):r.dataType==n.DataType.Boolean&&(i.itemsSource=[!0,!1])):(i=new n.input.InputNumber(t),i.format=r.format):(i=new n.input.InputDate(t),i.format=r.format),i.isRequired=!1,i},r.prototype._isTimeFormat=function(t){return t?(t=n.culture.Globalize.calendar.patterns[t]||t,/[Hmst]+/.test(t)):!1},r.prototype._btnAndOrChanged=function(n){this._btnAnd.checked=n.target==this._btnAnd;this._btnOr.checked=n.target==this._btnOr},r.controlTemplate='<div><div wj-part="div-hdr"><\/div><div wj-part="div-cmb1"><\/div><br/><div wj-part="div-val1"><\/div><br/><div style="text-align:center"><label><input wj-part="btn-and" type="radio"> <span wj-part="sp-and"><\/span> <\/label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio"> <span wj-part="sp-or"><\/span> <\/label><\/div><div wj-part="div-cmb2"><\/div><br/><div wj-part="div-val2"><\/div><br/><\/div>',r}(n.Control);t.ConditionFilterEditor=i})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(t){'use strict';var r=function(){function t(){this._op=null}return Object.defineProperty(t.prototype,"operator",{get:function(){return this._op},set:function(t){this._op=n.asEnum(t,i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._val},set:function(t){this._val=t;this._strVal=n.isString(t)?t.toString().toLowerCase():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case i.EQ:case i.NE:return!0;default:return this._val!=null||this._strVal!=null}},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.operator=null;this.value=null},t.prototype.apply=function(t){var r=this._strVal||this._val;n.isString(t)&&(t=t.toLowerCase());switch(this._op){case null:return!0;case i.EQ:return n.isDate(t)&&n.isDate(r)?n.DateTime.sameDate(t,r):t==r;case i.NE:return t!=r;case i.GT:return t>r;case i.GE:return t>=r;case i.LT:return t<r;case i.LE:return t<=r;case i.BW:return this._strVal&&n.isString(t)?t.indexOf(this._strVal)==0:!1;case i.EW:return this._strVal&&n.isString(t)&&t.length>=this._strVal.length?t.substr(t.length-this._strVal.length)==r:!1;case i.CT:return this._strVal&&n.isString(t)?t.indexOf(this._strVal)>-1:!1;case i.NC:return this._strVal&&n.isString(t)?t.indexOf(this._strVal)<0:!1}throw'Unknown operator';},t}(),i;t.FilterCondition=r,function(n){n[n.EQ=0]="EQ";n[n.NE=1]="NE";n[n.GT=2]="GT";n[n.GE=3]="GE";n[n.LT=4]="LT";n[n.LE=5]="LE";n[n.BW=6]="BW";n[n.EW=7]="EW";n[n.CT=8]="CT";n[n.NC=9]="NC"}(t.Operator||(t.Operator={}));i=t.Operator})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(){function i(n,i){this._owner=n;this._col=i;this._valueFilter=new t.ValueFilter(i);this._conditionFilter=new t.ConditionFilter(i)}return Object.defineProperty(i.prototype,"filterType",{get:function(){return this._filterType!=null?this._filterType:this._owner.defaultFilterType},set:function(i){if(i!=this._filterType){var r=this.isActive;this.clear();this._filterType=n.asEnum(i,t.FilterType,!0);r?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),i.prototype.apply=function(n){return this._conditionFilter.apply(n)&&this._valueFilter.apply(n)},i.prototype.clear=function(){this._valueFilter.clear();this._conditionFilter.clear()},i.prototype.implementsInterface=function(n){return n=='IColumnFilter'},i}();t.ColumnFilter=i})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){'use strict';n.culture.FlexGridFilter={ascending:'\u2191 Ascending',descending:'\u2193 Descending',apply:'Apply',clear:'Clear',conditions:'Filter by Condition',values:'Filter by Value',search:'Search',selectAll:'Select All',null:'(nothing)',header:'Show items where the value',and:'And',or:'Or',stringOperators:[{name:'(not set)',op:null},{name:'Equals',op:t.Operator.EQ},{name:'Does not equal',op:t.Operator.NE},{name:'Begins with',op:t.Operator.BW},{name:'Ends with',op:t.Operator.EW},{name:'Contains',op:t.Operator.CT},{name:'Does not contain',op:t.Operator.NC}],numberOperators:[{name:'(not set)',op:null},{name:'Equals',op:t.Operator.EQ},{name:'Does not equal',op:t.Operator.NE},{name:'Is Greater than',op:t.Operator.GT},{name:'Is Greater than or equal to',op:t.Operator.GE},{name:'Is Less than',op:t.Operator.LT},{name:'Is Less than or equal to',op:t.Operator.LE}],dateOperators:[{name:'(not set)',op:null},{name:'Equals',op:t.Operator.EQ},{name:'Is Before',op:t.Operator.LT},{name:'Is After',op:t.Operator.GT}],booleanOperators:[{name:'(not set)',op:null},{name:'Equals',op:t.Operator.EQ},{name:'Does not equal',op:t.Operator.NE}]};var i=function(i){function r(r,u,f){var o=this,h,c,l,s,e;f===void 0&&(f=!0);i.call(this,r);this.filterChanged=new n.Event;this.buttonClicked=new n.Event;this._filter=n.asType(u,t.ColumnFilter);h=this.getTemplate();this.applyTemplate('wj-control wj-columnfiltereditor wj-content',h,{_divSort:'div-sort',_btnAsc:'btn-asc',_btnDsc:'btn-dsc',_divType:'div-type',_aVal:'a-val',_aCnd:'a-cnd',_divEdtVal:'div-edt-val',_divEdtCnd:'div-edt-cnd',_btnApply:'btn-apply',_btnClear:'btn-clear'});this._btnAsc.textContent=n.culture.FlexGridFilter.ascending;this._btnDsc.textContent=n.culture.FlexGridFilter.descending;this._aVal.textContent=n.culture.FlexGridFilter.values;this._aCnd.textContent=n.culture.FlexGridFilter.conditions;this._btnApply.textContent=n.culture.FlexGridFilter.apply;this._btnClear.textContent=n.culture.FlexGridFilter.clear;c=this.filter.conditionFilter.isActive||(u.filterType&t.FilterType.Value)==0?t.FilterType.Condition:t.FilterType.Value;this._showFilter(c);l=this.filter.column;s=l.grid.collectionView;f&&s&&s.canSort||(this._divSort.style.display='none');this.updateEditor();e=this._btnClicked.bind(this);this._btnApply.addEventListener('click',e);this._btnClear.addEventListener('click',e);this._btnAsc.addEventListener('click',e);this._btnDsc.addEventListener('click',e);this._aVal.addEventListener('click',e);this._aCnd.addEventListener('click',e);this.hostElement.addEventListener('keydown',function(t){switch(t.keyCode){case n.Key.Enter:switch(t.target.tagName){case'A':case'BUTTON':o._btnClicked(t);break;default:o.updateFilter();o.onFilterChanged();o.onButtonClicked()}t.preventDefault();break;case n.Key.Escape:o.onButtonClicked();t.preventDefault()}})}return __extends(r,i),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),r.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor();this._edtCnd&&this._edtCnd.updateEditor()},r.prototype.updateFilter=function(){switch(this._getFilterType()){case t.FilterType.Value:this._edtVal.updateFilter();this.filter.conditionFilter.clear();break;case t.FilterType.Condition:this._edtCnd.updateFilter();this.filter.valueFilter.clear()}},r.prototype.onFilterChanged=function(n){this.filterChanged.raise(this,n)},r.prototype.onButtonClicked=function(n){this.buttonClicked.raise(this,n)},r.prototype._showFilter=function(n){n==t.FilterType.Value&&this._edtVal==null&&(this._edtVal=new t.ValueFilterEditor(this._divEdtVal,this.filter.valueFilter));n==t.FilterType.Condition&&this._edtCnd==null&&(this._edtCnd=new t.ConditionFilterEditor(this._divEdtCnd,this.filter.conditionFilter));(n&this.filter.filterType)!=0&&(n==t.FilterType.Value?(this._divEdtVal.style.display='',this._divEdtCnd.style.display='none',this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0)):(this._divEdtVal.style.display='none',this._divEdtCnd.style.display='',this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1)));switch(this.filter.filterType){case t.FilterType.None:case t.FilterType.Condition:case t.FilterType.Value:this._divType.style.display='none';break;default:this._divType.style.display=''}},r.prototype._enableLink=function(n,t){n.style.textDecoration=t?'':'none';n.style.fontWeight=t?'':'bold';t?n.href='':n.removeAttribute('href')},r.prototype._getFilterType=function(){return this._divEdtVal.style.display!='none'?t.FilterType.Value:t.FilterType.Condition},r.prototype._btnClicked=function(i){if(i.preventDefault(),i.stopPropagation(),!n.hasClass(i.target,'wj-state-disabled')){if(i.target==this._aVal){this._showFilter(t.FilterType.Value);this._edtVal.focus();return}if(i.target==this._aCnd){this._showFilter(t.FilterType.Condition);this._edtCnd.focus();return}if(i.target==this._btnAsc||i.target==this._btnDsc){var r=this.filter.column,f=r.sortMemberPath?r.sortMemberPath:r.binding,u=r.grid.collectionView,e=new n.collections.SortDescription(f,i.target==this._btnAsc);u.sortDescriptions.deferUpdate(function(){u.sortDescriptions.clear();u.sortDescriptions.push(e)})}i.target==this._btnApply?(this.updateFilter(),this.onFilterChanged()):i.target==this._btnClear&&this.filter.isActive&&(this.filter.clear(),this.onFilterChanged());this.updateEditor();this.onButtonClicked()}},r.controlTemplate='<div><div wj-part="div-sort"><a wj-part="btn-asc" href="" style="min-width:95px" draggable="false"><\/a>&nbsp;&nbsp;&nbsp;<a wj-part="btn-dsc" href="" style="min-width:95px" draggable="false"><\/a><\/div><div style="text-align:right;margin:10px 0px;font-size:80%"><div wj-part="div-type"><a wj-part="a-cnd" href="" draggable="false"><\/a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"><\/a><\/div><\/div><div wj-part="div-edt-val"><\/div><div wj-part="div-edt-cnd"><\/div><div style="text-align:right;margin-top:10px"><a wj-part="btn-apply" href="" draggable="false"><\/a>&nbsp;&nbsp;<a wj-part="btn-clear" href="" draggable="false"><\/a><\/div>',r}(n.Control);t.ColumnFilterEditor=i})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){var i;(function(i){'use strict';(function(n){n[n.None=0]="None";n[n.Condition=1]="Condition";n[n.Value=2]="Value";n[n.Both=3]="Both"})(i.FilterType||(i.FilterType={}));var r=i.FilterType,u=function(){function u(i){this._showIcons=!0;this._showSort=!0;this._defFilterType=r.Both;this.filterApplied=new n.Event;this.filterChanging=new n.Event;this.filterChanged=new n.Event;var u='Missing dependency: FlexGridFilter requires ';n.assert(n.grid!=null,u+'wijmo.grid.');n.assert(n.input!=null,u+'wijmo.input.');this._filters=[];this._g=n.asType(i,t.FlexGrid,!1);this._g.formatItem.addHandler(this._formatItem.bind(this));this._g.itemsSourceChanged.addHandler(this.clear.bind(this));this._g.hostElement.addEventListener('mousedown',this._mouseDown.bind(this),!0);this._g.invalidate()}return Object.defineProperty(u.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(t){this._filterColumns=n.asArray(t);this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(t){t!=this.showFilterIcons&&(this._showIcons=n.asBoolean(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(t){this._showSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),u.prototype.getColumnFilter=function(r,u){var f,e;for(u===void 0&&(u=!0),n.isString(r)?r=this._g.columns.getColumn(r):n.isNumber(r)&&(r=this._g.columns[r]),r=n.asType(r,t.Column),f=0;f<this._filters.length;f++)if(this._filters[f].column==r)return this._filters[f];return u&&r.binding?(e=new i.ColumnFilter(this,r),this._filters.push(e),e):null},Object.defineProperty(u.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(t){t!=this.defaultFilterType&&(this._defFilterType=n.asEnum(t,r,!1),this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"filterDefinition",{get:function(){for(var n,t,u,i={defaultFilterType:this.defaultFilterType,filters:[]},r=0;r<this._filters.length;r++)n=this._filters[r],n&&n.column&&n.column.binding&&(n.conditionFilter.isActive?(t=n.conditionFilter,i.filters.push({binding:n.column.binding,type:'condition',condition1:{operator:t.condition1.operator,value:t.condition1.value},and:t.and,condition2:{operator:t.condition2.operator,value:t.condition2.value}})):n.valueFilter.isActive&&(u=n.valueFilter,i.filters.push({binding:n.column.binding,type:'value',filterText:u.filterText,showValues:u.showValues})));return JSON.stringify(i)},set:function(t){var e=JSON.parse(n.asString(t)),f,r,s;for(this.clear(),this.defaultFilterType=e.defaultFilterType,f=0;f<e.filters.length;f++){var i=e.filters[f],u=this._g.columns.getColumn(i.binding),o=this.getColumnFilter(u,!0);if(o)switch(i.type){case'condition':r=o.conditionFilter;r.condition1.value=u.dataType==n.DataType.Date?n.changeType(i.condition1.value,u.dataType,null):i.condition1.value;r.condition1.operator=i.condition1.operator;r.and=i.and;r.condition2.value=u.dataType==n.DataType.Date?n.changeType(i.condition2.value,u.dataType,null):i.condition2.value;r.condition2.operator=i.condition2.operator;break;case'value':s=o.valueFilter;s.filterText=i.filterText;s.showValues=i.showValues}}this.apply()},enumerable:!0,configurable:!0}),u.prototype.editColumnFilter=function(r,u){var o=this,f;this.closeEditor();r=n.isString(r)?this._g.columns.getColumn(r):n.asType(r,t.Column,!1);f=new t.CellRangeEventArgs(this._g.cells,new t.CellRange(-1,r.index));this.onFilterChanging(f);if(!f.cancel){f.cancel=!0;var e=document.createElement('div'),a=this.getColumnFilter(r),h=new i.ColumnFilterEditor(e,a,this.showSortButtons);n.addClass(e,'wj-dropdown-panel');this._g._rtl&&(e.dir='rtl');h.filterChanged.addHandler(function(){f.cancel=!1;setTimeout(function(){f.cancel||o.apply()})});h.buttonClicked.addHandler(function(){o.closeEditor();o.onFilterChanged(f)});h.lostFocus.addHandler(function(){setTimeout(function(){var t=n.Control.getControl(o._divEdt);t&&!t.containsFocus()&&o.closeEditor()},10)});var l=this._g.columnHeaders,v=u?u.row:l.rows.length-1,y=u?u.col:r.index,s=l.getCellBoundingRect(v,y),c=document.elementFromPoint(s.left+s.width/2,s.top+s.height/2);c=n.closest(c,'.wj-cell');c?n.showPopup(e,c,!1,!1,!1):n.showPopup(e,s);h.focus();this._divEdt=e;this._edtCol=r}},u.prototype.closeEditor=function(){if(this._divEdt){n.hidePopup(this._divEdt,!0);var t=n.Control.getControl(this._divEdt);t&&t.dispose();this._divEdt=null;this._edtCol=null}},u.prototype.apply=function(){var t=this._g.collectionView,i;t&&(t.filter?t.refresh():t.filter=this._filter.bind(this));i=t?t.updateFilterDefinition:null;n.isFunction(i)&&i.call(t,this);this.onFilterApplied()},u.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},u.prototype.onFilterApplied=function(n){this.filterApplied.raise(this,n)},u.prototype.onFilterChanging=function(n){this.filterChanging.raise(this,n)},u.prototype.onFilterChanged=function(n){this.filterChanged.raise(this,n)},u.prototype._filter=function(n){for(var t=0;t<this._filters.length;t++)if(!this._filters[t].apply(n))return!1;return!0},u.prototype._formatItem=function(i,f){var e,h,a;if(f.panel.cellType==t.CellType.ColumnHeader){var o=this._g,c=o.getMergedRange(f.panel,f.row,f.col)||new t.CellRange(f.row,f.col),l=o.columns[c.col],s=o._getBindingColumn(f.panel,f.row,l);(c.row2==f.panel.rows.length-1||l!=s)&&(e=this.getColumnFilter(s,this.defaultFilterType!=r.None),this._filterColumns&&this._filterColumns.indexOf(s.binding)<0&&(e=null),e&&e.filterType!=r.None?(this._showIcons&&(u._filterGlyph||(u._filterGlyph=n.createElement('<div class="'+u._WJC_FILTER+'"><span class="wj-glyph-filter"></span></div>')),h=f.cell.querySelector('div')||f.cell,a=u._filterGlyph.cloneNode(!0),h.insertBefore(a,h.firstChild)),n.toggleClass(f.cell,'wj-filter-on',e.isActive),n.toggleClass(f.cell,'wj-filter-off',!e.isActive)):(n.removeClass(f.cell,'wj-filter-on'),n.removeClass(f.cell,'wj-filter-off')))}},u.prototype._mouseDown=function(t){var o=this,r,i,e,f;t.defaultPrevented||t.button!=0||n.closest(t.target,'.'+u._WJC_FILTER)&&(r=this._g,i=r.hitTest(t),i.panel==r.columnHeaders&&(e=r.columns[i.col],f=r._getBindingColumn(i.panel,i.row,e),this._divEdt&&this._edtCol==f?this.closeEditor():setTimeout(function(){o.editColumnFilter(f,i)},this._divEdt?100:0),t.stopPropagation(),t.preventDefault()))},u._WJC_FILTER='wj-elem-filter',u}();i.FlexGridFilter=u})(i=t.filter||(t.filter={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}))
/*
    *
    * Wijmo Library 5.20162.198
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends,wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';(function(n){n[n.Code=0]="Code";n[n.Selection=1]="Selection";n[n.ExpandSingle=2]="ExpandSingle";n[n.ExpandMulti=3]="ExpandMulti"})(i.DetailVisibilityMode||(i.DetailVisibilityMode={}));var r=i.DetailVisibilityMode,u=function(){function u(n){var t=this;this._mode=r.ExpandSingle;this._g=n;n.mergeManager=new i.DetailMergeManager(n);n.rowHeaders.hostElement.addEventListener('click',this._hdrClick.bind(this));n.formatItem.addHandler(this._formatItem,this);n.selectionChanged.addHandler(this._selectionChanged,this);n.resizedRow.addHandler(this._resizedRow,this);n.loadingRows.addHandler(function(){t.hideDetail()});n.draggingRow.addHandler(function(n,i){t.hideDetail(i.row)});n.formatItem.addHandler(function(n,t){if(t.panel==n.cells){var r=n.rows[t.row];r instanceof i.DetailRow&&(t.cell.style.left='0')}})}return Object.defineProperty(u.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"detailVisibilityMode",{get:function(){return this._mode},set:function(t){t!=this._mode&&(this._mode=n.asEnum(t,r),this.hideDetail(),this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(t){this._maxHeight=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"createDetailCell",{get:function(){return this._createDetailCellFn},set:function(t){this._createDetailCellFn=n.asFunction(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"disposeDetailCell",{get:function(){return this._disposeDetailCellFn},set:function(t){this._disposeDetailCellFn=n.asFunction(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rowHasDetail",{get:function(){return this._rowHasDetailFn},set:function(t){this._rowHasDetailFn=n.asFunction(t,!0)},enumerable:!0,configurable:!0}),u.prototype.isDetailVisible=function(n){var t=this._g.rows;return(n=this._toIndex(n),t[n]instanceof i.DetailRow)?!0:n<t.length-1&&t[n+1]instanceof i.DetailRow?!0:!1},u.prototype.isDetailAvailable=function(n){var t=this._g.rows;return n=this._toIndex(n),this._hasDetail(n)},u.prototype.hideDetail=function(t){var r=this._g.rows,u;if(t==null){for(u=0;u<r.length;u++)r[u]instanceof i.DetailRow&&this.hideDetail(u);return}t=this._toIndex(t);!(r[t]instanceof i.DetailRow)&&t<r.length-1&&r[t+1]instanceof i.DetailRow&&t++;r[t]instanceof i.DetailRow&&(this.disposeDetailCell&&this.disposeDetailCell(r[t]),n.Control.disposeAll(r[t].detail),r.removeAt(t))},u.prototype.showDetail=function(n,t){var u,e,f,o,r;if(t===void 0&&(t=!1),u=this._g.rows,n=this._toIndex(n),!this.isDetailVisible(n)&&this._hasDetail(n)&&(e=new i.DetailRow(u[n]),e.detail=this._createDetailCell(u[n]),e.detail&&(u.insert(n+1,e),this._g.scrollIntoView(n,-1))),t){for(f=this._g.selection,o=!1,n>0&&u[n]instanceof i.DetailRow&&n--,r=0;r<u.length-1;r++)r!=n&&u[r+1]instanceof i.DetailRow&&(this.hideDetail(r),r<n&&n--,r<f.row&&(f.row--,f.row2--,o=!0));o&&this._g.select(f,!1)}},u.prototype._toIndex=function(i){return i instanceof t.Row&&(i=i.index),n.asNumber(i,!1,!0)},u.prototype._hdrClick=function(n){var u,i,f;(this._mode==r.ExpandMulti||this._mode==r.ExpandSingle)&&(u=this._g,i=u.hitTest(n),i.row>-1&&(f=u.rows[i.row],this.isDetailVisible(i.row)?this.hideDetail(i.row):(u.select(new t.CellRange(i.row,0,i.row,u.columns.length-1)),this.showDetail(i.row,this._mode==r.ExpandSingle)),n.preventDefault()))},u.prototype._selectionChanged=function(n){var t=this;this._mode==r.Selection&&(this._toSel&&clearTimeout(this._toSel),this._toSel=setTimeout(function(){n.selection.row>-1?t.showDetail(n.selection.row,!0):t.hideDetail()},300))},u.prototype._formatItem=function(t,u){var e=this._g,f=u.panel.rows[u.row],h,o,s,c;u.panel==e.cells&&f instanceof i.DetailRow&&f.detail!=null&&(n.addClass(u.cell,'wj-detail'),u.cell.textContent='',u.cell.style.textAlign='',u.cell.appendChild(f.detail),f.height==null?(n.Control.refreshAll(u.cell),h=getComputedStyle(u.cell),o=f.detail.scrollHeight+parseInt(h.paddingTop)+parseInt(h.paddingBottom),this._maxHeight>0&&o>this._maxHeight&&(o=this._maxHeight),f.height=o,f.detail.style.height||(f.detail.style.height='100%'),s=f.detail.querySelector('.wj-flexgrid'),s&&!s.style.height&&(s.style.height='100%')):setTimeout(function(){n.Control.refreshAll(f.detail)}));(this._mode==r.ExpandMulti||this._mode==r.ExpandSingle)&&u.panel==e.rowHeaders&&u.col==0&&this._hasDetail(u.row)&&(c=u.row<e.rows.length-1&&e.rows[u.row+1]instanceof i.DetailRow,u.cell.innerHTML=c?'<span class="wj-glyph-minus"></span>':'<span class="wj-glyph-plus"></span>')},u.prototype._resizedRow=function(t,r){var u=r.panel.rows[r.row];u instanceof i.DetailRow&&u.detail&&n.Control.refreshAll(u.detail)},u.prototype._hasVisibleDetail=function(n){return n instanceof i.DetailRow||n instanceof t.GroupRow||n instanceof t._NewRowTemplate?!1:!0},u.prototype._hasDetail=function(t){return n.isFunction(this._rowHasDetailFn)?this._rowHasDetailFn(this._g.rows[t]):!0},u.prototype._createDetailCell=function(n,t){return this.createDetailCell?this.createDetailCell(n,t):null},u}();i.FlexGridDetailProvider=u})(i=t.detail||(t.detail={}))})(t=n.grid||(n.grid={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(n){var t;(function(t){'use strict';var i=function(i){function r(n){i.call(this,n)}return __extends(r,i),r.prototype.getMergedRange=function(r,u,f,e){e===void 0&&(e=!0);switch(r.cellType){case n.CellType.Cell:if(r.rows[u]instanceof t.DetailRow)return new n.CellRange(u,0,u,r.columns.length-1);break;case n.CellType.RowHeader:if(r.rows[u]instanceof t.DetailRow)return new n.CellRange(u-1,f,u,f);if(u<r.rows.length-1&&r.rows[u+1]instanceof t.DetailRow)return new n.CellRange(u,f,u+1,f)}return i.prototype.getMergedRange.call(this,r,u,f,e)},r}(n.MergeManager);t.DetailMergeManager=i})(t=n.detail||(n.detail={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(n){var t;(function(t){'use strict';var i=function(n){function t(){n.call(this);this.isReadOnly=!0}return __extends(t,n),Object.defineProperty(t.prototype,"detail",{get:function(){return this._detail},set:function(n){this._detail=n},enumerable:!0,configurable:!0}),t}(n.Row);t.DetailRow=i})(t=n.detail||(n.detail={}))})(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}))
/*
    *
    * Wijmo Library 5.20162.198
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var wj,__extends,wijmo;(function(wj){var interop;(function(interop){function isSimpleType(type){return type<=PropertyType.Enum}var ControlMetaFactory=function(){function ControlMetaFactory(){}return ControlMetaFactory.CreateProp=function(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority){return new PropDescBase(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority)},ControlMetaFactory.CreateEvent=function(eventName,isPropChanged){return new EventDescBase(eventName,isPropChanged)},ControlMetaFactory.CreateComplexProp=function(propertyName,isArray,ownsObject){return new ComplexPropDescBase(propertyName,isArray,ownsObject)},ControlMetaFactory.findProp=function(propName,props){return this.findInArr(props,'propertyName',propName)},ControlMetaFactory.findEvent=function(eventName,events){return this.findInArr(events,'eventName',eventName)},ControlMetaFactory.findComplexProp=function(propName,props){return this.findInArr(props,'propertyName',propName)},ControlMetaFactory.getMetaData=function(metaDataId){switch(metaDataId){case wijmo.Control:return new MetaDataBase([this.CreateProp('isDisabled',PropertyType.Boolean),this.CreateProp('disabled',PropertyType.Boolean),],[this.CreateEvent('gotFocus'),this.CreateEvent('lostFocus')]);case wijmo.input&&wijmo.input.DropDown:return this.getMetaData(wijmo.Control).add([this.CreateProp('isDroppedDown',PropertyType.Boolean,'isDroppedDownChanged'),this.CreateProp('showDropDownButton',PropertyType.Boolean),this.CreateProp('autoExpandSelection',PropertyType.Boolean),this.CreateProp('placeholder',PropertyType.String),this.CreateProp('dropDownCssClass',PropertyType.String),this.CreateProp('isReadOnly',PropertyType.Boolean),this.CreateProp('isRequired',PropertyType.Boolean),this.CreateProp('required',PropertyType.Boolean),this.CreateProp('text',PropertyType.String,'textChanged',null,!0,1e3)],[this.CreateEvent('isDroppedDownChanging'),this.CreateEvent('isDroppedDownChanged',!0),this.CreateEvent('textChanged',!0)]);case wijmo.input&&wijmo.input.ComboBox:return this.getMetaData(wijmo.input.DropDown).add([this.CreateProp('displayMemberPath',PropertyType.String),this.CreateProp('selectedValuePath',PropertyType.String),this.CreateProp('headerPath',PropertyType.String),this.CreateProp('isContentHtml',PropertyType.Boolean),this.CreateProp('isEditable',PropertyType.Boolean),this.CreateProp('maxDropDownHeight',PropertyType.Number),this.CreateProp('maxDropDownWidth',PropertyType.Number),this.CreateProp('itemFormatter',PropertyType.Function),this.CreateProp('itemsSource',PropertyType.Any,'',null,!0,900),this.CreateProp('selectedIndex',PropertyType.Number,'selectedIndexChanged',null,!0,1e3),this.CreateProp('selectedItem',PropertyType.Any,'selectedIndexChanged',null,!0,1e3),this.CreateProp('selectedValue',PropertyType.Any,'selectedIndexChanged',null,!0,1e3),],[this.CreateEvent('selectedIndexChanged',!0)]).addOptions({ngModelProperty:'selectedValue'});case wijmo.input&&wijmo.input.AutoComplete:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp('delay',PropertyType.Number),this.CreateProp('maxItems',PropertyType.Number),this.CreateProp('minLength',PropertyType.Number),this.CreateProp('cssMatch',PropertyType.String),this.CreateProp('itemsSourceFunction',PropertyType.Function),this.CreateProp('searchMemberPath',PropertyType.String)]);case wijmo.input&&wijmo.input.Calendar:return this.getMetaData(wijmo.Control).add([this.CreateProp('monthView',PropertyType.Boolean),this.CreateProp('showHeader',PropertyType.Boolean),this.CreateProp('itemFormatter',PropertyType.Function),this.CreateProp('itemValidator',PropertyType.Function),this.CreateProp('displayMonth',PropertyType.Date,'displayMonthChanged'),this.CreateProp('firstDayOfWeek',PropertyType.Number),this.CreateProp('max',PropertyType.Date),this.CreateProp('min',PropertyType.Date),this.CreateProp('selectionMode',PropertyType.Enum,'',wijmo.input.DateSelectionMode),this.CreateProp('isReadOnly',PropertyType.Boolean),this.CreateProp('value',PropertyType.Date,'valueChanged'),],[this.CreateEvent('valueChanged',!0),this.CreateEvent('displayMonthChanged',!0),this.CreateEvent('formatItem',!1)]).addOptions({ngModelProperty:'value'});case wijmo.input&&wijmo.input.ColorPicker:return this.getMetaData(wijmo.Control).add([this.CreateProp('showAlphaChannel',PropertyType.Boolean),this.CreateProp('showColorString',PropertyType.Boolean),this.CreateProp('palette',PropertyType.Any),this.CreateProp('value',PropertyType.String,'valueChanged')],[this.CreateEvent('valueChanged',!0)]).addOptions({ngModelProperty:'value'});case wijmo.input&&wijmo.input.ListBox:return this.getMetaData(wijmo.Control).add([this.CreateProp('isContentHtml',PropertyType.Boolean),this.CreateProp('maxHeight',PropertyType.Number),this.CreateProp('selectedValuePath',PropertyType.String),this.CreateProp('itemFormatter',PropertyType.Function),this.CreateProp('displayMemberPath',PropertyType.String),this.CreateProp('checkedMemberPath',PropertyType.String),this.CreateProp('itemsSource',PropertyType.Any),this.CreateProp('selectedIndex',PropertyType.Number,'selectedIndexChanged'),this.CreateProp('selectedItem',PropertyType.Any,'selectedIndexChanged'),this.CreateProp('selectedValue',PropertyType.Any,'selectedIndexChanged'),],[this.CreateEvent('formatItem',!1),this.CreateEvent('itemsChanged',!0),this.CreateEvent('itemChecked',!0),this.CreateEvent('selectedIndexChanged',!0)]).addOptions({ngModelProperty:'selectedValue'});case'ItemTemplate':return new MetaDataBase([],[],[],undefined,undefined,undefined,'owner');case wijmo.input&&wijmo.input.Menu:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp('header',PropertyType.String),this.CreateProp('commandParameterPath',PropertyType.String),this.CreateProp('commandPath',PropertyType.String),this.CreateProp('isButton',PropertyType.Boolean),this.CreateProp('value',PropertyType.Any,'selectedIndexChanged',null,!1,1e3)],[this.CreateEvent('itemClicked')]);case'MenuItem':return new MetaDataBase([this.CreateProp('value',PropertyType.Any,''),this.CreateProp('cmd',PropertyType.Any,''),this.CreateProp('cmdParam',PropertyType.Any,'')],[],[],'itemsSource',!0);case'MenuSeparator':return new MetaDataBase([],[],[],'itemsSource',!0);case wijmo.input&&wijmo.input.InputDate:return this.getMetaData(wijmo.input.DropDown).add([this.CreateProp('selectionMode',PropertyType.Enum,'',wijmo.input.DateSelectionMode),this.CreateProp('format',PropertyType.String),this.CreateProp('mask',PropertyType.String),this.CreateProp('max',PropertyType.Date),this.CreateProp('min',PropertyType.Date),this.CreateProp('inputType',PropertyType.String),this.CreateProp('value',PropertyType.Date,'valueChanged',null,!0,1e3),this.CreateProp('itemValidator',PropertyType.Function),this.CreateProp('itemFormatter',PropertyType.Function)],[this.CreateEvent('valueChanged',!0)]).addOptions({ngModelProperty:'value'});case wijmo.input&&wijmo.input.InputDateTime:return this.getMetaData(wijmo.input.InputDate).add([this.CreateProp('timeMax',PropertyType.Date),this.CreateProp('timeMin',PropertyType.Date),this.CreateProp('timeStep',PropertyType.Number),this.CreateProp('timeFormat',PropertyType.String),],[this.CreateEvent('valueChanged',!0)]).addOptions({ngModelProperty:'value'});case wijmo.input&&wijmo.input.InputNumber:return this.getMetaData(wijmo.Control).add([this.CreateProp('showSpinner',PropertyType.Boolean),this.CreateProp('max',PropertyType.Number),this.CreateProp('min',PropertyType.Number),this.CreateProp('step',PropertyType.Number),this.CreateProp('isRequired',PropertyType.Boolean),this.CreateProp('required',PropertyType.Boolean),this.CreateProp('placeholder',PropertyType.String),this.CreateProp('inputType',PropertyType.String),this.CreateProp('format',PropertyType.String),this.CreateProp('isReadOnly',PropertyType.Boolean),this.CreateProp('value',PropertyType.Number,'valueChanged'),this.CreateProp('text',PropertyType.String,'textChanged')],[this.CreateEvent('valueChanged',!0),this.CreateEvent('textChanged',!0)]).addOptions({ngModelProperty:'value'});case wijmo.input&&wijmo.input.InputMask:return this.getMetaData(wijmo.Control).add([this.CreateProp('mask',PropertyType.String),this.CreateProp('isRequired',PropertyType.Boolean),this.CreateProp('promptChar',PropertyType.String),this.CreateProp('placeholder',PropertyType.String),this.CreateProp('rawValue',PropertyType.String,'valueChanged'),this.CreateProp('value',PropertyType.String,'valueChanged')],[this.CreateEvent('valueChanged',!0),]).addOptions({ngModelProperty:'value'});case wijmo.input&&wijmo.input.InputTime:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp('max',PropertyType.Date),this.CreateProp('min',PropertyType.Date),this.CreateProp('step',PropertyType.Number),this.CreateProp('format',PropertyType.String),this.CreateProp('mask',PropertyType.String),this.CreateProp('inputType',PropertyType.String),this.CreateProp('value',PropertyType.Date,'valueChanged',null,!0,1e3),],[this.CreateEvent('valueChanged',!0)]).addOptions({ngModelProperty:'value'});case wijmo.input&&wijmo.input.InputColor:return this.getMetaData(wijmo.input.DropDown).add([this.CreateProp('showAlphaChannel',PropertyType.Boolean),this.CreateProp('value',PropertyType.String,'valueChanged')],[this.CreateEvent('valueChanged',!0)]).addOptions({ngModelProperty:'value'});case wijmo.input&&wijmo.input.Popup:return this.getMetaData(wijmo.Control).add([this.CreateProp('owner',PropertyType.String),this.CreateProp('showTrigger',PropertyType.Enum,'',wijmo.input.PopupTrigger),this.CreateProp('hideTrigger',PropertyType.Enum,'',wijmo.input.PopupTrigger),this.CreateProp('fadeIn',PropertyType.Boolean),this.CreateProp('fadeOut',PropertyType.Boolean),this.CreateProp('dialogResultEnter',PropertyType.String),this.CreateProp('modal',PropertyType.Boolean),],[this.CreateEvent('showing'),this.CreateEvent('shown'),this.CreateEvent('hiding'),this.CreateEvent('hidden'),]);case wijmo.input&&wijmo.input.MultiSelect:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp('checkedMemberPath',PropertyType.String),this.CreateProp('maxHeaderItems',PropertyType.Number),this.CreateProp('headerFormat',PropertyType.String),this.CreateProp('headerFormatter',PropertyType.Function),this.CreateProp('checkedItems',PropertyType.Any,'checkedItemsChanged',BindingMode.TwoWay,!0,950),],[this.CreateEvent('checkedItemsChanged',!0)]);case'CollectionViewNavigator':return new MetaDataBase([this.CreateProp('cv',PropertyType.Any)]);case'CollectionViewPager':return new MetaDataBase([this.CreateProp('cv',PropertyType.Any)]);case wijmo.grid&&wijmo.grid.FlexGrid:return this.getMetaData(wijmo.Control).add([this.CreateProp('allowAddNew',PropertyType.Boolean),this.CreateProp('allowDelete',PropertyType.Boolean),this.CreateProp('allowDragging',PropertyType.Enum,'',wijmo.grid.AllowDragging),this.CreateProp('allowMerging',PropertyType.Enum,'',wijmo.grid.AllowMerging),this.CreateProp('allowResizing',PropertyType.Enum,'',wijmo.grid.AllowResizing),this.CreateProp('allowSorting',PropertyType.Boolean),this.CreateProp('autoSizeMode',PropertyType.Enum,'',wijmo.grid.AutoSizeMode),this.CreateProp('autoGenerateColumns',PropertyType.Boolean),this.CreateProp('childItemsPath',PropertyType.Any),this.CreateProp('groupHeaderFormat',PropertyType.String),this.CreateProp('headersVisibility',PropertyType.Enum,'',wijmo.grid.HeadersVisibility),this.CreateProp('showSelectedHeaders',PropertyType.Enum,'',wijmo.grid.HeadersVisibility),this.CreateProp('showMarquee',PropertyType.Boolean),this.CreateProp('itemFormatter',PropertyType.Function),this.CreateProp('isReadOnly',PropertyType.Boolean),this.CreateProp('imeEnabled',PropertyType.Boolean),this.CreateProp('mergeManager',PropertyType.Any),this.CreateProp('selectionMode',PropertyType.Enum,'',wijmo.grid.SelectionMode),this.CreateProp('showGroups',PropertyType.Boolean),this.CreateProp('showSort',PropertyType.Boolean),this.CreateProp('showAlternatingRows',PropertyType.Boolean),this.CreateProp('treeIndent',PropertyType.Number),this.CreateProp('itemsSource',PropertyType.Any),this.CreateProp('autoClipboard',PropertyType.Boolean),this.CreateProp('frozenRows',PropertyType.Number),this.CreateProp('frozenColumns',PropertyType.Number),this.CreateProp('deferResizing',PropertyType.Boolean),this.CreateProp('sortRowIndex',PropertyType.Number),this.CreateProp('stickyHeaders',PropertyType.Boolean),this.CreateProp('preserveSelection',PropertyType.Boolean),this.CreateProp('preserveOutlineState',PropertyType.Boolean)],[this.CreateEvent('beginningEdit'),this.CreateEvent('cellEditEnded'),this.CreateEvent('cellEditEnding'),this.CreateEvent('prepareCellForEdit'),this.CreateEvent('formatItem'),this.CreateEvent('resizingColumn'),this.CreateEvent('resizedColumn'),this.CreateEvent('autoSizingColumn'),this.CreateEvent('autoSizedColumn'),this.CreateEvent('draggingColumn'),this.CreateEvent('draggedColumn'),this.CreateEvent('sortingColumn'),this.CreateEvent('sortedColumn'),this.CreateEvent('resizingRow'),this.CreateEvent('resizedRow'),this.CreateEvent('autoSizingRow'),this.CreateEvent('autoSizedRow'),this.CreateEvent('draggingRow'),this.CreateEvent('draggedRow'),this.CreateEvent('deletingRow'),this.CreateEvent('loadingRows'),this.CreateEvent('loadedRows'),this.CreateEvent('rowEditEnded'),this.CreateEvent('rowEditEnding'),this.CreateEvent('rowAdded'),this.CreateEvent('groupCollapsedChanged'),this.CreateEvent('groupCollapsedChanging'),this.CreateEvent('itemsSourceChanged',!0),this.CreateEvent('selectionChanging'),this.CreateEvent('selectionChanged',!0),this.CreateEvent('scrollPositionChanged',!1),this.CreateEvent('updatingView'),this.CreateEvent('updatedView'),this.CreateEvent('updatingLayout'),this.CreateEvent('updatedLayout'),this.CreateEvent('pasting'),this.CreateEvent('pasted'),this.CreateEvent('copying'),this.CreateEvent('copied')]);case wijmo.grid&&wijmo.grid.Column:return new MetaDataBase([this.CreateProp('name',PropertyType.String),this.CreateProp('dataMap',PropertyType.Any),this.CreateProp('dataType',PropertyType.Enum,'',wijmo.DataType),this.CreateProp('binding',PropertyType.String),this.CreateProp('sortMemberPath',PropertyType.String),this.CreateProp('format',PropertyType.String),this.CreateProp('header',PropertyType.String),this.CreateProp('width',PropertyType.Number),this.CreateProp('minWidth',PropertyType.Number),this.CreateProp('maxWidth',PropertyType.Number),this.CreateProp('align',PropertyType.String),this.CreateProp('allowDragging',PropertyType.Boolean),this.CreateProp('allowSorting',PropertyType.Boolean),this.CreateProp('allowResizing',PropertyType.Boolean),this.CreateProp('allowMerging',PropertyType.Boolean),this.CreateProp('aggregate',PropertyType.Enum,'',wijmo.Aggregate),this.CreateProp('isReadOnly',PropertyType.Boolean),this.CreateProp('cssClass',PropertyType.String),this.CreateProp('isContentHtml',PropertyType.Boolean),this.CreateProp('isSelected',PropertyType.Boolean,'grid.selectionChanged'),this.CreateProp('visible',PropertyType.Boolean),this.CreateProp('wordWrap',PropertyType.Boolean),this.CreateProp('mask',PropertyType.String),this.CreateProp('inputType',PropertyType.String),this.CreateProp('isRequired',PropertyType.Boolean),this.CreateProp('required',PropertyType.Boolean),this.CreateProp('showDropDown',PropertyType.Boolean),this.CreateProp('dropDownCssClass',PropertyType.String),],[],[],'columns',!0);case'FlexGridCellTemplate':return new MetaDataBase([this.CreateProp('cellType',PropertyType.String,'',null,!1),this.CreateProp('cellOverflow',PropertyType.String,''),],[],[],undefined,undefined,undefined,'owner');case wijmo.grid&&wijmo.grid.filter&&wijmo.grid.filter.FlexGridFilter:return new MetaDataBase([this.CreateProp('showFilterIcons',PropertyType.Boolean),this.CreateProp('showSortButtons',PropertyType.Boolean),this.CreateProp('defaultFilterType',PropertyType.Enum,'',wijmo.grid.filter.FilterType),this.CreateProp('filterColumns',PropertyType.Any),],[this.CreateEvent('filterChanging'),this.CreateEvent('filterChanged'),this.CreateEvent('filterApplied')],[],undefined,undefined,undefined,'');case wijmo.grid&&wijmo.grid.grouppanel&&wijmo.grid.grouppanel.GroupPanel:return this.getMetaData(wijmo.Control).add([this.CreateProp('hideGroupedColumns',PropertyType.Boolean),this.CreateProp('maxGroups',PropertyType.Number),this.CreateProp('placeholder',PropertyType.String),this.CreateProp('grid',PropertyType.Any),]);case wijmo.grid&&wijmo.grid.detail&&wijmo.grid.detail.FlexGridDetailProvider:return new MetaDataBase([this.CreateProp('maxHeight',PropertyType.Number),this.CreateProp('detailVisibilityMode',PropertyType.Enum,'',wijmo.grid.detail.DetailVisibilityMode),this.CreateProp('rowHasDetail',PropertyType.Function),],[],[],undefined,undefined,undefined,'');case wijmo.grid&&wijmo.grid.sheet&&wijmo.grid.sheet.FlexSheet:return this.getMetaData(wijmo.grid.FlexGrid).add([this.CreateProp('isTabHolderVisible',PropertyType.Boolean),this.CreateProp('selectedSheetIndex',PropertyType.Number,'selectedSheetChanged'),],[this.CreateEvent('selectedSheetChanged',!0),this.CreateEvent('draggingRowColumn'),this.CreateEvent('droppingRowColumn'),this.CreateEvent('loaded'),]);case wijmo.grid&&wijmo.grid.sheet&&wijmo.grid.sheet.Sheet:return new MetaDataBase([this.CreateProp('name',PropertyType.String),this.CreateProp('itemsSource',PropertyType.Any),this.CreateProp('visible',PropertyType.Boolean),this.CreateProp('rowCount',PropertyType.Number,'',null,!1),this.CreateProp('columnCount',PropertyType.Number,'',null,!1)],[this.CreateEvent('nameChanged'),]).addOptions({parentReferenceProperty:''});case wijmo.grid&&wijmo.grid.multirow&&wijmo.grid.multirow.MultiRow:return this.getMetaData(wijmo.grid.FlexGrid).add([this.CreateProp('layoutDefinition',PropertyType.Any),this.CreateProp('centerHeadersVertically',PropertyType.Boolean),this.CreateProp('collapsedHeaders',PropertyType.Boolean),this.CreateProp('showHeaderCollapseButton',PropertyType.Boolean)]);case wijmo.chart&&wijmo.chart.FlexChartBase:return this.getMetaData(wijmo.Control).add([this.CreateProp('binding',PropertyType.String),this.CreateProp('footer',PropertyType.String),this.CreateProp('header',PropertyType.String),this.CreateProp('selectionMode',PropertyType.Enum,'',wijmo.chart.SelectionMode),this.CreateProp('palette',PropertyType.Any),this.CreateProp('plotMargin',PropertyType.Any),this.CreateProp('footerStyle',PropertyType.Any),this.CreateProp('headerStyle',PropertyType.Any),this.CreateProp('tooltipContent',PropertyType.String,'',null,!1),this.CreateProp('itemsSource',PropertyType.Any)],[this.CreateEvent('rendering'),this.CreateEvent('rendered'),]);case wijmo.chart&&wijmo.chart.FlexChartCore:return this.getMetaData(wijmo.chart.FlexChartBase).add([this.CreateProp('bindingX',PropertyType.String),this.CreateProp('interpolateNulls',PropertyType.Boolean),this.CreateProp('legendToggle',PropertyType.Boolean),this.CreateProp('symbolSize',PropertyType.Number),this.CreateProp('options',PropertyType.Any),this.CreateProp('selection',PropertyType.Any,'selectionChanged'),this.CreateProp('itemFormatter',PropertyType.Function),this.CreateProp('labelContent',PropertyType.String,'',null,!1),],[this.CreateEvent('seriesVisibilityChanged'),this.CreateEvent('selectionChanged',!0),],[this.CreateComplexProp('axisX',!1,!1),this.CreateComplexProp('axisY',!1,!1),this.CreateComplexProp('axes',!0),this.CreateComplexProp('plotAreas',!0)]);case wijmo.chart&&wijmo.chart.FlexChart:return this.getMetaData(wijmo.chart.FlexChartCore).add([this.CreateProp('chartType',PropertyType.Enum,'',wijmo.chart.ChartType),this.CreateProp('rotated',PropertyType.Boolean),this.CreateProp('stacking',PropertyType.Enum,'',wijmo.chart.Stacking),]);case wijmo.chart&&wijmo.chart.FlexPie:return this.getMetaData(wijmo.chart.FlexChartBase).add([this.CreateProp('bindingName',PropertyType.String),this.CreateProp('innerRadius',PropertyType.Number),this.CreateProp('isAnimated',PropertyType.Boolean),this.CreateProp('offset',PropertyType.Number),this.CreateProp('reversed',PropertyType.Boolean),this.CreateProp('startAngle',PropertyType.Number),this.CreateProp('selectedItemPosition',PropertyType.Enum,'',wijmo.chart.Position),this.CreateProp('selectedItemOffset',PropertyType.Number),this.CreateProp('itemFormatter',PropertyType.Function),this.CreateProp('labelContent',PropertyType.String,'',null,!1),]);case wijmo.chart&&wijmo.chart.FlexPie&&wijmo.chart.hierarchical&&wijmo.chart.hierarchical.Sunburst:return this.getMetaData(wijmo.chart.FlexChartBase).add([this.CreateProp('bindingName',PropertyType.Any),this.CreateProp('innerRadius',PropertyType.Number),this.CreateProp('isAnimated',PropertyType.Boolean),this.CreateProp('offset',PropertyType.Number),this.CreateProp('reversed',PropertyType.Boolean),this.CreateProp('startAngle',PropertyType.Number),this.CreateProp('selectedItemPosition',PropertyType.Enum,'',wijmo.chart.Position),this.CreateProp('selectedItemOffset',PropertyType.Number),this.CreateProp('itemFormatter',PropertyType.Function),this.CreateProp('labelContent',PropertyType.String,'',null,!1),this.CreateProp('childItemsPath',PropertyType.Any)]);case wijmo.chart&&wijmo.chart.Axis:return new MetaDataBase([this.CreateProp('axisLine',PropertyType.Boolean),this.CreateProp('format',PropertyType.String),this.CreateProp('labels',PropertyType.Boolean),this.CreateProp('majorGrid',PropertyType.Boolean),this.CreateProp('majorTickMarks',PropertyType.Enum,'',wijmo.chart.TickMark),this.CreateProp('majorUnit',PropertyType.Number),this.CreateProp('max',PropertyType.Number),this.CreateProp('min',PropertyType.Number),this.CreateProp('position',PropertyType.Enum,'',wijmo.chart.Position),this.CreateProp('reversed',PropertyType.Boolean),this.CreateProp('title',PropertyType.String),this.CreateProp('labelAngle',PropertyType.Number),this.CreateProp('minorGrid',PropertyType.Boolean),this.CreateProp('minorTickMarks',PropertyType.Enum,'',wijmo.chart.TickMark),this.CreateProp('minorUnit',PropertyType.Number),this.CreateProp('origin',PropertyType.Number),this.CreateProp('logBase',PropertyType.Number),this.CreateProp('plotArea',PropertyType.Any),this.CreateProp('labelAlign',PropertyType.String),this.CreateProp('name',PropertyType.String),this.CreateProp('overlappingLabels',PropertyType.Enum,'',wijmo.chart.OverlappingLabels),this.CreateProp('labelPadding',PropertyType.Number),this.CreateProp('itemFormatter',PropertyType.Function),this.CreateProp('itemsSource',PropertyType.Any),this.CreateProp('binding',PropertyType.String),],[this.CreateEvent('rangeChanged'),],[],'axes',!0);case wijmo.chart&&wijmo.chart.Legend:return new MetaDataBase([this.CreateProp('position',PropertyType.Enum,'',wijmo.chart.Position)],[],[],'legend',!1,!1);case wijmo.chart&&wijmo.chart.DataLabelBase:return new MetaDataBase([this.CreateProp('content',PropertyType.Any,''),this.CreateProp('border',PropertyType.Boolean),],[],[],'dataLabel',!1,!1);case wijmo.chart&&wijmo.chart.DataLabel:return this.getMetaData(wijmo.chart.DataLabelBase).add([this.CreateProp('position',PropertyType.Enum,'',wijmo.chart.LabelPosition),]);case wijmo.chart&&wijmo.chart.PieDataLabel:return this.getMetaData(wijmo.chart.DataLabelBase).add([this.CreateProp('position',PropertyType.Enum,'',wijmo.chart.PieLabelPosition),]);case wijmo.chart&&wijmo.chart.SeriesBase:return new MetaDataBase([this.CreateProp('axisX',PropertyType.Any),this.CreateProp('axisY',PropertyType.Any),this.CreateProp('binding',PropertyType.String),this.CreateProp('bindingX',PropertyType.String),this.CreateProp('cssClass',PropertyType.String),this.CreateProp('name',PropertyType.String),this.CreateProp('style',PropertyType.Any),this.CreateProp('altStyle',PropertyType.Any),this.CreateProp('symbolMarker',PropertyType.Enum,'',wijmo.chart.Marker),this.CreateProp('symbolSize',PropertyType.Number),this.CreateProp('symbolStyle',PropertyType.Any),this.CreateProp('visibility',PropertyType.Enum,'chart.seriesVisibilityChanged',wijmo.chart.SeriesVisibility),this.CreateProp('itemsSource',PropertyType.Any),],[],[this.CreateComplexProp('axisX',!1,!0),this.CreateComplexProp('axisY',!1,!0),],'series',!0);case wijmo.chart&&wijmo.chart.Series:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp('chartType',PropertyType.Enum,'',wijmo.chart.ChartType)]);case wijmo.chart&&wijmo.chart.LineMarker:return new MetaDataBase([this.CreateProp('isVisible',PropertyType.Boolean),this.CreateProp('seriesIndex',PropertyType.Number),this.CreateProp('horizontalPosition',PropertyType.Number),this.CreateProp('content',PropertyType.Function),this.CreateProp('verticalPosition',PropertyType.Number),this.CreateProp('alignment',PropertyType.Enum,'',wijmo.chart.LineMarkerAlignment),this.CreateProp('lines',PropertyType.Enum,'',wijmo.chart.LineMarkerLines),this.CreateProp('interaction',PropertyType.Enum,'',wijmo.chart.LineMarkerInteraction),this.CreateProp('dragLines',PropertyType.Boolean),this.CreateProp('dragThreshold',PropertyType.Number),this.CreateProp('dragContent',PropertyType.Boolean),],[this.CreateEvent('positionChanged'),],[],undefined,undefined,undefined,'');case wijmo.chart&&wijmo.chart.DataPoint:return new MetaDataBase([this.CreateProp('x',PropertyType.AnyPrimitive),this.CreateProp('y',PropertyType.AnyPrimitive)],[],[],'');case wijmo.chart&&wijmo.chart.annotation&&wijmo.chart.annotation.AnnotationLayer:return new MetaDataBase([],[],[],undefined,undefined,undefined,'');case'FlexChartAnnotation':return new MetaDataBase([this.CreateProp('type',PropertyType.String,'',null,!1),this.CreateProp('attachment',PropertyType.Enum,'',wijmo.chart.annotation.AnnotationAttachment),this.CreateProp('position',PropertyType.Enum,'',wijmo.chart.annotation.AnnotationPosition),this.CreateProp('point',PropertyType.Any),this.CreateProp('seriesIndex',PropertyType.Number),this.CreateProp('pointIndex',PropertyType.Number),this.CreateProp('offset',PropertyType.Any),this.CreateProp('style',PropertyType.Any),this.CreateProp('isVisible',PropertyType.Boolean),this.CreateProp('tooltip',PropertyType.String),this.CreateProp('text',PropertyType.String),this.CreateProp('content',PropertyType.String),this.CreateProp('name',PropertyType.String),this.CreateProp('width',PropertyType.Number),this.CreateProp('height',PropertyType.Number),this.CreateProp('start',PropertyType.Any),this.CreateProp('end',PropertyType.Any),this.CreateProp('radius',PropertyType.Number),this.CreateProp('length',PropertyType.Number),this.CreateProp('href',PropertyType.String)],[],[this.CreateComplexProp('point',!1,!0),this.CreateComplexProp('start',!1,!0),this.CreateComplexProp('end',!1,!0),this.CreateComplexProp('points',!0),],'items',!0);case wijmo.chart&&wijmo.chart.interaction&&wijmo.chart.interaction.RangeSelector:return new MetaDataBase([this.CreateProp('isVisible',PropertyType.Boolean),this.CreateProp('min',PropertyType.Number),this.CreateProp('max',PropertyType.Number),this.CreateProp('orientation',PropertyType.Enum,'',wijmo.chart.interaction.Orientation),this.CreateProp('seamless',PropertyType.Boolean),this.CreateProp('minScale',PropertyType.Number),this.CreateProp('maxScale',PropertyType.Number),],[this.CreateEvent('rangeChanged'),],[],undefined,undefined,undefined,'');case wijmo.chart&&wijmo.chart.interaction&&wijmo.chart.interaction.ChartGestures:return new MetaDataBase([this.CreateProp('mouseAction',PropertyType.Enum,'',wijmo.chart.interaction.MouseAction),this.CreateProp('interactiveAxes',PropertyType.Enum,'',wijmo.chart.interaction.InteractiveAxes),this.CreateProp('enable',PropertyType.Boolean),this.CreateProp('scaleX',PropertyType.Number),this.CreateProp('scaleY',PropertyType.Number),this.CreateProp('posX',PropertyType.Number),this.CreateProp('posY',PropertyType.Number),],[],[],undefined,undefined,undefined,'');case wijmo.chart&&wijmo.chart.animation&&wijmo.chart.animation.ChartAnimation:return new MetaDataBase([this.CreateProp('animationMode',PropertyType.Enum,'',wijmo.chart.animation.AnimationMode),this.CreateProp('easing',PropertyType.Enum,'',wijmo.chart.animation.Easing),this.CreateProp('duration',PropertyType.Number),this.CreateProp('axisAnimation',PropertyType.Boolean)],[],[],undefined,undefined,undefined,'');case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.FinancialChart:return this.getMetaData(wijmo.chart.FlexChartCore).add([this.CreateProp('chartType',PropertyType.Enum,'',wijmo.chart.finance.FinancialChartType),]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.FinancialSeries:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp('chartType',PropertyType.Enum,'',wijmo.chart.finance.FinancialChartType)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.TrendLineBase:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp('sampleCount',PropertyType.Number)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.TrendLine:return this.getMetaData(wijmo.chart.analytics.TrendLineBase).add([this.CreateProp('order',PropertyType.Number),this.CreateProp('fitType',PropertyType.Enum,'',wijmo.chart.analytics.TrendLineFitType)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.MovingAverage:return this.getMetaData(wijmo.chart.analytics.TrendLineBase).add([this.CreateProp('period',PropertyType.Number),this.CreateProp('type',PropertyType.Enum,'',wijmo.chart.analytics.MovingAverageType)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.FunctionSeries:return this.getMetaData(wijmo.chart.analytics.TrendLineBase).add([this.CreateProp('min',PropertyType.Number),this.CreateProp('max',PropertyType.Number),]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.YFunctionSeries:return this.getMetaData(wijmo.chart.analytics.FunctionSeries).add([this.CreateProp('func',PropertyType.Function),]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.ParametricFunctionSeries:return this.getMetaData(wijmo.chart.analytics.FunctionSeries).add([this.CreateProp('func',PropertyType.Function),this.CreateProp('xFunc',PropertyType.Function),this.CreateProp('yFunc',PropertyType.Function),]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.Waterfall:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp('relativeData',PropertyType.Boolean),this.CreateProp('start',PropertyType.Number),this.CreateProp('startLabel',PropertyType.String),this.CreateProp('showTotal',PropertyType.Boolean),this.CreateProp('totalLabel',PropertyType.String),this.CreateProp('showIntermediateTotal',PropertyType.Boolean),this.CreateProp('intermediateTotalPositions',PropertyType.Any),this.CreateProp('intermediateTotalLabels',PropertyType.Any),this.CreateProp('connectorLines',PropertyType.Boolean),this.CreateProp('styles',PropertyType.Any)]);case wijmo.chart&&wijmo.chart.PlotArea:return new MetaDataBase([this.CreateProp('column',PropertyType.Number),this.CreateProp('height',PropertyType.String),this.CreateProp('name',PropertyType.String),this.CreateProp('row',PropertyType.Number),this.CreateProp('style',PropertyType.Any),this.CreateProp('width',PropertyType.String),],[],[],'plotAreas',!0);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Fibonacci:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp('high',PropertyType.Number),this.CreateProp('low',PropertyType.Number),this.CreateProp('labelPosition',PropertyType.Enum,'',wijmo.chart.LabelPosition),this.CreateProp('levels',PropertyType.Any),this.CreateProp('minX',PropertyType.AnyPrimitive),this.CreateProp('maxX',PropertyType.AnyPrimitive),this.CreateProp('uptrend',PropertyType.Boolean)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.FibonacciTimeZones:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp('startX',PropertyType.Any),this.CreateProp('endX',PropertyType.Any),this.CreateProp('labelPosition',PropertyType.Enum,'',wijmo.chart.LabelPosition),this.CreateProp('levels',PropertyType.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.FibonacciArcs:case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.FibonacciFans:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp('start',PropertyType.Any),this.CreateProp('end',PropertyType.Any),this.CreateProp('labelPosition',PropertyType.Enum,'',wijmo.chart.LabelPosition),this.CreateProp('levels',PropertyType.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.OverlayIndicatorBase:return this.getMetaData(wijmo.chart.SeriesBase);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.SingleOverlayIndicatorBase:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp('period',PropertyType.Number)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.MacdBase:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp('fastPeriod',PropertyType.Number),this.CreateProp('slowPeriod',PropertyType.Number),this.CreateProp('smoothingPeriod',PropertyType.Number)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Macd:return this.getMetaData(wijmo.chart.finance.analytics.MacdBase).add([this.CreateProp('styles',PropertyType.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.MacdHistogram:return this.getMetaData(wijmo.chart.finance.analytics.MacdBase);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.ATR:case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.RSI:case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.WilliamsR:return this.getMetaData(wijmo.chart.finance.analytics.SingleOverlayIndicatorBase);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.CCI:return this.getMetaData(wijmo.chart.finance.analytics.SingleOverlayIndicatorBase).add([this.CreateProp('constant',PropertyType.Number)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Stochastic:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp('dPeriod',PropertyType.Number),this.CreateProp('kPeriod',PropertyType.Number),this.CreateProp('smoothingPeriod',PropertyType.Number),this.CreateProp('styles',PropertyType.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Envelopes:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp('period',PropertyType.Number),this.CreateProp('size',PropertyType.Number),this.CreateProp('type',PropertyType.Enum,'',wijmo.chart.finance.analytics.MovingAverageType)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.BollingerBands:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp('period',PropertyType.Number),this.CreateProp('multiplier',PropertyType.Number)]);case wijmo.gauge&&wijmo.gauge.Gauge:return this.getMetaData(wijmo.Control).add([this.CreateProp('value',PropertyType.Number,'valueChanged'),this.CreateProp('min',PropertyType.Number),this.CreateProp('max',PropertyType.Number),this.CreateProp('origin',PropertyType.Number),this.CreateProp('isReadOnly',PropertyType.Boolean),this.CreateProp('step',PropertyType.Number),this.CreateProp('format',PropertyType.String),this.CreateProp('thickness',PropertyType.Number),this.CreateProp('hasShadow',PropertyType.Boolean),this.CreateProp('isAnimated',PropertyType.Boolean),this.CreateProp('showText',PropertyType.Enum,'',wijmo.gauge.ShowText),this.CreateProp('showRanges',PropertyType.Boolean),this.CreateProp('thumbSize',PropertyType.Number),this.CreateProp('getText',PropertyType.Function)],[this.CreateEvent('valueChanged',!0)],[this.CreateComplexProp('ranges',!0),this.CreateComplexProp('pointer',!1,!1),this.CreateComplexProp('face',!1,!1)]).addOptions({ngModelProperty:'value'});case wijmo.gauge&&wijmo.gauge.LinearGauge:return this.getMetaData(wijmo.gauge.Gauge).add([this.CreateProp('direction',PropertyType.Enum,'',wijmo.gauge.GaugeDirection)]);case wijmo.gauge&&wijmo.gauge.BulletGraph:return this.getMetaData(wijmo.gauge.LinearGauge).add([this.CreateProp('target',PropertyType.Number),this.CreateProp('good',PropertyType.Number),this.CreateProp('bad',PropertyType.Number)]);case wijmo.gauge&&wijmo.gauge.RadialGauge:return this.getMetaData(wijmo.gauge.Gauge).add([this.CreateProp('autoScale',PropertyType.Boolean),this.CreateProp('startAngle',PropertyType.Number),this.CreateProp('sweepAngle',PropertyType.Number)]);case wijmo.gauge&&wijmo.gauge.Range:return new MetaDataBase([this.CreateProp('color',PropertyType.String),this.CreateProp('min',PropertyType.Number),this.CreateProp('max',PropertyType.Number),this.CreateProp('name',PropertyType.String),this.CreateProp('thickness',PropertyType.Number)],[],[],'ranges',!0);case wijmo.olap&&wijmo.olap.PivotGrid:return this.getMetaData(wijmo.grid.FlexGrid).add([this.CreateProp('showDetailOnDoubleClick',PropertyType.Boolean),this.CreateProp('customContextMenu',PropertyType.Boolean),this.CreateProp('collapsibleSubtotals',PropertyType.Boolean),this.CreateProp('centerHeadersVertically',PropertyType.Boolean),]);case wijmo.olap&&wijmo.olap.PivotChart:return new MetaDataBase([this.CreateProp('chartType',PropertyType.Enum,'',wijmo.olap.PivotChartType),this.CreateProp('showHierarchicalAxes',PropertyType.Boolean),this.CreateProp('showTotals',PropertyType.Boolean),this.CreateProp('stacking',PropertyType.Enum,'',wijmo.chart.Stacking),this.CreateProp('maxSeries',PropertyType.Number),this.CreateProp('maxPoints',PropertyType.Number),this.CreateProp('itemsSource',PropertyType.Any),]);case wijmo.olap&&wijmo.olap.PivotPanel:return new MetaDataBase([this.CreateProp('autoGenerateFields',PropertyType.Boolean),this.CreateProp('viewDefinition',PropertyType.String),this.CreateProp('engine',PropertyType.Any),this.CreateProp('itemsSource',PropertyType.Any),],[this.CreateEvent('itemsSourceChanged'),this.CreateEvent('viewDefinitionChanged'),this.CreateEvent('updatingView'),this.CreateEvent('updatedView')]);case wijmo.olap&&wijmo.olap.PivotField:return new MetaDataBase([this.CreateProp('binding',PropertyType.String),this.CreateProp('header',PropertyType.String),this.CreateProp('dataType',PropertyType.Enum,'',wijmo.DataType),],[],[],'',!0,!0,'')}return new MetaDataBase([])},ControlMetaFactory.getClassName=function(classRef){return(classRef.toString().match(/function (.+?)\(/)||[,''])[1]},ControlMetaFactory.toCamelCase=function(s){return s.toLowerCase().replace(/-(.)/g,function(match,group1){return group1.toUpperCase()})},ControlMetaFactory.findInArr=function(arr,propName,value){for(var i in arr)if(arr[i][propName]===value)return arr[i];return null},ControlMetaFactory}(),PropDescBase,PropertyType,BindingMode,EventDescBase,ComplexPropDescBase,MetaDataBase;interop.ControlMetaFactory=ControlMetaFactory;PropDescBase=function(){function PropDescBase(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority){isNativeControlProperty===void 0&&(isNativeControlProperty=!0);priority===void 0&&(priority=0);this._priority=0;this._propertyName=propertyName;this._propertyType=propertyType;this._changeEvent=changeEvent;this._enumType=enumType;this._isNativeControlProperty=isNativeControlProperty;this._priority=priority}return Object.defineProperty(PropDescBase.prototype,"propertyName",{get:function(){return this._propertyName},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"propertyType",{get:function(){return this._propertyType},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"changeEvent",{get:function(){return this._changeEvent},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"enumType",{get:function(){return this._enumType},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"bindingMode",{get:function(){return this.changeEvent?BindingMode.TwoWay:BindingMode.OneWay},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"isNativeControlProperty",{get:function(){return this._isNativeControlProperty},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"shouldUpdateSource",{get:function(){return this.bindingMode===BindingMode.TwoWay&&this.propertyType!=PropertyType.EventHandler},enumerable:!0,configurable:!0}),PropDescBase.prototype.initialize=function(options){wijmo.copy(this,options)},PropDescBase.prototype.castValueToType=function(value){var type,pt,castVal;if(value==undefined)return value;if(type=this.propertyType,pt=PropertyType,type===pt.AnyPrimitive){if(!wijmo.isString(value))return value;if(value==='true'||value==='false')type=pt.Boolean;else return(castVal=+value,!isNaN(castVal))?castVal:(castVal=this._parseDate(value),!wijmo.isString(castVal))?castVal:value}switch(type){case pt.Number:if(typeof value=='string'){if(value.indexOf('*')>=0)return value;if(value.trim()==='')return null}return+value;case pt.Boolean:return value==='true'?!0:value==='false'?!1:!!value;case pt.String:return value+'';case pt.Date:return this._parseDate(value);case pt.Enum:return typeof value=='number'?value:this.enumType[value];default:return value}},PropDescBase.prototype._parseDate=function(value){if(value&&wijmo.isString(value)){value=value.replace(/["']/g,'');var dt=wijmo.changeType(value,wijmo.DataType.Date,'r');if(wijmo.isDate(dt))return dt}return value},PropDescBase}();interop.PropDescBase=PropDescBase,function(PropertyType){PropertyType[PropertyType.Boolean=0]="Boolean";PropertyType[PropertyType.Number=1]="Number";PropertyType[PropertyType.Date=2]="Date";PropertyType[PropertyType.String=3]="String";PropertyType[PropertyType.AnyPrimitive=4]="AnyPrimitive";PropertyType[PropertyType.Enum=5]="Enum";PropertyType[PropertyType.Function=6]="Function";PropertyType[PropertyType.EventHandler=7]="EventHandler";PropertyType[PropertyType.Any=8]="Any"}(interop.PropertyType||(interop.PropertyType={}));PropertyType=interop.PropertyType;interop.isSimpleType=isSimpleType,function(BindingMode){BindingMode[BindingMode.OneWay=0]="OneWay";BindingMode[BindingMode.TwoWay=1]="TwoWay"}(interop.BindingMode||(interop.BindingMode={}));BindingMode=interop.BindingMode;EventDescBase=function(){function EventDescBase(eventName,isPropChanged){this._eventName=eventName;this._isPropChanged=isPropChanged}return Object.defineProperty(EventDescBase.prototype,"eventName",{get:function(){return this._eventName},enumerable:!0,configurable:!0}),Object.defineProperty(EventDescBase.prototype,"isPropChanged",{get:function(){return this._isPropChanged===!0},enumerable:!0,configurable:!0}),EventDescBase}();interop.EventDescBase=EventDescBase;ComplexPropDescBase=function(){function ComplexPropDescBase(propertyName,isArray,ownsObject){ownsObject===void 0&&(ownsObject=!1);this.isArray=!1;this._ownsObject=!1;this.propertyName=propertyName;this.isArray=isArray;this._ownsObject=ownsObject}return Object.defineProperty(ComplexPropDescBase.prototype,"ownsObject",{get:function(){return this.isArray||this._ownsObject},enumerable:!0,configurable:!0}),ComplexPropDescBase}();interop.ComplexPropDescBase=ComplexPropDescBase;MetaDataBase=function(){function MetaDataBase(props,events,complexProps,parentProperty,isParentPropertyArray,ownsObject,parentReferenceProperty,ngModelProperty){this._props=[];this._events=[];this._complexProps=[];this.props=props;this.events=events;this.complexProps=complexProps;this.parentProperty=parentProperty;this.isParentPropertyArray=isParentPropertyArray;this.ownsObject=ownsObject;this.parentReferenceProperty=parentReferenceProperty;this.ngModelProperty=ngModelProperty}return Object.defineProperty(MetaDataBase.prototype,"props",{get:function(){return this._props},set:function(value){this._props=value||[]},enumerable:!0,configurable:!0}),Object.defineProperty(MetaDataBase.prototype,"events",{get:function(){return this._events},set:function(value){this._events=value||[]},enumerable:!0,configurable:!0}),Object.defineProperty(MetaDataBase.prototype,"complexProps",{get:function(){return this._complexProps},set:function(value){this._complexProps=value||[]},enumerable:!0,configurable:!0}),MetaDataBase.prototype.add=function(props,events,complexProps,parentProperty,isParentPropertyArray,ownsObject,parentReferenceProperty,ngModelProperty){return this.addOptions({props:props,events:events,complexProps:complexProps,parentProperty:parentProperty,isParentPropertyArray:isParentPropertyArray,ownsObject:ownsObject,parentReferenceProperty:parentReferenceProperty,ngModelProperty:ngModelProperty})},MetaDataBase.prototype.addOptions=function(options){var prop,thisValue,optionsValue;for(prop in options)thisValue=this[prop],optionsValue=options[prop],thisValue instanceof Array?this[prop]=thisValue.concat(optionsValue||[]):optionsValue!==undefined&&(this[prop]=optionsValue);return this},MetaDataBase.prototype.prepare=function(){var baseArr=[].concat(this._props);this._props.sort(function(a,b){var ret=a.priority-b.priority;return ret||(ret=baseArr.indexOf(a)-baseArr.indexOf(b)),ret})},MetaDataBase}();interop.MetaDataBase=MetaDataBase})(interop=wj.interop||(wj.interop={}))})(wj||(wj={}));__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;(function(angular){var MetaFactory=function(_super){function MetaFactory(){_super.apply(this,arguments)}return __extends(MetaFactory,_super),MetaFactory.CreateProp=function(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority){return new PropDesc(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority)},MetaFactory.CreateEvent=function(eventName,isPropChanged){return new EventDesc(eventName,isPropChanged)},MetaFactory.CreateComplexProp=function(propertyName,isArray,ownsObject){return new ComplexPropDesc(propertyName,isArray,ownsObject)},MetaFactory.findProp=function(propName,props){return wj.interop.ControlMetaFactory.findProp(propName,props)},MetaFactory.findEvent=function(eventName,events){return wj.interop.ControlMetaFactory.findEvent(eventName,events)},MetaFactory.findComplexProp=function(propName,props){return wj.interop.ControlMetaFactory.findComplexProp(propName,props)},MetaFactory}(wj.interop.ControlMetaFactory),PropDesc,EventDesc,ComplexPropDesc;angular.MetaFactory=MetaFactory;PropDesc=function(_super){function PropDesc(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority){_super.call(this,propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority);this._scopeBindingMode=this.propertyType===wj.interop.PropertyType.EventHandler?'&':this.bindingMode==wj.interop.BindingMode.OneWay&&wj.interop.isSimpleType(this.propertyType)?'@':'='}return __extends(PropDesc,_super),Object.defineProperty(PropDesc.prototype,"scopeBindingMode",{get:function(){return this._scopeBindingMode},set:function(value){this._scopeBindingMode=value},enumerable:!0,configurable:!0}),Object.defineProperty(PropDesc.prototype,"customHandler",{get:function(){return this._customHandler},set:function(value){this._customHandler=value},enumerable:!0,configurable:!0}),PropDesc}(wj.interop.PropDescBase);angular.PropDesc=PropDesc;EventDesc=function(_super){function EventDesc(){_super.apply(this,arguments)}return __extends(EventDesc,_super),EventDesc}(wj.interop.EventDescBase);angular.EventDesc=EventDesc;ComplexPropDesc=function(_super){function ComplexPropDesc(){_super.apply(this,arguments)}return __extends(ComplexPropDesc,_super),ComplexPropDesc}(wj.interop.ComplexPropDescBase);angular.ComplexPropDesc=ComplexPropDesc})(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={})),function(wijmo){var angular;(function(angular){var WjDirective=function(){function WjDirective(){this.replace=!0;this.restrict='E';this.template='<div />';this.transclude=!1;this._props=[];this._events=[];this._complexProps=[];var self=this;this._dirId=++WjDirective._dirIdCounter+'';this.link=this._postLinkFn();this.controller=['$scope','$parse','$element',function($scope,$parse,$element){self._$parse=$parse;this[WjDirective._cntrlScopeProp]=$scope;$scope[WjDirective._scopeChildrenProp]=[];self._controllerImpl(this,$scope,$element)}];this._initDirective()}return Object.defineProperty(WjDirective.prototype,"_controlConstructor",{get:function(){throw'Abstract method call';},enumerable:!0,configurable:!0}),WjDirective.prototype._getMetaDataId=function(){return this._controlConstructor},WjDirective.prototype._getMetaData=function(){return angular.MetaFactory.getMetaData(this._getMetaDataId())},WjDirective.prototype._initDirective=function(){this._initSharedMeta();this._prepareProps();this._initEvents();this._initScopeEvents();this._initScopeDescription()},WjDirective.prototype._initSharedMeta=function(){var meta=this._getMetaData(),prop,idx,propDesc;this._props=meta.props;this._events=meta.events;this._complexProps=meta.complexProps;this._property=meta.parentProperty;this._isPropertyArray=meta.isParentPropertyArray;this._ownObject=meta.ownsObject;this._parentReferenceProperty=meta.parentReferenceProperty;this._ngModelProperty=meta.ngModelProperty;prop=angular.MetaFactory.findProp('required',this._props);prop&&(idx=this._props.indexOf(prop),idx>-1&&(propDesc=new angular.PropDesc('wjRequired',wj.interop.PropertyType.Boolean),propDesc.customHandler=function(scope,control,value){control.required=value},this._props.splice(idx+1,0,propDesc)))},WjDirective.prototype._initProps=function(){},WjDirective.prototype._initEvents=function(){},WjDirective.prototype._createLink=function(){return new WjLink},WjDirective.prototype._controllerImpl=function(){},WjDirective.prototype._initControl=function(element){try{var controlConstructor=this._controlConstructor;return new controlConstructor(element)}catch(e){return undefined}},WjDirective.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},WjDirective.prototype._isParentInitializer=function(){return this._property!=undefined},WjDirective.prototype._isParentReferencer=function(){return this._parentReferenceProperty!=undefined},WjDirective.prototype._scopeToAttrName=function(scopeName){var alias=this.scope[scopeName],bindMarkLen,aliasLen;return alias?(bindMarkLen=1,aliasLen=alias.length,aliasLen<2)?scopeName:(alias.charAt(1)==='?'&&(bindMarkLen=2),aliasLen===bindMarkLen)?scopeName:alias.substr(bindMarkLen):scopeName},WjDirective.prototype._getComplexPropDesc=function(propName){return angular.MetaFactory.findComplexProp(propName,this._complexProps)},WjDirective.prototype._initScopeEvents=function(){var i,event;for(i in this._events)event=this._events[i],this._props.push(new angular.PropDesc(event.eventName,wj.interop.PropertyType.EventHandler))},WjDirective.prototype._initScopeDescription=function(){var props=this._props,scope={},byRefMark=WjDirective._optionalAttr?'=?':'=',prop,i;if(props!=null){for(i=0;i<props.length;i++)prop=props[i],scope[prop.propertyName]=prop.scopeBindingMode,WjDirective._optionalAttr&&prop.scopeBindingMode=='='&&(scope[prop.propertyName]='=?');scope.required&&(scope.wjRequired=scope.required)}scope.control=byRefMark;scope[WjDirective._initPropAttr]=byRefMark;scope[WjDirective._initEventAttr]='&';scope[WjDirective._parPropAttr]='@';scope[WjDirective._wjModelPropAttr]='@';this.scope=scope},WjDirective.prototype._postLinkFn=function(){var self=this;return function(scope,tElement,tAttrs,controller){var link=self._createLink(),i,curCntrl;if(link.directive=self,link.scope=scope,link.tElement=tElement,link.tAttrs=tAttrs,wijmo.isArray(controller)){var parEl=tElement.parent(),scopeFunc=parEl.isolateScope||parEl.scope,parScope=scopeFunc.call(parEl);for(i in controller)if(curCntrl=controller[i],curCntrl!=undefined&&(curCntrl[WjDirective._cntrlScopeProp]===scope&&(curCntrl=tElement.parent().controller(self._stripRequire(+i))),curCntrl&&curCntrl[WjDirective._cntrlScopeProp]===parScope)){link.controller=curCntrl;break}}else link.controller=controller;link.ngModel=tElement.controller('ngModel');link._link()}},WjDirective.prototype._prepareProps=function(){this._initProps();var baseArr=[].concat(this._props);this._props.sort(function(a,b){var ret=a.priority-b.priority;return ret||(ret=baseArr.indexOf(a)-baseArr.indexOf(b)),ret})},WjDirective.prototype._stripRequire=function(index){if(this._stripReq||(this._stripReq=[],this._stripReq.length=this.require.length),!this._stripReq[index]){var res=/^[^A-Za-z]*(.*)/.exec(this.require[index]);this._stripReq[index]=res?res[1]:''}return this._stripReq[index]},WjDirective.prototype._getId=function(){return this._dirId},WjDirective._versionOk=function(minVer){var angVer=window.angular.version,angVerParts=[angVer.major,angVer.minor,angVer.dot],verParts=minVer.split("."),i;if(verParts.length!==angVerParts.length)throw'Unrecognizable version number.';for(i=0;i<verParts.length;i++){if(angVerParts[i]<verParts[i])return!1;if(angVerParts[i]>verParts[i])return!0}return!0},WjDirective._removeTransclude=function(html){var root,transNodes;return html?(root=document.createElement('div'),root.innerHTML=html,transNodes=root.querySelectorAll('[ng-transclude]'),[].forEach.call(transNodes,function(elem){elem.removeAttribute('ng-transclude')}),root.innerHTML):html},WjDirective._parPropAttr='wjProperty',WjDirective._wjModelPropAttr='wjModelProperty',WjDirective._initPropAttr='isInitialized',WjDirective._initEventAttr='initialized',WjDirective._cntrlScopeProp='_cntrlScope',WjDirective._cntrlLinkProp='$_thisLink',WjDirective._scopeChildrenProp='$_childLinks',WjDirective._dirIdAttr='wj-directive-id',WjDirective._optionalAttr=WjDirective._versionOk("1.1.4"),WjDirective._dynaTemplates=WjDirective._optionalAttr,WjDirective._angStripPrefixes=['data','x'],WjDirective._dirIdCounter=0,WjDirective}(),WjLink;angular.WjDirective=WjDirective;WjLink=function(){function WjLink(){this._nonAssignable={};this._definedProps={};this._definedEvents={};this._oldValues={};this._isInitialized=!1;this._hasTriggeredInitialized=!1;this._isNgModelInitialized=!1;this._scopeSuspend=0;this._suspendedEvents=[];this._areChlildrenReady=!1;this._isDestroyed=!1;this._isAppliedToParent=!1}return WjLink.prototype._link=function(){var dir=this.directive,self=this,parentScope,parentLink;this.tElement[0].setAttribute(WjDirective._dirIdAttr,dir._getId());this.directiveTemplateElement=dir.replace?this.tElement:window.angular.element(this.tElement.children()[0]);this._initNonAssignable();this._isChild()?(this._parentPropDesc=new angular.ComplexPropDesc(dir._property,dir._isPropertyArray,dir._ownObject),this.controller[WjDirective._cntrlScopeProp][WjDirective._scopeChildrenProp].push(this),parentScope=this.controller[WjDirective._cntrlScopeProp],parentLink=parentScope[WjDirective._cntrlLinkProp],parentLink&&parentLink._areChlildrenReady&&this._parentReady(parentLink)):(this._createInstance(),this._notifyReady(),this._prepareControl());this._destroyEhUnreg=this.scope.$on('$destroy',function(){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];self._destroy()})},WjLink.prototype._onChildrenReady=function(){},WjLink.prototype._createInstance=function(){this.control=this._initControl();this._safeApply(this.scope,'control',this.control)},WjLink.prototype._parentReady=function(parentLink){var self,parProp,parPropDescOverride;if(this._isChild()){if(self=this,this._isAttrDefined(WjDirective._parPropAttr)&&!this.scope[WjDirective._parPropAttr]){this.scope.$watch(WjDirective._parPropAttr,function(){self._parentReady(parentLink)});return}parProp=this._getParentProp();parPropDescOverride=parentLink.directive._getComplexPropDesc(parProp);parPropDescOverride?this._parentPropDesc=parPropDescOverride:this._parentPropDesc.propertyName=parProp;this.parent=parentLink;this._useParentObj()?(this.control=parentLink.control[parProp],this._safeApply(this.scope,'control',this.control)):this._createInstance();this._notifyReady();this._prepareControl();this._initParent();this.directiveTemplateElement[0].style.display='none';this._appliedToParent()}},WjLink.prototype._initParent=function(){var parArr,linkIdx,self;if(!this._useParentObj()){var dir=this.directive,propName=this._getParentProp(),parCtrl=this.parent.control,ctrl=this.control;this._isParentInitializer()&&(this._isParentArray()?(parArr=parCtrl[propName],linkIdx=this._getIndex(),(linkIdx<0||linkIdx>=parArr.length)&&(linkIdx=parArr.length),parArr.splice(linkIdx,0,ctrl),self=this,this._siblingInsertedEH=this._siblingInserted.bind(this),this.tElement[0].addEventListener('DOMNodeInserted',this._siblingInsertedEH)):parCtrl[propName]=ctrl);this._isParentReferencer()&&!this._parentInCtor()&&(ctrl[this._getParentReferenceProperty()]=parCtrl)}},WjLink.prototype._destroy=function(){var control,parControl,parProp,parArr,idx;this._isDestroyed||(this._isDestroyed=!0,control=this.control,this._destroyEhUnreg&&(this._destroyEhUnreg=null),this._siblingInsertedEH&&this.tElement[0].removeEventListener('DOMNodeInserted',this._siblingInsertedEH),this._isParentArray()&&!this.parent._isDestroyed&&(parControl=this.parent.control,parProp=this._getParentProp(),parControl&&parProp&&control&&(parArr=parControl[parProp],parArr&&(idx=parArr.indexOf(control),idx>=0&&parArr.splice(idx,1)))),control instanceof wijmo.Control&&setTimeout(function(){control.hostElement&&control.dispose()},0))},WjLink.prototype._siblingInserted=function(e){if(e.target===this.tElement[0]){var lIdx=this._getIndex(),parArr=this.parent.control[this._getParentProp()],ctrl=this.control,arrIdx=parArr.indexOf(ctrl);lIdx>=0&&arrIdx>=0&&lIdx!==arrIdx&&(parArr.splice(arrIdx,1),lIdx=Math.min(lIdx,parArr.length),parArr.splice(lIdx,0,ctrl))}},WjLink.prototype._notifyReady=function(){var childLinks,i;for(this.scope[WjDirective._cntrlLinkProp]=this,childLinks=[].concat(this.scope[WjDirective._scopeChildrenProp]),i=0;i<childLinks.length;i++)childLinks[i]._parentReady(this);this._areChlildrenReady=!0;this._onChildrenReady()},WjLink.prototype._initControl=function(){return this.directive._initControl(this._parentInCtor()?this.parent.control:this.directiveTemplateElement[0])},WjLink.prototype._prepareControl=function(){this._addEventHandlers();this._addWatchers()},WjLink.prototype._setupScopeWithControlProperties=function(){for(var isFunction,isEventHandler,prop,name,scopeValue,controlValue,control=this.control,scope=this.scope,props=this.directive._props,i=0;i<props.length;i++)prop=props[i],prop.scopeBindingMode==='='&&prop.isNativeControlProperty&&prop.shouldUpdateSource&&(name=prop.propertyName,scopeValue=scope[name],controlValue=control[name],isFunction=prop.propertyType==wj.interop.PropertyType.Function,isEventHandler=prop.propertyType==wj.interop.PropertyType.EventHandler,!this._canApply(scope,prop.propertyName)||controlValue==scopeValue||isFunction||isEventHandler||(scope[prop.propertyName]=controlValue));scope.$root.$$phase||scope.$apply()},WjLink.prototype._initNonAssignable=function(){var parse=this.directive._$parse,scopeDef=this.directive.scope,binding;for(var name in scopeDef)scopeDef[name].charAt(0)==='='&&(binding=this.tAttrs[this.directive._scopeToAttrName(name)],(binding===undefined||parse(binding).assign==undefined)&&(this._nonAssignable[name]=!0))},WjLink.prototype._suspendScope=function(){this._scopeSuspend++},WjLink.prototype._resumeScope=function(){this._scopeSuspend>0&&--this._scopeSuspend==0&&this._suspendedEvents.length>0&&this._updateScope()},WjLink.prototype._isScopeSuspended=function(){return this._scopeSuspend>0},WjLink.prototype._isAttrDefined=function(name){return this.tAttrs.$attr[this.directive._scopeToAttrName(name)]!=null},WjLink.prototype._childInitialized=function(child){var childLinks=this.scope[WjDirective._scopeChildrenProp],idx=childLinks.indexOf(child);idx>=0&&(childLinks.splice(idx,1),this._checkRaiseInitialized())},WjLink.prototype._thisInitialized=function(){this._checkRaiseInitialized()},WjLink.prototype._initialized=function(){},WjLink.prototype._appliedToParent=function(){this._isAppliedToParent=!0;this._checkRaiseInitialized()},WjLink.prototype._checkRaiseInitialized=function(){if(!this._hasTriggeredInitialized&&this.scope[WjDirective._scopeChildrenProp].length===0&&this._isInitialized&&(!this._isChild()||this._isAppliedToParent)){this._hasTriggeredInitialized=!0;this._initialized();this._safeApply(this.scope,WjDirective._initPropAttr,!0);var handler=this.scope[WjDirective._initEventAttr],self=this;handler&&setTimeout(function(){handler({s:self.control,e:undefined})},0);this._isChild()&&this.parent&&this.parent._childInitialized(this)}},WjLink.prototype._addWatchers=function(){var self=this,props=this.directive._props,scope=this.scope,ngModel,i,name,prop,control;if(props){for(this.ngModel&&(ngModel=this.ngModel,ngModel.$pristine&&wijmo.addClass(this.tElement[0],'ng-pristine'),ngModel.$valid&&wijmo.addClass(this.tElement[0],'ng-valid'),ngModel.$untouched&&wijmo.addClass(this.tElement[0],'ng-untouched'),ngModel.$render=this._ngModelRender.bind(this),this._updateNgModelPropDesc(),this._isAttrDefined(WjDirective._wjModelPropAttr)&&scope.$watch(WjDirective._wjModelPropAttr,function(){self._updateNgModelPropDesc();self._ngModelRender()})),i=0;i<props.length;i++)prop=props[i],name=prop.propertyName,prop.propertyType!==wj.interop.PropertyType.EventHandler&&this._isAttrDefined(name)&&(this._definedProps[name]=prop);control=this.control;scope.$watch(function(scope){var assignValues,name,newVal,oldVal,handled;if(!self._isDestroyed)try{assignValues={};for(name in self._definedProps)scope[name]!==self._oldValues[name]&&(assignValues[name]=scope[name]);for(name in assignValues)if(newVal=assignValues[name],oldVal=self._oldValues[name],newVal!==oldVal&&(self._oldValues[name]=newVal,self._isInitialized||newVal!==undefined)){var prop=self._definedProps[name],value=self._nullOrValue(self._castValueToType(newVal,prop)),oldCtrlVal=control[name];oldCtrlVal!=value&&(handled=!1,prop.customHandler!=null&&(handled=prop.customHandler(scope,control,value,oldCtrlVal,self)),prop.isNativeControlProperty&&handled!==!0&&(control[name]=value))}}finally{self._isInitialized||(self._isNgModelInitialized=!0,self.ngModel&&(self.ngModel.$viewValue!==undefined?self._ngModelRender():self._ngModelPropDesc&&(self.ngModel.$setViewValue(control[self._ngModelPropDesc.propertyName]),self.ngModel.$setPristine())),self._isInitialized=!0,self._setupScopeWithControlProperties(),self._thisInitialized())}})}},WjLink.prototype._addEventHandlers=function(){for(var event,evList=this.directive._events,i=0;i<evList.length;i++)event=evList[i],this._addEventHandler(event)},WjLink.prototype._addEventHandler=function(eventDesc){var self=this,eventName=eventDesc.eventName,controlEvent=this.control[eventName],isDefined;if(controlEvent==null)throw'Event "'+eventName+'" not found in '+self.constructor.name;if(isDefined=this._isAttrDefined(eventName),isDefined)this._definedEvents[eventName]=eventDesc;else if(!eventDesc.isPropChanged)return;var scope=this.scope,props=this.directive._props,control=this.control;controlEvent.addHandler(function(s,e){var eventInfo={eventDesc:eventDesc,s:s,e:e};self._isScopeSuspended()?self._suspendedEvents.push(eventInfo):self._updateScope(eventInfo)},control)},WjLink.prototype._updateScope=function(eventInfo){var update,self,props,i,p,name,value,raiseEvents,dispose;if(eventInfo===void 0&&(eventInfo=null),!this._isDestroyed){if(update=eventInfo?eventInfo.eventDesc.isPropChanged:this._suspendedEvents.some(function(value){return value.eventDesc.isPropChanged}),self=this,update)for(props=this.directive._props,i=0;i<props.length;i++)p=props[i],p.scopeBindingMode=='='&&p.isNativeControlProperty&&p.shouldUpdateSource&&(name=p.propertyName,value=this.control[name],this._shouldApply(this.scope,name,value)&&(this.scope[name]=value,this.directive._$parse(this.tAttrs[this.directive._scopeToAttrName(name)]).assign(this.scope.$parent,value)),this._ngModelPropDesc&&this._isInitialized&&this._ngModelPropDesc.propertyName==name&&this.ngModel.$viewValue!==value&&this.ngModel.$setViewValue(value));raiseEvents=function(){for(var suspEvArr=eventInfo?[eventInfo]:this._suspendedEvents,i=0;i<suspEvArr.length;i++){var suspInfo=suspEvArr[i],eventName=suspInfo.eventDesc.eventName,scopeHandler=this.scope[eventName];self._definedEvents[eventName]&&scopeHandler&&scopeHandler({s:suspInfo.s,e:suspInfo.e})}eventInfo||(this._suspendedEvents.length=0)}.bind(this);update&&(this.scope.$root.$$phase?dispose=this.scope.$watch('value',function(){dispose()}):this.scope.$apply());raiseEvents()}},WjLink.prototype._ngModelRender=function(){var viewValue,propDesc,value;this._isNgModelInitialized&&(viewValue=this.ngModel.$viewValue,propDesc=this._ngModelPropDesc,propDesc&&(viewValue!==undefined||this._isInitialized))&&(value=this._nullOrValue(this._castValueToType(viewValue,propDesc)),viewValue!==this.control[propDesc.propertyName]&&(this.control[propDesc.propertyName]=viewValue))},WjLink.prototype._castValueToType=function(value,prop){return prop.castValueToType(value)},WjLink.prototype._isChild=function(){return this.directive._isChild()},WjLink.prototype._isParentInitializer=function(){return this.directive._isParentInitializer()},WjLink.prototype._isParentReferencer=function(){return this.directive._isParentReferencer()},WjLink.prototype._getParentProp=function(){return this._isParentInitializer()?this.scope[WjDirective._parPropAttr]||this.directive._property:undefined},WjLink.prototype._getParentReferenceProperty=function(){return this.directive._parentReferenceProperty},WjLink.prototype._useParentObj=function(){return!this._isParentReferencer()&&this._isParentInitializer()&&!this._parentPropDesc.isArray&&!this._parentPropDesc.ownsObject},WjLink.prototype._isParentArray=function(){return this._isParentInitializer()&&this._parentPropDesc.isArray},WjLink.prototype._parentInCtor=function(){return this._isParentReferencer()&&this._getParentReferenceProperty()==''},WjLink.prototype._getNgModelProperty=function(){return this.scope[WjDirective._wjModelPropAttr]||this.directive._ngModelProperty},WjLink.prototype._updateNgModelPropDesc=function(){var ngModelProp=this._getNgModelProperty();this._ngModelPropDesc=wijmo.isNullOrWhiteSpace(ngModelProp)?null:angular.MetaFactory.findProp(ngModelProp,this.directive._props)},WjLink.prototype._safeApply=function(scope,name,value){this._shouldApply(scope,name,value)&&(scope[name]=value,scope.$root.$$phase||scope.$apply())},WjLink.prototype._shouldApply=function(scope,name,value){return this._canApply(scope,name)&&value!=scope[name]},WjLink.prototype._canApply=function(scope,name){return!this._nonAssignable[name]},WjLink.prototype._nullOrValue=function(value){return value!=undefined?value:null},WjLink.prototype._getIndex=function(){var thisEl=this.tElement[0],parEl=thisEl.parentElement,i,curEl;if(!parEl)return-1;var siblings=parEl.childNodes,idx=-1,dirId=this.directive._getId();for(i=0;i<siblings.length;i++)if(curEl=siblings[i],curEl.nodeType==1&&curEl.getAttribute(WjDirective._dirIdAttr)==dirId&&(++idx,curEl===thisEl))return idx;return-1},WjLink}();angular.WjLink=WjLink})(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;(function(angular){var wijmoContainers=window.angular.module('wj.container',[]);wijmoContainers.directive('wjTooltip',[function(){return new WjTooltip}]);wijmoContainers.directive('wjValidationError',[function(){return new WjValidationError}]);var WjTooltip=function(_super){function WjTooltip(){_super.call(this);this.restrict='A';this.template=''}return __extends(WjTooltip,_super),Object.defineProperty(WjTooltip.prototype,"_controlConstructor",{get:function(){return wijmo.Tooltip},enumerable:!0,configurable:!0}),WjTooltip.prototype._initControl=function(){return new wijmo.Tooltip},WjTooltip.prototype._createLink=function(){return new WjTooltipLink},WjTooltip}(angular.WjDirective),WjTooltipLink=function(_super){function WjTooltipLink(){_super.apply(this,arguments)}return __extends(WjTooltipLink,_super),WjTooltipLink.prototype._link=function(){_super.prototype._link.call(this);var tt=this.control,self=this;this.tAttrs.$observe('wjTooltip',function(value){tt.setTooltip(self.tElement[0],value)})},WjTooltipLink}(angular.WjLink),WjValidationError=function(_super){function WjValidationError(){_super.call(this);this.restrict='A';this.template='';this.require='ngModel';this.scope=!1}return __extends(WjValidationError,_super),WjValidationError.prototype._postLinkFn=function(){return function(scope,tElement,tAttrs,controller){var dn='wjValidationError';scope.$watch(tAttrs[dn],function(errorMsg){var e=tElement[0].tagName=='INPUT'?tElement[0]:tElement[0].querySelector('input');typeof errorMsg=='boolean'&&(errorMsg=errorMsg?'error':'');e&&e.setCustomValidity&&e.setCustomValidity(errorMsg);controller&&controller.$setValidity(dn,errorMsg?!1:!0)})}},WjValidationError.prototype._getMetaDataId=function(){return'ValidationError'},WjValidationError}(angular.WjDirective)})(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;(function(angular){var wijmoInput=window.angular.module('wj.input',[]);wijmo.input&&wijmo.input.InputNumber&&(wijmoInput.directive('wjAutoComplete',['$compile',function($compile){return new WjAutoComplete($compile)}]),wijmoInput.directive('wjCalendar',[function(){return new WjCalendar}]),wijmoInput.directive('wjColorPicker',[function(){return new WjColorPicker}]),wijmoInput.directive('wjComboBox',['$compile',function($compile){return new WjComboBox($compile)}]),wijmoInput.directive('wjInputDate',[function(){return new WjInputDate}]),wijmoInput.directive('wjInputDateTime',[function(){return new WjInputDateTime}]),wijmoInput.directive('wjInputNumber',[function(){return new WjInputNumber}]),wijmoInput.directive('wjInputMask',[function(){return new WjInputMask}]),wijmoInput.directive('wjInputTime',['$compile',function($compile){return new WjInputTime($compile)}]),wijmoInput.directive('wjInputColor',[function(){return new WjInputColor}]),wijmoInput.directive('wjListBox',[function(){return new WjListBox}]),wijmoInput.directive('wjItemTemplate',['$compile',function($compile){return new WjItemTemplate($compile)}]),wijmoInput.directive('wjMenu',['$compile',function($compile){return new WjMenu($compile)}]),wijmoInput.directive('wjMenuItem',[function(){return new WjMenuItem}]),wijmoInput.directive('wjMenuSeparator',[function(){return new WjMenuSeparator}]),wijmoInput.directive('wjContextMenu',[function(){return new WjContextMenu}]),wijmoInput.directive('wjCollectionViewNavigator',[function(){return new WjCollectionViewNavigator}]),wijmoInput.directive('wjCollectionViewPager',[function(){return new WjCollectionViewPager}]),wijmoInput.directive('wjPopup',[function(){return new WjPopup}]),wijmoInput.directive('wjMultiSelect',['$compile',function($compile){return new WjMultiSelect($compile)}]));var WjDropDown=function(_super){function WjDropDown(){_super.apply(this,arguments)}return __extends(WjDropDown,_super),Object.defineProperty(WjDropDown.prototype,"_controlConstructor",{get:function(){return wijmo.input.DropDown},enumerable:!0,configurable:!0}),WjDropDown}(angular.WjDirective),WjComboBox=function(_super){function WjComboBox($compile){_super.call(this);this._$compile=$compile;this.template='<div ng-transclude />';this.transclude=!0}return __extends(WjComboBox,_super),Object.defineProperty(WjComboBox.prototype,"_controlConstructor",{get:function(){return wijmo.input.ComboBox},enumerable:!0,configurable:!0}),WjComboBox}(WjDropDown),WjAutoComplete=function(_super){function WjAutoComplete($compile){_super.call(this,$compile)}return __extends(WjAutoComplete,_super),Object.defineProperty(WjAutoComplete.prototype,"_controlConstructor",{get:function(){return wijmo.input.AutoComplete},enumerable:!0,configurable:!0}),WjAutoComplete}(WjComboBox),WjCalendar=function(_super){function WjCalendar(){_super.apply(this,arguments)}return __extends(WjCalendar,_super),Object.defineProperty(WjCalendar.prototype,"_controlConstructor",{get:function(){return wijmo.input.Calendar},enumerable:!0,configurable:!0}),WjCalendar}(angular.WjDirective),WjColorPicker=function(_super){function WjColorPicker(){_super.apply(this,arguments)}return __extends(WjColorPicker,_super),Object.defineProperty(WjColorPicker.prototype,"_controlConstructor",{get:function(){return wijmo.input.ColorPicker},enumerable:!0,configurable:!0}),WjColorPicker}(angular.WjDirective),WjListBox=function(_super){function WjListBox(){_super.call(this);this.transclude=!0;this.template='<div ng-transclude />'}return __extends(WjListBox,_super),Object.defineProperty(WjListBox.prototype,"_controlConstructor",{get:function(){return wijmo.input.ListBox},enumerable:!0,configurable:!0}),WjListBox}(angular.WjDirective),WjItemTemplate=function(_super){function WjItemTemplate($compile){_super.call(this);this._$compile=$compile;this.require=['?^wjListBox','?^wjMenu'];this.terminal=!0;angular.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(tElement,tAttrs){return tAttrs[WjItemTemplate._itemTemplateProp]=tElement[0].innerHTML,'<div />'}):(this.transclude=!0,this.template='<div ng-transclude/>')}return __extends(WjItemTemplate,_super),WjItemTemplate.prototype._initControl=function(){return{}},WjItemTemplate.prototype._createLink=function(){return new WjItemTemplateLink},WjItemTemplate.prototype._getMetaDataId=function(){return'ItemTemplate'},WjItemTemplate._itemTemplateProp='$__wjItemTemplate',WjItemTemplate._itemScopeProp='$_itemScope',WjItemTemplate}(angular.WjDirective),WjItemTemplateLink=function(_super){function WjItemTemplateLink(){_super.apply(this,arguments)}return __extends(WjItemTemplateLink,_super),WjItemTemplateLink.prototype._initParent=function(){_super.prototype._initParent.call(this);var dynaTempl=this.tAttrs[WjItemTemplate._itemTemplateProp],ownerControl=this.parent.control,listBox=this._getListBox();this.itemTemplate=dynaTempl!=null?dynaTempl:angular.WjDirective._removeTransclude(this.tElement[0].innerHTML);listBox.formatItem.addHandler(this._fmtItem,this);listBox.loadingItems.addHandler(this._loadingItems,this);this.parent._isInitialized&&ownerControl.invalidate()},WjItemTemplateLink.prototype._destroy=function(){var ownerControl=this.parent&&this.parent.control,listBox=this._getListBox();listBox&&(listBox.formatItem.removeHandler(this._fmtItem,this),listBox.loadingItems.removeHandler(this._loadingItems,this));_super.prototype._destroy.call(this);this._tmplLink=null;ownerControl&&ownerControl.invalidate()},WjItemTemplateLink.prototype._loadingItems=function(s){for(var itemEl,itemScope,items=s.hostElement.getElementsByClassName('wj-listbox-item'),i=items.length-1;i>=0;i--)itemEl=items[i],itemScope=itemEl[WjItemTemplate._itemScopeProp],itemScope&&(itemEl[WjItemTemplate._itemScopeProp]=null,itemScope.$destroy())},WjItemTemplateLink.prototype._fmtItem=function(s,e){var itemEl,itemScope,clonedElement,lag;this._tmplLink||(this._tmplLink=this.directive._$compile('<div>'+this.itemTemplate+'</div>'));itemEl=e.item;itemScope=this.scope.$parent.$new();itemEl[WjItemTemplate._itemScopeProp]=itemScope;itemScope.$control=s;itemScope.$item=e.data;itemScope.$itemIndex=e.index;clonedElement=this._tmplLink(itemScope,function(){})[0];itemEl.childNodes.length===1?itemEl.replaceChild(clonedElement,itemEl.firstChild):(itemEl.textContent='',itemEl.appendChild(clonedElement));lag=40;clearTimeout(this._closingApplyTimeOut);this._closingApplyTimeOut=setTimeout(function(){itemScope.$root.$$phase||itemScope.$apply()},lag)},WjItemTemplateLink._invalidateControl=function(parentControl){parentControl&&parentControl.invalidate()},WjItemTemplateLink.prototype._getListBox=function(){var ownerControl=this.parent&&this.parent.control;return ownerControl?ownerControl instanceof wijmo.input.ListBox?ownerControl:ownerControl.listBox:null},WjItemTemplateLink}(angular.WjLink),WjMenu=function(_super){function WjMenu($compile){_super.call(this,$compile)}return __extends(WjMenu,_super),Object.defineProperty(WjMenu.prototype,"_controlConstructor",{get:function(){return wijmo.input.Menu},enumerable:!0,configurable:!0}),WjMenu.prototype._createLink=function(){return new WjMenuLink},WjMenu.prototype._initProps=function(){_super.prototype._initProps.call(this);var self=this,valueDesc=angular.MetaFactory.findProp('value',this._props);valueDesc.customHandler=function(scope,control,value,oldValue,link){self.updateControlValue(scope,control,link)}},WjMenu.prototype.updateControlValue=function(scope,control,link){scope.value!=null&&(control.selectedValue=scope.value,link.directive.updateHeader(scope,control,link))},WjMenu.prototype.updateHeader=function(scope,control){var selItem,itemLink,currentValue;control.header=scope.header||'';selItem=control.selectedItem;typeof scope.value!='undefined'&&selItem&&control.displayMemberPath&&(itemLink=selItem[WjMenuItem._itemLinkProp],currentValue=itemLink?itemLink.linkedContent.innerHTML:selItem[control.displayMemberPath],currentValue!=null&&(control.header+=': <b>'+currentValue+'</b>'))},WjMenu}(WjComboBox),WjMenuLink=function(_super){function WjMenuLink(){_super.apply(this,arguments)}return __extends(WjMenuLink,_super),WjMenuLink.prototype._initControl=function(){var self=this,control=new wijmo.input.Menu(this.directiveTemplateElement[0],{itemsSource:new wijmo.collections.ObservableArray,selectedIndex:0,itemClicked:function(){self._safeApply(self.scope,'value',control.selectedValue);self.directive.updateHeader(self.scope,control,self)}.bind(self)});return control.listBox.formatItem.addHandler(self._fmtItem,this),control.listBox.loadingItems.addHandler(this._loadingItems,this),control},WjMenuLink.prototype._initialized=function(){this.directive.updateControlValue(this.scope,this.control,this)},WjMenuLink.prototype._fmtItem=function(s,e){var itemLink=e.data[WjMenuItem._itemLinkProp],clonedElement,lag;if(itemLink){itemLink.contentLink||(itemLink.contentLink=this.directive._$compile('<div>'+itemLink.itemTemplate+'</div>'));var self=this,itemEl=e.item,itemScope=itemLink.scope.$parent.$new();itemEl[WjMenuItem._itemScopeProp]=itemScope;itemScope.$control=this.control;itemScope.$item=e.data;itemScope.$itemIndex=e.index;clonedElement=itemLink.linkedContent=itemLink.contentLink(itemScope,function(){})[0];itemEl.childNodes.length===1?itemEl.replaceChild(clonedElement,itemEl.firstChild):(itemEl.textContent='',itemEl.appendChild(clonedElement));lag=40;clearTimeout(this._closingApplyTimeOut);this._closingApplyTimeOut=setTimeout(function(){itemScope.$root.$$phase||itemScope.$apply();self.control.selectedItem&&self.directive.updateHeader(self.scope,self.control,self)},lag)}},WjMenuLink.prototype._loadingItems=function(s){for(var itemEl,itemScope,items=s.hostElement.getElementsByClassName('wj-listbox-item'),i=items.length-1;i>=0;i--)itemEl=items[i],itemScope=itemEl[WjMenuItem._itemScopeProp],itemScope&&(itemEl[WjItemTemplate._itemScopeProp]=null,itemScope.$destroy())},WjMenuLink}(angular.WjLink);angular.WjMenuLink=WjMenuLink;var WjMenuItem=function(_super){function WjMenuItem(){_super.call(this);this.require='^wjMenu';this.terminal=!0;angular.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(tElement,tAttrs){return tAttrs[WjItemTemplate._itemTemplateProp]=tElement[0].innerHTML,'<div />'}):(this.transclude=!0,this.template='<div ng-transclude/>')}return __extends(WjMenuItem,_super),WjMenuItem.prototype._createLink=function(){return new WjMenuItemLink(!1)},WjMenuItem.prototype._getMetaDataId=function(){return'MenuItem'},WjMenuItem.prototype._getId=function(){return WjMenuItem._directiveId},WjMenuItem._itemTemplateProp='$__wjMenuItemTemplate',WjMenuItem._itemScopeProp='$_menuItemScope',WjMenuItem._itemLinkProp='$_menuItemLink',WjMenuItem._directiveId='menuItemDir',WjMenuItem}(angular.WjDirective),WjMenuItemLink=function(_super){function WjMenuItemLink(isSeparator){_super.call(this);this.isSeparator=isSeparator}return __extends(WjMenuItemLink,_super),WjMenuItemLink.prototype._initControl=function(){var dynaTempl=this.tAttrs[WjItemTemplate._itemTemplateProp],ret;return this.itemTemplate=this.isSeparator?'<div class="wj-state-disabled" style="width:100%;height:1px;background-color:lightgray"/>':dynaTempl!=null?dynaTempl:angular.WjDirective._removeTransclude(this.tElement[0].innerHTML),ret={value:null,cmd:null,cmdParam:null,header:this.itemTemplate},ret[WjMenuItem._itemLinkProp]=this,ret},WjMenuItemLink.prototype._initParent=function(){_super.prototype._initParent.call(this);var ownerControl=this.parent.control;ownerControl.itemsSource.length==1&&ownerControl.selectedIndex<0&&(ownerControl.selectedIndex=0);ownerControl.displayMemberPath||(ownerControl.displayMemberPath='header');ownerControl.selectedValuePath||(ownerControl.selectedValuePath='value');ownerControl.commandPath||(ownerControl.commandPath='cmd');ownerControl.commandParameterPath||(ownerControl.commandParameterPath='cmdParam')},WjMenuItemLink.prototype._destroy=function(){var ownerControl=this.parent&&this.parent.control;_super.prototype._destroy.call(this);ownerControl&&ownerControl.invalidate()},WjMenuItemLink}(angular.WjLink),WjMenuSeparator=function(_super){function WjMenuSeparator(){_super.call(this);this.template='<span />';this.require='^wjMenu'}return __extends(WjMenuSeparator,_super),WjMenuSeparator.prototype._getMetaDataId=function(){return'MenuSeparator'},WjMenuSeparator.prototype._createLink=function(){return new WjMenuItemLink(!0)},WjMenuSeparator.prototype._getId=function(){return WjMenuItem._directiveId},WjMenuSeparator}(angular.WjDirective),WjContextMenu=function(_super){function WjContextMenu(){_super.call(this);this.template=undefined;this.restrict='A';this.scope=!1}return __extends(WjContextMenu,_super),WjContextMenu.prototype._getMetaDataId=function(){return'WjContextMenu'},WjContextMenu.prototype._postLinkFn=function(){return function(scope,tElement,tAttrs){var host=wijmo.getElement(tAttrs.wjContextMenu);tElement[0].addEventListener('contextmenu',function(e){var menu=wijmo.Control.getControl(host),dropDown=menu.dropDown;menu&&dropDown&&!wijmo.closest(e.target,'[disabled]')&&(e.preventDefault(),menu.owner=tElement[0],menu.selectedIndex=-1,menu.onIsDroppedDownChanging(new wijmo.CancelEventArgs)&&(wijmo.showPopup(dropDown,e),menu.onIsDroppedDownChanged(),dropDown.focus()))})}},WjContextMenu}(angular.WjDirective),WjInputDate=function(_super){function WjInputDate(){_super.apply(this,arguments)}return __extends(WjInputDate,_super),Object.defineProperty(WjInputDate.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputDate},enumerable:!0,configurable:!0}),WjInputDate}(WjDropDown),WjInputDateTime=function(_super){function WjInputDateTime(){_super.apply(this,arguments)}return __extends(WjInputDateTime,_super),Object.defineProperty(WjInputDateTime.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputDateTime},enumerable:!0,configurable:!0}),WjInputDateTime}(WjInputDate),WjInputNumber=function(_super){function WjInputNumber(){_super.apply(this,arguments)}return __extends(WjInputNumber,_super),Object.defineProperty(WjInputNumber.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputNumber},enumerable:!0,configurable:!0}),WjInputNumber}(angular.WjDirective),WjInputMask=function(_super){function WjInputMask(){_super.apply(this,arguments)}return __extends(WjInputMask,_super),Object.defineProperty(WjInputMask.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputMask},enumerable:!0,configurable:!0}),WjInputMask}(angular.WjDirective),WjInputTime=function(_super){function WjInputTime($compile){_super.call(this,$compile)}return __extends(WjInputTime,_super),Object.defineProperty(WjInputTime.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputTime},enumerable:!0,configurable:!0}),WjInputTime}(WjComboBox),WjInputColor=function(_super){function WjInputColor(){_super.apply(this,arguments)}return __extends(WjInputColor,_super),Object.defineProperty(WjInputColor.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputColor},enumerable:!0,configurable:!0}),WjInputColor}(WjDropDown),WjPopup=function(_super){function WjPopup(){_super.call(this);this.transclude=!0;this.template='<div ng-transclude/>'}return __extends(WjPopup,_super),Object.defineProperty(WjPopup.prototype,"_controlConstructor",{get:function(){return wijmo.input.Popup},enumerable:!0,configurable:!0}),WjPopup.prototype._initProps=function(){_super.prototype._initProps.call(this);angular.MetaFactory.findProp('owner',this._props).customHandler=function(scope,control,value){var modal=scope.modal;modal==null&&(control.modal=value?!1:!0)}},WjPopup}(angular.WjDirective),WjMultiSelect=function(_super){function WjMultiSelect($compile){_super.call(this,$compile)}return __extends(WjMultiSelect,_super),Object.defineProperty(WjMultiSelect.prototype,"_controlConstructor",{get:function(){return wijmo.input.MultiSelect},enumerable:!0,configurable:!0}),WjMultiSelect}(WjComboBox),WjCollectionViewNavigator=function(_super){function WjCollectionViewNavigator(){_super.call(this);this.template='<div class="wj-control wj-content wj-pager"><div class="wj-input-group"><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button" ng-click="cv.moveCurrentToFirst()" ng-disabled="cv.currentPosition <= 0"><span class="wj-glyph-left" style="margin-right:-4px"><\/span><span class="wj-glyph-left"><\/span> <\/button><\/span><span class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" type="button" ng-click="cv.moveCurrentToPrevious()" ng-disabled="cv.currentPosition <= 0"><span class="wj-glyph-left"><\/span> <\/button><\/span><input type="text" class="wj-form-control" value=" {{cv.currentPosition + 1 | number}} / {{cv.itemCount | number}} " disabled /><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button" ng-click="cv.moveCurrentToNext()" ng-disabled="cv.currentPosition >= cv.itemCount - 1"><span class="wj-glyph-right"><\/span><\/button><\/span><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button" ng-click="cv.moveCurrentToLast()" ng-disabled="cv.currentPosition >= cv.itemCount - 1"><span class="wj-glyph-right"><\/span><span class="wj-glyph-right" style="margin-left:-4px"><\/span><\/button><\/span><\/div><\/div>'}return __extends(WjCollectionViewNavigator,_super),WjCollectionViewNavigator.prototype._getMetaDataId=function(){return'CollectionViewNavigator'},WjCollectionViewNavigator.prototype._postLinkFn=function(){return function(){}},WjCollectionViewNavigator}(angular.WjDirective),WjCollectionViewPager=function(_super){function WjCollectionViewPager(){_super.call(this);this.template='<div class="wj-control wj-content wj-pager"><div class="wj-input-group"><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button"ng-click="cv.moveToFirstPage()"ng-disabled="cv.pageIndex <= 0"><span class="wj-glyph-left" style="margin-right:-4px"><\/span><span class="wj-glyph-left"><\/span><\/button><\/span><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button"ng-click="cv.moveToPreviousPage()"ng-disabled="cv.pageIndex <= 0"><span class="wj-glyph-left"><\/span><\/button><\/span><input type="text" class="wj-form-control" value="{{cv.pageIndex + 1 | number}} / {{cv.pageCount | number}}" disabled /><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button"ng-click="cv.moveToNextPage()"ng-disabled="cv.pageIndex >= cv.pageCount - 1"><span class="wj-glyph-right"><\/span><\/button><\/span><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button"ng-click="cv.moveToLastPage()"ng-disabled="cv.pageIndex >= cv.pageCount - 1"><span class="wj-glyph-right"><\/span><span class="wj-glyph-right" style="margin-left:-4px"><\/span><\/button><\/span><\/div><\/div>'}return __extends(WjCollectionViewPager,_super),WjCollectionViewPager.prototype._getMetaDataId=function(){return'CollectionViewPager'},WjCollectionViewPager.prototype._postLinkFn=function(){return function(){}},WjCollectionViewPager}(angular.WjDirective)})(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;(function(angular){var wijmoChart=window.angular.module('wj.chart',[]);wijmo.chart&&wijmo.chart.FlexChart&&(wijmoChart.directive('wjFlexChart',[function(){return new WjFlexChart}]),wijmoChart.directive('wjFlexChartAxis',[function(){return new WjFlexChartAxis}]),wijmoChart.directive('wjFlexChartSeries',[function(){return new WjFlexChartSeries}]),wijmoChart.directive('wjFlexChartLegend',[function(){return new WjFlexChartLegend}]),wijmoChart.directive('wjFlexChartDataLabel',[function(){return new WjFlexChartDataLabel}]),wijmoChart.directive('wjFlexPieDataLabel',[function(){return new WjFlexPieDataLabel}]),wijmoChart.directive('wjFlexChartLineMarker',[function(){return new WjFlexChartLineMarker}]),wijmoChart.directive('wjFlexChartPlotArea',[function(){return new WjFlexChartPlotArea}]),wijmoChart.directive('wjFlexChartDataPoint',[function(){return new WjFlexChartDataPoint}]),wijmo.chart.interaction&&(wijmoChart.directive('wjFlexChartRangeSelector',[function(){return new WjFlexChartRangeSelector}]),wijmoChart.directive('wjFlexChartGestures',[function(){return new WjFlexChartChartGestures}]),wijmoChart.directive('wjFlexChartChartGestures',[function(){return new WjFlexChartChartGestures}])),wijmo.chart.annotation&&(wijmoChart.directive('wjFlexChartAnnotationLayer',[function(){return new WjFlexChartAnnotationLayer}]),wijmoChart.directive('wjFlexChartAnnotation',[function(){return new WjFlexChartAnnotation}])),wijmoChart.directive('wjFlexPie',[function(){return new WjFlexPie}]),wijmo.chart.hierarchical&&wijmoChart.directive('wjSunburst',[function(){return new WjSunburst}]),wijmo.chart.finance&&(wijmoChart.directive('wjFinancialChart',[function(){return new WjFinancialChart}]),wijmoChart.directive('wjFinancialChartSeries',[function(){return new WjFinancialChartSeries}]),wijmo.chart.finance.analytics&&(wijmoChart.directive('wjFlexChartFibonacci',[function(){return new WjFlexChartFibonacci}]),wijmoChart.directive('wjFlexChartFibonacciArcs',[function(){return new WjFlexChartFibonacciArcs}]),wijmoChart.directive('wjFlexChartFibonacciFans',[function(){return new WjFlexChartFibonacciFans}]),wijmoChart.directive('wjFlexChartFibonacciTimeZones',[function(){return new WjFlexChartFibonacciTimeZones}]),wijmoChart.directive('wjFlexChartAtr',[function(){return new WjFlexChartAtr}]),wijmoChart.directive('wjFlexChartCci',[function(){return new WjFlexChartCci}]),wijmoChart.directive('wjFlexChartRsi',[function(){return new WjFlexChartRsi}]),wijmoChart.directive('wjFlexChartWilliamsR',[function(){return new WjFlexChartWilliamsR}]),wijmoChart.directive('wjFlexChartMacd',[function(){return new WjFlexChartMacd}]),wijmoChart.directive('wjFlexChartMacdHistogram',[function(){return new WjFlexChartMacdHistogram}]),wijmoChart.directive('wjFlexChartStochastic',[function(){return new WjFlexChartStochastic}]),wijmoChart.directive('wjFlexChartBollingerBands',[function(){return new WjFlexChartBollingerBands}]),wijmoChart.directive('wjFlexChartEnvelopes',[function(){return new WjFlexChartEnvelopes}]))),wijmo.chart.analytics&&(wijmoChart.directive('wjFlexChartTrendLine',[function(){return new WjFlexChartTrendLine}]),wijmoChart.directive('wjFlexChartMovingAverage',[function(){return new WjFlexChartMovingAverage}]),wijmoChart.directive('wjFlexChartYFunctionSeries',[function(){return new WjFlexChartYFunctionSeries}]),wijmoChart.directive('wjFlexChartParametricFunctionSeries',[function(){return new WjFlexChartParametricFunctionSeries}]),wijmoChart.directive('wjFlexChartWaterfall',[function(){return new WjFlexChartWaterfall}])),wijmo.chart.animation&&wijmoChart.directive('wjFlexChartAnimation',[function(){return new WjFlexChartAnimation}]));var WjFlexChartBase=function(_super){function WjFlexChartBase(){_super.call(this);var self=this;this.template='<div ng-transclude />';this.transclude=!0}return __extends(WjFlexChartBase,_super),Object.defineProperty(WjFlexChartBase.prototype,"_controlConstructor",{get:function(){return wijmo.chart.FlexChartBase},enumerable:!0,configurable:!0}),WjFlexChartBase.prototype._initProps=function(){_super.prototype._initProps.call(this);var self=this,tooltipDesc=angular.MetaFactory.findProp('tooltipContent',this._props);tooltipDesc.customHandler=function(scope,control,value){value!=null&&(control.tooltip.content=value)}},WjFlexChartBase}(angular.WjDirective),WjFlexChartCore=function(_super){function WjFlexChartCore(){_super.apply(this,arguments)}return __extends(WjFlexChartCore,_super),Object.defineProperty(WjFlexChartCore.prototype,"_controlConstructor",{get:function(){return wijmo.chart.FlexChartCore},enumerable:!0,configurable:!0}),WjFlexChartCore.prototype._initProps=function(){_super.prototype._initProps.call(this);var self=this,lblContentDesc=angular.MetaFactory.findProp('labelContent',this._props);lblContentDesc.customHandler=function(scope,control,value){value!=null&&(control.dataLabel.content=value)}},WjFlexChartCore}(WjFlexChartBase),WjFlexChart=function(_super){function WjFlexChart(){_super.apply(this,arguments)}return __extends(WjFlexChart,_super),Object.defineProperty(WjFlexChart.prototype,"_controlConstructor",{get:function(){return wijmo.chart.FlexChart},enumerable:!0,configurable:!0}),WjFlexChart}(WjFlexChartCore),WjFlexChartAxis=function(_super){function WjFlexChartAxis(){_super.call(this);this.require=['?^wjFlexChartSeries','?^wjFinancialChartSeries','?^wjFlexChart','?^wjFinancialChart'];this.template='<div class="wjFlexChartAxis" />'}return __extends(WjFlexChartAxis,_super),Object.defineProperty(WjFlexChartAxis.prototype,"_controlConstructor",{get:function(){return wijmo.chart.Axis},enumerable:!0,configurable:!0}),WjFlexChartAxis.prototype._initControl=function(){return _super.prototype._initControl.call(this,undefined)},WjFlexChartAxis}(angular.WjDirective),WjFlexChartLegend=function(_super){function WjFlexChartLegend(){_super.call(this);this.require=['?^wjFlexChart','?^wjFlexPie','?^wjSunburst','?^wjFinancialChart'];this.template='<div />'}return __extends(WjFlexChartLegend,_super),Object.defineProperty(WjFlexChartLegend.prototype,"_controlConstructor",{get:function(){return wijmo.chart.Legend},enumerable:!0,configurable:!0}),WjFlexChartLegend}(angular.WjDirective),WjFlexChartDataLabelBase=function(_super){function WjFlexChartDataLabelBase(){_super.call(this);this.require=['?^wjFlexChart','?^wjFlexPie','?^wjSunburst'];this.template='<div />'}return __extends(WjFlexChartDataLabelBase,_super),Object.defineProperty(WjFlexChartDataLabelBase.prototype,"_controlConstructor",{get:function(){return wijmo.chart.DataLabelBase},enumerable:!0,configurable:!0}),WjFlexChartDataLabelBase}(angular.WjDirective),WjFlexChartDataLabel=function(_super){function WjFlexChartDataLabel(){_super.call(this);this.require='^wjFlexChart'}return __extends(WjFlexChartDataLabel,_super),Object.defineProperty(WjFlexChartDataLabel.prototype,"_controlConstructor",{get:function(){return wijmo.chart.DataLabel},enumerable:!0,configurable:!0}),WjFlexChartDataLabel}(WjFlexChartDataLabelBase),WjFlexPieDataLabel=function(_super){function WjFlexPieDataLabel(){_super.call(this);this.require=['^wjFlexPie','?^wjSunburst']}return __extends(WjFlexPieDataLabel,_super),Object.defineProperty(WjFlexPieDataLabel.prototype,"_controlConstructor",{get:function(){return wijmo.chart.PieDataLabel},enumerable:!0,configurable:!0}),WjFlexPieDataLabel}(WjFlexChartDataLabelBase),WjSeriesBase=function(_super){function WjSeriesBase(){_super.call(this);this.require=['?^wjFlexChart','?^wjFinancialChart'];this.template='<div class="wjSeriesBase" ng-transclude />';this.transclude=!0}return __extends(WjSeriesBase,_super),Object.defineProperty(WjSeriesBase.prototype,"_controlConstructor",{get:function(){return wijmo.chart.SeriesBase},enumerable:!0,configurable:!0}),WjSeriesBase.prototype._getId=function(){return'series'},WjSeriesBase}(angular.WjDirective),WjFlexChartSeries=function(_super){function WjFlexChartSeries(){_super.call(this);this.require='^wjFlexChart';this.template='<div class="wjFlexChartSeries" ng-transclude />'}return __extends(WjFlexChartSeries,_super),Object.defineProperty(WjFlexChartSeries.prototype,"_controlConstructor",{get:function(){return wijmo.chart.Series},enumerable:!0,configurable:!0}),WjFlexChartSeries}(WjSeriesBase),WjFlexChartLineMarker=function(_super){function WjFlexChartLineMarker(){_super.call(this);this.require=['?^wjFlexChart','?^wjFinancialChart']}return __extends(WjFlexChartLineMarker,_super),Object.defineProperty(WjFlexChartLineMarker.prototype,"_controlConstructor",{get:function(){return wijmo.chart.LineMarker},enumerable:!0,configurable:!0}),WjFlexChartLineMarker}(angular.WjDirective),WjFlexChartDataPoint=function(_super){function WjFlexChartDataPoint(){_super.call(this);this.require=['?^wjFlexChartAnnotation']}return __extends(WjFlexChartDataPoint,_super),Object.defineProperty(WjFlexChartDataPoint.prototype,"_controlConstructor",{get:function(){return wijmo.chart.DataPoint},enumerable:!0,configurable:!0}),WjFlexChartDataPoint}(angular.WjDirective),WjFlexChartAnnotationLayer=function(_super){function WjFlexChartAnnotationLayer(){_super.call(this);this.require=['?^wjFlexChart','?^wjFinancialChart'];this.template='<div class="wjFlexChartAnnotationLayer" ng-transclude />';this.transclude=!0}return __extends(WjFlexChartAnnotationLayer,_super),Object.defineProperty(WjFlexChartAnnotationLayer.prototype,"_controlConstructor",{get:function(){return wijmo.chart.annotation.AnnotationLayer},enumerable:!0,configurable:!0}),WjFlexChartAnnotationLayer}(angular.WjDirective),WjFlexChartAnimation=function(_super){function WjFlexChartAnimation(){_super.call(this);this.require=['?^wjFlexChart','?^wjFlexPie','?^wjSunburst','?^wjFinancialChart']}return __extends(WjFlexChartAnimation,_super),Object.defineProperty(WjFlexChartAnimation.prototype,"_controlConstructor",{get:function(){return wijmo.chart.animation.ChartAnimation},enumerable:!0,configurable:!0}),WjFlexChartAnimation}(angular.WjDirective),WjFlexChartAnnotation=function(_super){function WjFlexChartAnnotation(){_super.call(this);this.require='^wjFlexChartAnnotationLayer';this.template='<div class="wjFlexChartAnnotation" ng-transclude />';this.transclude=!0}return __extends(WjFlexChartAnnotation,_super),WjFlexChartAnnotation.prototype._createLink=function(){return new WjFlexChartAnnotationLink},WjFlexChartAnnotation.prototype._getMetaDataId=function(){return'FlexChartAnnotation'},WjFlexChartAnnotation}(angular.WjDirective),WjFlexChartAnnotationLink=function(_super){function WjFlexChartAnnotationLink(){_super.apply(this,arguments)}return __extends(WjFlexChartAnnotationLink,_super),WjFlexChartAnnotationLink.prototype._initControl=function(){return new wijmo.chart.annotation[this.scope.type]},WjFlexChartAnnotationLink}(angular.WjLink),WjFlexChartRangeSelector=function(_super){function WjFlexChartRangeSelector(){_super.call(this);this.require=['?^wjFlexChart','?^wjFinancialChart']}return __extends(WjFlexChartRangeSelector,_super),Object.defineProperty(WjFlexChartRangeSelector.prototype,"_controlConstructor",{get:function(){return wijmo.chart.interaction.RangeSelector},enumerable:!0,configurable:!0}),WjFlexChartRangeSelector}(angular.WjDirective),WjFlexChartChartGestures=function(_super){function WjFlexChartChartGestures(){_super.call(this);this.require=['?^wjFlexChart','?^wjFinancialChart']}return __extends(WjFlexChartChartGestures,_super),Object.defineProperty(WjFlexChartChartGestures.prototype,"_controlConstructor",{get:function(){return wijmo.chart.interaction.ChartGestures},enumerable:!0,configurable:!0}),WjFlexChartChartGestures}(angular.WjDirective),WjFlexPie=function(_super){function WjFlexPie(){_super.apply(this,arguments)}return __extends(WjFlexPie,_super),Object.defineProperty(WjFlexPie.prototype,"_controlConstructor",{get:function(){return wijmo.chart.FlexPie},enumerable:!0,configurable:!0}),WjFlexPie.prototype._initProps=function(){_super.prototype._initProps.call(this);var self=this,lblContentDesc=angular.MetaFactory.findProp('labelContent',this._props);lblContentDesc.customHandler=function(scope,control,value){value!=null&&(control.dataLabel.content=value)}},WjFlexPie}(WjFlexChartBase),WjSunburst=function(_super){function WjSunburst(){_super.apply(this,arguments)}return __extends(WjSunburst,_super),Object.defineProperty(WjSunburst.prototype,"_controlConstructor",{get:function(){return wijmo.chart.hierarchical.Sunburst},enumerable:!0,configurable:!0}),WjSunburst}(WjFlexPie),WjFinancialChart=function(_super){function WjFinancialChart(){_super.apply(this,arguments)}return __extends(WjFinancialChart,_super),Object.defineProperty(WjFinancialChart.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.FinancialChart},enumerable:!0,configurable:!0}),WjFinancialChart}(WjFlexChartCore),WjFinancialChartSeries=function(_super){function WjFinancialChartSeries(){_super.call(this);this.require='^wjFinancialChart';this.template='<div class="wjFinancialChartSeries" ng-transclude />'}return __extends(WjFinancialChartSeries,_super),Object.defineProperty(WjFinancialChartSeries.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.FinancialSeries},enumerable:!0,configurable:!0}),WjFinancialChartSeries}(WjSeriesBase),WjTrendLineBase=function(_super){function WjTrendLineBase(){_super.call(this);this.require=['?^wjFlexChart','?^wjFinancialChart'];this.template='<div class="wjTrendLineBase" ng-transclude />'}return __extends(WjTrendLineBase,_super),Object.defineProperty(WjTrendLineBase.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.TrendLineBase},enumerable:!0,configurable:!0}),WjTrendLineBase}(WjSeriesBase),WjFlexChartTrendLine=function(_super){function WjFlexChartTrendLine(){_super.call(this);this.template='<div class="wjTrendLine" ng-transclude />'}return __extends(WjFlexChartTrendLine,_super),Object.defineProperty(WjFlexChartTrendLine.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.TrendLine},enumerable:!0,configurable:!0}),WjFlexChartTrendLine}(WjTrendLineBase),WjFlexChartMovingAverage=function(_super){function WjFlexChartMovingAverage(){_super.call(this);this.template='<div class="wjMovingAverage" ng-transclude />'}return __extends(WjFlexChartMovingAverage,_super),Object.defineProperty(WjFlexChartMovingAverage.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.MovingAverage},enumerable:!0,configurable:!0}),WjFlexChartMovingAverage}(WjTrendLineBase),WjFlexChartYFunctionSeries=function(_super){function WjFlexChartYFunctionSeries(){_super.call(this);this.template='<div class="wjYFunctionSeries" ng-transclude />'}return __extends(WjFlexChartYFunctionSeries,_super),Object.defineProperty(WjFlexChartYFunctionSeries.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.YFunctionSeries},enumerable:!0,configurable:!0}),WjFlexChartYFunctionSeries}(WjTrendLineBase),WjFlexChartParametricFunctionSeries=function(_super){function WjFlexChartParametricFunctionSeries(){_super.call(this);this.template='<div class="wjParametricFunctionSeries" ng-transclude />'}return __extends(WjFlexChartParametricFunctionSeries,_super),Object.defineProperty(WjFlexChartParametricFunctionSeries.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.ParametricFunctionSeries},enumerable:!0,configurable:!0}),WjFlexChartParametricFunctionSeries.prototype._initProps=function(){_super.prototype._initProps.call(this);var self=this,funcDesc=angular.MetaFactory.findProp('func',this._props);funcDesc.customHandler=function(scope,control,value){value!=null&&(control.xFunc=value)}},WjFlexChartParametricFunctionSeries}(WjTrendLineBase),WjFlexChartWaterfall=function(_super){function WjFlexChartWaterfall(){_super.call(this);this.require=['?^wjFlexChart','?^wjFinancialChart'];this.template='<div class="wjWaterfall" ng-transclude />'}return __extends(WjFlexChartWaterfall,_super),Object.defineProperty(WjFlexChartWaterfall.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.Waterfall},enumerable:!0,configurable:!0}),WjFlexChartWaterfall}(WjSeriesBase),WjFlexChartPlotArea=function(_super){function WjFlexChartPlotArea(){_super.call(this);this.require=['?^wjFlexChartPlotArea','?^wjFlexChart','?^wjFinancialChart'];this.template='<div class="wjFlexChartPlotArea" />'}return __extends(WjFlexChartPlotArea,_super),Object.defineProperty(WjFlexChartPlotArea.prototype,"_controlConstructor",{get:function(){return wijmo.chart.PlotArea},enumerable:!0,configurable:!0}),WjFlexChartPlotArea.prototype._initControl=function(){return _super.prototype._initControl.call(this,undefined)},WjFlexChartPlotArea}(angular.WjDirective),WjFlexChartFibonacci=function(_super){function WjFlexChartFibonacci(){_super.call(this);this.require=['?^wjFinancialChart'];this.template='<div class="wjFlexChartFibonacci" ng-transclude />'}return __extends(WjFlexChartFibonacci,_super),Object.defineProperty(WjFlexChartFibonacci.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.Fibonacci},enumerable:!0,configurable:!0}),WjFlexChartFibonacci.prototype._initControl=function(){return _super.prototype._initControl.call(this,undefined)},WjFlexChartFibonacci}(WjSeriesBase),WjFlexChartFibonacciArcs=function(_super){function WjFlexChartFibonacciArcs(){_super.call(this);this.require=['?^wjFinancialChart'];this.template='<div class="wjFlexChartFibonacciArcs" ng-transclude />'}return __extends(WjFlexChartFibonacciArcs,_super),Object.defineProperty(WjFlexChartFibonacciArcs.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.FibonacciArcs},enumerable:!0,configurable:!0}),WjFlexChartFibonacciArcs.prototype._initControl=function(){return _super.prototype._initControl.call(this,undefined)},WjFlexChartFibonacciArcs}(WjSeriesBase),WjFlexChartFibonacciFans=function(_super){function WjFlexChartFibonacciFans(){_super.call(this);this.require=['?^wjFinancialChart'];this.template='<div class="wjFlexChartFibonacciFans" ng-transclude />'}return __extends(WjFlexChartFibonacciFans,_super),Object.defineProperty(WjFlexChartFibonacciFans.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.FibonacciFans},enumerable:!0,configurable:!0}),WjFlexChartFibonacciFans.prototype._initControl=function(){return _super.prototype._initControl.call(this,undefined)},WjFlexChartFibonacciFans}(WjSeriesBase),WjFlexChartFibonacciTimeZones=function(_super){function WjFlexChartFibonacciTimeZones(){_super.call(this);this.require=['?^wjFinancialChart'];this.template='<div class="wjFlexChartFibonacciTimeZones" ng-transclude />'}return __extends(WjFlexChartFibonacciTimeZones,_super),Object.defineProperty(WjFlexChartFibonacciTimeZones.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.FibonacciTimeZones},enumerable:!0,configurable:!0}),WjFlexChartFibonacciTimeZones.prototype._initControl=function(){return _super.prototype._initControl.call(this,undefined)},WjFlexChartFibonacciTimeZones}(WjSeriesBase),WjBaseOverlayIndicator=function(_super){function WjBaseOverlayIndicator(){_super.call(this);this.require='^wjFinancialChart';this.template='<div class="wjBaseOverlayIndicator" ng-transclude />'}return __extends(WjBaseOverlayIndicator,_super),Object.defineProperty(WjBaseOverlayIndicator.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.OverlayIndicatorBase},enumerable:!0,configurable:!0}),WjBaseOverlayIndicator}(WjSeriesBase),WjBaseSingleOverlayIndicator=function(_super){function WjBaseSingleOverlayIndicator(){_super.call(this);this.template='<div class="wjBaseSingleOverlayIndicator" ng-transclude />'}return __extends(WjBaseSingleOverlayIndicator,_super),Object.defineProperty(WjBaseSingleOverlayIndicator.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.SingleOverlayIndicatorBase},enumerable:!0,configurable:!0}),WjBaseSingleOverlayIndicator}(WjBaseOverlayIndicator),WjFlexChartAtr=function(_super){function WjFlexChartAtr(){_super.call(this);this.template='<div class="wjFlexChartAtr" ng-transclude />'}return __extends(WjFlexChartAtr,_super),Object.defineProperty(WjFlexChartAtr.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.ATR},enumerable:!0,configurable:!0}),WjFlexChartAtr}(WjBaseSingleOverlayIndicator),WjFlexChartCci=function(_super){function WjFlexChartCci(){_super.call(this);this.template='<div class="wjFlexChartCci" ng-transclude />'}return __extends(WjFlexChartCci,_super),Object.defineProperty(WjFlexChartCci.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.CCI},enumerable:!0,configurable:!0}),WjFlexChartCci}(WjBaseSingleOverlayIndicator),WjFlexChartRsi=function(_super){function WjFlexChartRsi(){_super.call(this);this.template='<div class="wjFlexChartRsi" ng-transclude />'}return __extends(WjFlexChartRsi,_super),Object.defineProperty(WjFlexChartRsi.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.RSI},enumerable:!0,configurable:!0}),WjFlexChartRsi}(WjBaseSingleOverlayIndicator),WjFlexChartWilliamsR=function(_super){function WjFlexChartWilliamsR(){_super.call(this);this.template='<div class="wjFlexChartWilliamsR" ng-transclude />'}return __extends(WjFlexChartWilliamsR,_super),Object.defineProperty(WjFlexChartWilliamsR.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.WilliamsR},enumerable:!0,configurable:!0}),WjFlexChartWilliamsR}(WjBaseSingleOverlayIndicator),WjFlexChartMacdBase=function(_super){function WjFlexChartMacdBase(){_super.call(this);this.template='<div class="wjFlexChartBaseMacd" ng-transclude />'}return __extends(WjFlexChartMacdBase,_super),Object.defineProperty(WjFlexChartMacdBase.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.MacdBase},enumerable:!0,configurable:!0}),WjFlexChartMacdBase}(WjBaseOverlayIndicator),WjFlexChartMacd=function(_super){function WjFlexChartMacd(){_super.call(this);this.template='<div class="wjFlexChartMacd" ng-transclude />'}return __extends(WjFlexChartMacd,_super),Object.defineProperty(WjFlexChartMacd.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.Macd},enumerable:!0,configurable:!0}),WjFlexChartMacd}(WjFlexChartMacdBase),WjFlexChartMacdHistogram=function(_super){function WjFlexChartMacdHistogram(){_super.call(this);this.template='<div class="wjFlexChartMacdHistogram" ng-transclude />'}return __extends(WjFlexChartMacdHistogram,_super),Object.defineProperty(WjFlexChartMacdHistogram.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.MacdHistogram},enumerable:!0,configurable:!0}),WjFlexChartMacdHistogram}(WjFlexChartMacdBase),WjFlexChartStochastic=function(_super){function WjFlexChartStochastic(){_super.call(this);this.template='<div class="wjFlexChartStochastic" ng-transclude />'}return __extends(WjFlexChartStochastic,_super),Object.defineProperty(WjFlexChartStochastic.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.Stochastic},enumerable:!0,configurable:!0}),WjFlexChartStochastic}(WjBaseOverlayIndicator),WjFlexChartBollingerBands=function(_super){function WjFlexChartBollingerBands(){_super.call(this);this.template='<div class="wjFlexChartBollingerBands" ng-transclude />'}return __extends(WjFlexChartBollingerBands,_super),Object.defineProperty(WjFlexChartBollingerBands.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.BollingerBands},enumerable:!0,configurable:!0}),WjFlexChartBollingerBands}(WjBaseOverlayIndicator),WjFlexChartEnvelopes=function(_super){function WjFlexChartEnvelopes(){_super.call(this);this.template='<div class="wjFlexChartEnvelopes" ng-transclude />'}return __extends(WjFlexChartEnvelopes,_super),Object.defineProperty(WjFlexChartEnvelopes.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.Envelopes},enumerable:!0,configurable:!0}),WjFlexChartEnvelopes}(WjBaseOverlayIndicator)})(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;(function(angular){var wijmoGauge=window.angular.module('wj.gauge',[]);wijmo.gauge&&wijmo.gauge.LinearGauge&&(wijmoGauge.directive('wjLinearGauge',[function(){return new WjLinearGauge}]),wijmoGauge.directive('wjBulletGraph',[function(){return new WjBulletGraph}]),wijmoGauge.directive('wjRadialGauge',[function(){return new WjRadialGauge}]),wijmoGauge.directive('wjRange',[function(){return new WjRange}]));var WjGauge=function(_super){function WjGauge(){_super.call(this);this.template='<div ng-transclude />';this.transclude=!0}return __extends(WjGauge,_super),Object.defineProperty(WjGauge.prototype,"_controlConstructor",{get:function(){return wijmo.gauge.Gauge},enumerable:!0,configurable:!0}),WjGauge}(angular.WjDirective),WjLinearGauge=function(_super){function WjLinearGauge(){_super.call(this)}return __extends(WjLinearGauge,_super),Object.defineProperty(WjLinearGauge.prototype,"_controlConstructor",{get:function(){return wijmo.gauge.LinearGauge},enumerable:!0,configurable:!0}),WjLinearGauge}(WjGauge),WjBulletGraph=function(_super){function WjBulletGraph(){_super.call(this)}return __extends(WjBulletGraph,_super),Object.defineProperty(WjBulletGraph.prototype,"_controlConstructor",{get:function(){return wijmo.gauge.BulletGraph},enumerable:!0,configurable:!0}),WjBulletGraph}(WjLinearGauge),WjRadialGauge=function(_super){function WjRadialGauge(){_super.call(this)}return __extends(WjRadialGauge,_super),Object.defineProperty(WjRadialGauge.prototype,"_controlConstructor",{get:function(){return wijmo.gauge.RadialGauge},enumerable:!0,configurable:!0}),WjRadialGauge}(WjGauge),WjRange=function(_super){function WjRange(){_super.call(this);this.require=['?^wjLinearGauge','?^wjRadialGauge','?^wjBulletGraph'];this.template='<div ng-transclude />';this.transclude=!0;this._property='ranges';this._isPropertyArray=!0}return __extends(WjRange,_super),Object.defineProperty(WjRange.prototype,"_controlConstructor",{get:function(){return wijmo.gauge.Range},enumerable:!0,configurable:!0}),WjRange}(angular.WjDirective)})(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;(function(angular){var wijmoGrid=window.angular.module('wj.grid',[]),WjFlexGrid,WjFlexGridLink,gridModule,DirectiveCellFactory,_RowHeightUpdateQueue,WjFlexGridColumn,WjFlexGridColumnLink;wijmo.grid&&wijmo.grid.FlexGrid&&(wijmoGrid.directive('wjFlexGrid',['$compile','$interpolate',function($compile,$interpolate){return new WjFlexGrid($compile,$interpolate)}]),wijmoGrid.directive('wjFlexGridColumn',['$compile',function($compile){return new WjFlexGridColumn($compile)}]),wijmoGrid.directive('wjFlexGridCellTemplate',[function(){return new WjFlexGridCellTemplate}]),wijmo.grid.filter&&wijmoGrid.directive('wjFlexGridFilter',[function(){return new WjFlexGridFilter}]),wijmo.grid.grouppanel&&wijmoGrid.directive('wjGroupPanel',[function(){return new WjGroupPanel}]),wijmo.grid.detail&&wijmoGrid.directive('wjFlexGridDetail',['$compile',function($compile){return new WjFlexGridDetail($compile)}]),wijmo.grid.sheet&&(wijmoGrid.directive('wjFlexSheet',['$compile','$interpolate',function($compile,$interpolate){return new WjFlexSheet($compile,$interpolate)}]),wijmoGrid.directive('wjSheet',[function(){return new WjSheet}])),wijmo.grid.multirow&&wijmoGrid.directive('wjMultiRow',['$compile','$interpolate',function($compile,$interpolate){return new WjMultiRow($compile,$interpolate)}]));WjFlexGrid=function(_super){function WjFlexGrid($compile,$interpolate){_super.call(this);this._$compile=$compile;this._$interpolate=$interpolate;var self=this;this.transclude=!0;this.template='<div ng-transclude />'}return __extends(WjFlexGrid,_super),Object.defineProperty(WjFlexGrid.prototype,"_controlConstructor",{get:function(){return wijmo.grid.FlexGrid},enumerable:!0,configurable:!0}),WjFlexGrid.prototype._createLink=function(){return new WjFlexGridLink},WjFlexGrid.prototype._initProps=function(){var childPathDesc=angular.MetaFactory.findProp('childItemsPath',this._props);childPathDesc.scopeBindingMode='@';childPathDesc.customHandler=function(scope,control,value){if(value&&(value=value.trim(),value&&value[0]==='[')){var arr=scope.$parent.$eval(value);return control.childItemsPath=arr,!0}return!1}},WjFlexGrid}(angular.WjDirective);angular.WjFlexGrid=WjFlexGrid;WjFlexGridLink=function(_super){function WjFlexGridLink(){_super.apply(this,arguments)}return __extends(WjFlexGridLink,_super),WjFlexGridLink.prototype._initControl=function(){var grid=_super.prototype._initControl.call(this);return new DirectiveCellFactory(grid,this),grid},WjFlexGridLink}(angular.WjLink);angular.WjFlexGridLink=WjFlexGridLink;gridModule=wijmo.grid&&wijmo.grid.CellFactory;gridModule||(wijmo.grid={},wijmo.grid.CellFactory=function(){});DirectiveCellFactory=function(_super){function DirectiveCellFactory(grid,gridLink){var templateType,self;if(_super.call(this),this._lastApplyTimeStamp=0,this._noApplyLag=!1,this._startingEditing=!1,this._cellStampCounter=0,this._gridLink=gridLink,this._rowHeightUpdates=new _RowHeightUpdateQueue(this),!DirectiveCellFactory._templateTypes){DirectiveCellFactory._templateTypes=[];for(templateType in CellTemplateType)isNaN(templateType)&&DirectiveCellFactory._templateTypes.push(templateType)}self=this;this._baseCf=grid.cellFactory;grid.cellFactory=this;this._evtInput=document.createEvent('HTMLEvents');this._evtInput.initEvent('input',!0,!1);this._evtBlur=document.createEvent('HTMLEvents');this._evtBlur.initEvent('blur',!1,!1);grid.prepareCellForEdit.addHandler(function(){self._noApplyLag=!0});grid.cellEditEnded.addHandler(function(s,e){(e.range.col<0||!grid.columns[e.range.col][WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType.CellEdit)])&&(self._editChar=null);setTimeout(function(){self._noApplyLag=!1},300)});grid.beginningEdit.addHandler(function(){self._startingEditing=!0});grid.hostElement.addEventListener('keydown',function(){self._startingEditing=!1},!0);grid.hostElement.addEventListener('keypress',function(e){var char=e.charCode>32?String.fromCharCode(e.charCode):null;char&&(!grid.activeEditor||self._startingEditing?self._editChar=char:self._editChar&&(self._editChar+=char))},!0)}return __extends(DirectiveCellFactory,_super),DirectiveCellFactory.prototype.updateCell=function(panel,rowIndex,colIndex,cell,rng){var cellStamp,isHierNonGroup,isUpdated,col,templContextProp,templContext,measureAttr,isMeasuring,scopeChanged,cellLink,clonedElement,dispose,replaceFirst,rootEl,lag,closingLag,editEndingEH,rootElement,key,classArr,clStr,i,curPart,clName;this._cellStampCounter=(this._cellStampCounter+1)%1e7;cellStamp=cell[DirectiveCellFactory._cellStampProp]=this._cellStampCounter;cell.style.overflow&&(cell.style.overflow='');var self=this,grid=panel.grid,editRange=grid.editRange,templateType,row=panel.rows[rowIndex],dataItem=row.dataItem,isGridCtx=!1,needCellValue=!1,isEdit=!1,isCvGroup=!1;switch(panel.cellType){case wijmo.grid.CellType.Cell:row instanceof wijmo.grid.GroupRow?(isCvGroup=dataItem instanceof wijmo.collections.CollectionViewGroup,isHierNonGroup=!(isCvGroup||row.hasChildren),colIndex==panel.columns.firstVisibleIndex?templateType=isHierNonGroup?CellTemplateType.Cell:CellTemplateType.GroupHeader:(templateType=isHierNonGroup?CellTemplateType.Cell:CellTemplateType.Group,needCellValue=!0)):editRange&&editRange.row===rowIndex&&editRange.col===colIndex?(templateType=CellTemplateType.CellEdit,needCellValue=isEdit=!0):wijmo.grid.detail&&wijmo.grid.detail.DetailRow&&row instanceof wijmo.grid.detail.DetailRow||(templateType=CellTemplateType.Cell);break;case wijmo.grid.CellType.ColumnHeader:templateType=CellTemplateType.ColumnHeader;break;case wijmo.grid.CellType.RowHeader:templateType=grid.collectionView&&grid.collectionView.currentEditItem===dataItem?CellTemplateType.RowHeaderEdit:CellTemplateType.RowHeader;isGridCtx=!0;break;case wijmo.grid.CellType.TopLeft:templateType=CellTemplateType.TopLeft;isGridCtx=!0}if(isUpdated=!1,templateType!=null&&(col=isCvGroup&&templateType==CellTemplateType.GroupHeader?grid.columns.getColumn(dataItem.groupDescription.propertyName):colIndex>=0&&colIndex<panel.columns.length?panel.columns[colIndex]:null,col&&(templContextProp=WjFlexGridCellTemplate._getTemplContextProp(templateType),templContext=(isGridCtx?grid:col)[templContextProp],templContext||(templateType===CellTemplateType.RowHeaderEdit?(templateType=CellTemplateType.RowHeader,templContextProp=WjFlexGridCellTemplate._getTemplContextProp(templateType),templContext=grid[templContextProp]):(templateType===CellTemplateType.Group||templateType===CellTemplateType.GroupHeader)&&(isCvGroup||(templateType=CellTemplateType.Cell,templContextProp=WjFlexGridCellTemplate._getTemplContextProp(templateType),templContext=col[templContextProp]))),templContext))){var tpl=self._getCellTemplate(templContext.cellTemplate),cellStyle=templContext.cellStyle,cellClass=templContext.cellClass,isTpl=!wijmo.isNullOrWhiteSpace(tpl),isStyle=!wijmo.isNullOrWhiteSpace(cellStyle),isClass=!wijmo.isNullOrWhiteSpace(cellClass),cellValue;if(needCellValue&&(cellValue=panel.getCellData(rowIndex,colIndex,!1)),isTpl){measureAttr=cell.getAttribute(wijmo.grid.FlexGrid._WJS_MEASURE);isMeasuring=measureAttr&&measureAttr.toLowerCase()==='true';isUpdated=!0;isEdit&&this._baseCf.updateCell(panel,rowIndex,colIndex,cell,rng,!0);var cellContext=cell[templContextProp]||{},isForeignCell=cellContext.column!==col||!cellContext.cellScope||!cellContext.cellScope.$root,cellScope=cellContext.cellScope;isForeignCell&&(this._doDisposeCell(cell),cellContext.cellScope=cellScope=templContext.templLink.scope.$parent.$new(),cellContext.column=col,cell[templContextProp]=cellContext);scopeChanged=cellScope.$row!==row||cellScope.$col!==col||cellScope.$item!==dataItem||cellScope.$value!==cellValue;scopeChanged&&self._initCellScope(cellScope,row,col,dataItem,cellValue);cellLink=templContext.cellLink;cellLink||(cellLink=templContext.cellLink=this._gridLink.directive._$compile('<div style="display:none"'+(isStyle?' ng-style="'+cellStyle+'"':'')+(isClass?' ng-class="'+cellClass+'"':'')+'>'+tpl+'</div>'));clonedElement=cellContext.clonedElement;isForeignCell&&(dispose=cellScope.$watch(function(){if(clonedElement&&(dispose(),clonedElement[0].style.display='',panel.cellType===wijmo.grid.CellType.ColumnHeader||panel.cellType===wijmo.grid.CellType.TopLeft)){var clonedStyle=clonedElement[0].style,prevColor=clonedStyle.outlineColor,prevWidth=clonedStyle.outlineWidth;clonedStyle.outlineColor='white';clonedStyle.outlineWidth='0px';setTimeout(function(){clonedStyle.outlineColor=prevColor;clonedStyle.outlineWidth=prevWidth},0)}}),cellContext.clonedElement=clonedElement=cellLink(cellScope,function(){}));isMeasuring&&(clonedElement[0].style.display='');replaceFirst=!1;isEdit?(rootEl=cell.firstElementChild,rootEl&&(cell.focus(),rootEl.style.display='none')):(replaceFirst=cell.childNodes.length==1,replaceFirst||(cell.textContent=''));replaceFirst?clonedElement[0]!==cell.firstChild&&cell.replaceChild(clonedElement[0],cell.firstChild):cell.appendChild(clonedElement[0]);templContext.cellOverflow&&(cell.style.overflow=templContext.cellOverflow);lag=40;closingLag=10;this._closingApplyTimeOut&&clearTimeout(this._closingApplyTimeOut);self._rowHeightUpdates.add({panel:panel,cell:cell,rng:rng,cellStamp:cellStamp});isMeasuring||editRange||this._noApplyLag||scopeChanged&&Date.now()-this._lastApplyTimeStamp>lag?(clearTimeout(this._closingApplyTimeOut),cellScope.$root.$$phase||cellScope.$apply(),editRange||isMeasuring||self._rowHeightUpdates.execute(),this._lastApplyTimeStamp=Date.now()):(clearTimeout(this._closingApplyTimeOut),this._closingApplyTimeOut=setTimeout(function(){clearTimeout(this._closingApplyTimeOut);cellScope.$root.$$phase||cellScope.$apply();self._rowHeightUpdates.execute()},closingLag));setTimeout(function(){var inputs,i,input,inpSt,inpFocusEh;if(self._updateRowHeight(panel,cell,rng,cellStamp)){if(isEdit){self._rowHeightUpdates.clear();grid.refresh();grid.startEditing();return}}else if(isEdit&&!wijmo.contains(clonedElement[0],wijmo.getActiveElement())&&(inputs=clonedElement[0].querySelectorAll('input'),inputs))for(i=0;i<inputs.length;i++)if(input=inputs[i],inpSt=window.getComputedStyle(input),inpSt.display!=='none'&&inpSt.visibility==='visible'){inpFocusEh=function(){input.removeEventListener('focus',inpFocusEh);setTimeout(function(){self._editChar&&(input.value=self._editChar,self._editChar=null,wijmo.setSelectionRange(input,input.value.length),input.dispatchEvent(self._evtInput))},50)};input.addEventListener('focus',inpFocusEh);input.focus();break}},0);isEdit?(editEndingEH=function(s,e){var activeElement,dropDowns;grid.cellEditEnding.removeHandler(editEndingEH);activeElement=wijmo.getActiveElement();activeElement&&activeElement.dispatchEvent(self._evtBlur);cell.focus();e.cancel||(e.cancel=!0,panel.grid.setCellData(rowIndex,colIndex,cellScope.$value));dropDowns=cell.querySelectorAll('.wj-dropdown');[].forEach.call(dropDowns,function(el){var ctrl=wijmo.Control.getControl(el);ctrl&&ctrl instanceof wijmo.input.DropDown&&(ctrl.isDroppedDown=!1)})},grid.cellEditEnding.addHandler(editEndingEH)):this._baseCf.updateCell(panel,rowIndex,colIndex,cell,rng,!1)}}if(isUpdated||(this._doDisposeCell(cell),this._baseCf.updateCell(panel,rowIndex,colIndex,cell,rng)),!isTpl&&(isStyle||isClass)){var cellScopeSt=self._initCellScope({},row,col,dataItem,cellValue),style=isStyle?this._gridLink.scope.$parent.$eval(cellStyle,cellScopeSt):null,classObj=isClass?this._gridLink.scope.$parent.$eval(cellClass,cellScopeSt):null;if(style||classObj){for(rootElement=document.createElement('div');cell.firstChild;)rootElement.appendChild(cell.firstChild);if(cell.appendChild(rootElement),style)for(key in style)rootElement.style[key]=style[key];if(classObj){for(classArr=wijmo.isArray(classObj)?classObj:[classObj],clStr='',i=0;i<classArr.length;i++)if(curPart=classArr[i],curPart)if(wijmo.isString(curPart))clStr+=' '+curPart;else for(clName in curPart)curPart[clName]&&(clStr+=' '+clName);rootElement.className=clStr}}}},DirectiveCellFactory.prototype.disposeCell=function(cell){this._doDisposeCell(cell)},DirectiveCellFactory.prototype._doDisposeCell=function(cell){for(var templContextProp,cellContext,ttm=DirectiveCellFactory._templateTypes,i=0;i<ttm.length;i++)templContextProp=WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType[ttm[i]]),cellContext=cell[templContextProp],cellContext&&cellContext.cellScope&&cellContext.cellScope.$root&&(cellContext.cellScope.$destroy(),cell[templContextProp]=null)},DirectiveCellFactory.prototype._updateRowHeight=function(panel,cell,rng,cellStamp){var cellHeight=cell.scrollHeight,panelRows=panel.rows,rowSpan=rng&&rng.rowSpan||1;return cellStamp===cell[DirectiveCellFactory._cellStampProp]&&panelRows.defaultSize*rowSpan<cellHeight?(panelRows.defaultSize=cellHeight/rowSpan,!0):!1},DirectiveCellFactory.prototype._initCellScope=function(scope,row,col,dataItem,cellValue){return scope.$row=row,scope.$col=col,scope.$item=dataItem,scope.$value=cellValue,scope},DirectiveCellFactory.prototype._getCellTemplate=function(tpl){return tpl&&(tpl=tpl.replace(/ class\=\"ng\-scope\"( \"ng\-binding\")?/g,''),tpl=tpl.replace(/<span>\s*<\/span>/g,''),tpl=tpl.trim()),tpl},DirectiveCellFactory._cellStampProp='__wjCellStamp',DirectiveCellFactory}(wijmo.grid.CellFactory);_RowHeightUpdateQueue=function(){function _RowHeightUpdateQueue(cellFactory){this._requests=[];this._timeOuts=[];this._cellFactory=cellFactory}return _RowHeightUpdateQueue.prototype.add=function(request){this._requests.push(request)},_RowHeightUpdateQueue.prototype.execute=function(){for(var requests=this._requests;requests.length>0;){var request=this._requests.shift(),self=this,timeOut=function(request){return setTimeout(function(){if(self._cellFactory._updateRowHeight(request.panel,request.cell,request.rng,request.cellStamp))self.clear();else{var toIdx=self._timeOuts.indexOf(timeOut);toIdx>-1&&self._timeOuts.splice(toIdx,1)}},0)}(request);this._timeOuts.push(timeOut)}},_RowHeightUpdateQueue.prototype.clear=function(){this._requests.splice(0,this._requests.length);this._clearTimeouts()},_RowHeightUpdateQueue.prototype._clearTimeouts=function(){for(var timeOuts=this._timeOuts,i=0;i<timeOuts.length;i++)clearTimeout(timeOuts[i]);timeOuts.splice(0,timeOuts.length)},_RowHeightUpdateQueue}();gridModule||(wijmo.grid=null);WjFlexGridColumn=function(_super){function WjFlexGridColumn($compile){_super.call(this);this._$compile=$compile;this.scope.dataMap+="map";this.scope.dataType+="type";this.require='^wjFlexGrid';this.terminal=!0;angular.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(tElement,tAttrs){return tAttrs[WjFlexGridColumn._colTemplateProp]=tElement[0].innerHTML,'<div class="wjGridColumn"/>'}):(this.transclude=!0,this.template='<div class="wjGridColumn" ng-transclude/>')}return __extends(WjFlexGridColumn,_super),Object.defineProperty(WjFlexGridColumn.prototype,"_controlConstructor",{get:function(){return wijmo.grid.Column},enumerable:!0,configurable:!0}),WjFlexGridColumn.prototype._initControl=function(){return new wijmo.grid.Column},WjFlexGridColumn.prototype._createLink=function(){return new WjFlexGridColumnLink},WjFlexGridColumn._colTemplateProp='$__wjColTemplate',WjFlexGridColumn._colWjLinkProp='$__wjLink',WjFlexGridColumn._cellCtxProp='$_cellCtxProp',WjFlexGridColumn}(angular.WjDirective);WjFlexGridColumnLink=function(_super){function WjFlexGridColumnLink(){_super.apply(this,arguments)}return __extends(WjFlexGridColumnLink,_super),WjFlexGridColumnLink.prototype._initParent=function(){var grid=this.parent.control;grid.autoGenerateColumns&&(grid.autoGenerateColumns=!1,this._safeApply(this.scope,'autoGenerateColumns',!1),grid.columns.clear());_super.prototype._initParent.call(this);var cellCtxProp=WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType.Cell),cellCtxByTag=this.control[cellCtxProp],cellCtxWoTag=this[WjFlexGridColumn._cellCtxProp];!cellCtxByTag&&cellCtxWoTag&&(this.control[cellCtxProp]=cellCtxWoTag);this.control[WjFlexGridColumn._colWjLinkProp]=this},WjFlexGridColumnLink.prototype._link=function(){var rootEl=this.tElement[0],dynaTempl=this.tAttrs[WjFlexGridColumn._colTemplateProp],template=dynaTempl!=null?dynaTempl:angular.WjDirective._removeTransclude(rootEl.innerHTML),cellTemplContext={},templRoot,childElements,linkScope,i,curTempl,cleanCellTempl,style,ngClass;if(!wijmo.isNullOrWhiteSpace(template)){for(templRoot=document.createElement('div'),templRoot.innerHTML=template,childElements=[],[].forEach.call(templRoot.children,function(value){childElements.push(value)}),i=0;i<childElements.length;i++)curTempl=childElements[i],curTempl.tagName.toLocaleLowerCase()===WjFlexGridCellTemplate._tagName&&(linkScope||(linkScope=this.scope.$parent.$new()),templRoot.removeChild(curTempl),rootEl.appendChild(curTempl),this.directive._$compile(curTempl)(linkScope));cleanCellTempl=templRoot.innerHTML;wijmo.isNullOrWhiteSpace(cleanCellTempl)||(cellTemplContext.cellTemplate=cleanCellTempl)}style=this.tAttrs.ngStyle;ngClass=this.tAttrs.ngClass;style&&(cellTemplContext.cellStyle=style);ngClass&&(cellTemplContext.cellClass=ngClass);(cellTemplContext.cellTemplate||cellTemplContext.cellStyle||cellTemplContext.cellClass)&&(cellTemplContext.templLink=this,this[WjFlexGridColumn._cellCtxProp]=cellTemplContext);_super.prototype._link.call(this)},WjFlexGridColumnLink}(angular.WjLink),function(CellTemplateType){CellTemplateType[CellTemplateType.Cell=0]="Cell";CellTemplateType[CellTemplateType.CellEdit=1]="CellEdit";CellTemplateType[CellTemplateType.ColumnHeader=2]="ColumnHeader";CellTemplateType[CellTemplateType.RowHeader=3]="RowHeader";CellTemplateType[CellTemplateType.RowHeaderEdit=4]="RowHeaderEdit";CellTemplateType[CellTemplateType.TopLeft=5]="TopLeft";CellTemplateType[CellTemplateType.GroupHeader=6]="GroupHeader";CellTemplateType[CellTemplateType.Group=7]="Group"}(angular.CellTemplateType||(angular.CellTemplateType={}));var CellTemplateType=angular.CellTemplateType,WjFlexGridCellTemplate=function(_super){function WjFlexGridCellTemplate(){_super.call(this);this.require=['?^wjFlexGridColumn','?^wjFlexGrid'];this.terminal=!0;angular.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(tElement,tAttrs){return tAttrs[WjFlexGridColumn._colTemplateProp]=tElement[0].innerHTML,'<div />'}):(this.transclude=!0,this.template='<div ng-transclude/>')}return __extends(WjFlexGridCellTemplate,_super),WjFlexGridCellTemplate._getTemplContextProp=function(templateType){return'$__cellTempl'+CellTemplateType[templateType]},WjFlexGridCellTemplate.prototype._initControl=function(){return{}},WjFlexGridCellTemplate.prototype._createLink=function(){return new WjFlexGridCellTemplateLink},WjFlexGridCellTemplate.prototype._getMetaDataId=function(){return'FlexGridCellTemplate'},WjFlexGridCellTemplate._tagName='wj-flex-grid-cell-template',WjFlexGridCellTemplate}(angular.WjDirective),WjFlexGridCellTemplateLink=function(_super){function WjFlexGridCellTemplateLink(){_super.apply(this,arguments)}return __extends(WjFlexGridCellTemplateLink,_super),WjFlexGridCellTemplateLink.prototype._initParent=function(){var cts,cellType,style,ngClass;if(_super.prototype._initParent.call(this),cts=this.scope.cellType,cts)cellType=CellTemplateType[cts];else return;var dynaTempl=this.tAttrs[WjFlexGridColumn._colTemplateProp],template=dynaTempl!=null?dynaTempl:angular.WjDirective._removeTransclude(this.tElement[0].innerHTML),control=this.control;wijmo.isNullOrWhiteSpace(template)||(control.cellTemplate=template);style=this.tAttrs.ngStyle;ngClass=this.tAttrs.ngClass;style&&(control.cellStyle=style);ngClass&&(control.cellClass=ngClass);(control.cellTemplate||control.cellStyle||control.cellClass)&&(control.templLink=this,this.parent.control[WjFlexGridCellTemplate._getTemplContextProp(cellType)]=control);WjFlexGridCellTemplateLink._invalidateGrid(this.parent.control)},WjFlexGridCellTemplateLink.prototype._destroy=function(){var parentControl=this.parent&&this.parent.control,cts=this.scope.cellType;_super.prototype._destroy.call(this);cts&&(parentControl[WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType[cts])]=undefined,WjFlexGridCellTemplateLink._invalidateGrid(parentControl))},WjFlexGridCellTemplateLink._invalidateGrid=function(parentControl){var grid=parentControl;grid&&(grid instanceof wijmo.grid.Column&&(grid=grid.grid),grid&&grid.invalidate())},WjFlexGridCellTemplateLink}(angular.WjLink),WjFlexGridFilter=function(_super){function WjFlexGridFilter(){_super.call(this);this.require='^wjFlexGrid';this.template='<div />'}return __extends(WjFlexGridFilter,_super),Object.defineProperty(WjFlexGridFilter.prototype,"_controlConstructor",{get:function(){return wijmo.grid.filter.FlexGridFilter},enumerable:!0,configurable:!0}),WjFlexGridFilter}(angular.WjDirective),WjGroupPanel=function(_super){function WjGroupPanel(){_super.apply(this,arguments)}return __extends(WjGroupPanel,_super),Object.defineProperty(WjGroupPanel.prototype,"_controlConstructor",{get:function(){return wijmo.grid.grouppanel.GroupPanel},enumerable:!0,configurable:!0}),WjGroupPanel}(angular.WjDirective),WjFlexGridDetail=function(_super){function WjFlexGridDetail($compile){_super.call(this);this._$compile=$compile;this.require='^wjFlexGrid';this.terminal=!0;angular.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(tElement,tAttrs){return tAttrs[WjFlexGridDetail._detailTemplateProp]=tElement[0].innerHTML,'<div />'}):(this.transclude=!0,this.template='<div ng-transclude/>')}return __extends(WjFlexGridDetail,_super),Object.defineProperty(WjFlexGridDetail.prototype,"_controlConstructor",{get:function(){return wijmo.grid.detail.FlexGridDetailProvider},enumerable:!0,configurable:!0}),WjFlexGridDetail.prototype._createLink=function(){return new WjFlexGridDetailLink},WjFlexGridDetail._detailTemplateProp='$__wjDetailTemplate',WjFlexGridDetail._detailScopeProp='$_detailScope',WjFlexGridDetail}(angular.WjDirective),WjFlexGridDetailLink=function(_super){function WjFlexGridDetailLink(){_super.apply(this,arguments)}return __extends(WjFlexGridDetailLink,_super),WjFlexGridDetailLink.prototype._initParent=function(){var tpl;_super.prototype._initParent.call(this);var self=this,dynaTempl=this.tAttrs[WjFlexGridDetail._detailTemplateProp],dp=this.control;this.itemTemplate=this._getCellTemplate(dynaTempl!=null?dynaTempl:angular.WjDirective._removeTransclude(this.tElement[0].innerHTML));tpl=this._getCellTemplate(this.itemTemplate);this._tmplLink=this.directive._$compile('<div>'+tpl+'</div>');dp.createDetailCell=function(row,col){var cellScope=self._getCellScope(self.scope.$parent,row,col),clonedElement=self._tmplLink(cellScope,function(){})[0];return dp.grid.hostElement.appendChild(clonedElement),cellScope.$root.$$phase||cellScope.$apply(),clonedElement.parentElement.removeChild(clonedElement),clonedElement};dp.disposeDetailCell=function(row){row.detail&&window.angular.element(row.detail).scope().$destroy()};this.parent._isInitialized&&this.control&&this.control.invalidate()},WjFlexGridDetailLink.prototype._destroy=function(){var ownerControl=this.parent&&this.parent.control,dp=this.control;dp.createDetailCell=null;dp.disposeDetailCell=null;_super.prototype._destroy.call(this);this._tmplLink=null;ownerControl&&ownerControl.invalidate()},WjFlexGridDetailLink.prototype._getCellScope=function(parentScope,row,col){var ret=parentScope.$new();return ret.$row=row,ret.$col=col,ret.$item=row.dataItem,ret},WjFlexGridDetailLink.prototype._getCellTemplate=function(tpl){return tpl&&(tpl=tpl.replace(/ng\-style/g,'style'),tpl=tpl.replace(/ class\=\"ng\-scope\"( \"ng\-binding\")?/g,''),tpl=tpl.replace(/<span>\s*<\/span>/g,'')),tpl},WjFlexGridDetailLink}(angular.WjLink),WjFlexSheet=function(_super){function WjFlexSheet($compile,$interpolate){_super.call(this,$compile,$interpolate)}return __extends(WjFlexSheet,_super),Object.defineProperty(WjFlexSheet.prototype,"_controlConstructor",{get:function(){return wijmo.grid.sheet.FlexSheet},enumerable:!0,configurable:!0}),WjFlexSheet}(WjFlexGrid),WjSheet=function(_super){function WjSheet(){_super.call(this);this.require='^wjFlexSheet'}return __extends(WjSheet,_super),Object.defineProperty(WjSheet.prototype,"_controlConstructor",{get:function(){return wijmo.grid.sheet.Sheet},enumerable:!0,configurable:!0}),WjSheet.prototype._createLink=function(){return new WjSheetLink},WjSheet}(angular.WjDirective),WjSheetLink=function(_super){function WjSheetLink(){_super.apply(this,arguments)}return __extends(WjSheetLink,_super),WjSheetLink.prototype._initControl=function(){var sheet=_super.prototype._initControl.call(this),scope=this.scope,flexSheet=this.parent.control;return sheet.name=scope.name,scope.itemsSource?sheet.itemsSource=scope.itemsSource:(sheet.rowCount=+scope.rowCount,sheet.columnCount=+scope.columnCount),flexSheet.sheets.push(sheet),sheet},WjSheetLink}(angular.WjLink),WjMultiRow=function(_super){function WjMultiRow($compile,$interpolate){_super.call(this,$compile,$interpolate)}return __extends(WjMultiRow,_super),Object.defineProperty(WjMultiRow.prototype,"_controlConstructor",{get:function(){return wijmo.grid.multirow.MultiRow},enumerable:!0,configurable:!0}),WjMultiRow}(WjFlexGrid)})(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;(function(angular){var wijmoOlap=window.angular.module('wj.olap',['wj.grid','wj.chart']),WjPivotGrid,WjPivotChart,WjPivotPanel;wijmo.olap&&wijmo.olap.PivotGrid&&(wijmoOlap.directive('wjPivotGrid',['$compile','$interpolate',function($compile,$interpolate){return new WjPivotGrid($compile,$interpolate)}]),wijmoOlap.directive('wjPivotChart',[function(){return new WjPivotChart}]),wijmoOlap.directive('wjPivotPanel',[function(){return new WjPivotPanel}]));WjPivotGrid=function(_super){function WjPivotGrid($compile,$interpolate){_super.call(this,$compile,$interpolate)}return __extends(WjPivotGrid,_super),Object.defineProperty(WjPivotGrid.prototype,"_controlConstructor",{get:function(){return wijmo.olap.PivotGrid},enumerable:!0,configurable:!0}),WjPivotGrid}(angular.WjFlexGrid);angular.WjPivotGrid=WjPivotGrid;WjPivotChart=function(_super){function WjPivotChart(){_super.apply(this,arguments)}return __extends(WjPivotChart,_super),Object.defineProperty(WjPivotChart.prototype,"_controlConstructor",{get:function(){return wijmo.olap.PivotChart},enumerable:!0,configurable:!0}),WjPivotChart}(angular.WjDirective);angular.WjPivotChart=WjPivotChart;WjPivotPanel=function(_super){function WjPivotPanel(){_super.call(this);this.transclude=!0;this.template='<div ng-transclude />'}return __extends(WjPivotPanel,_super),Object.defineProperty(WjPivotPanel.prototype,"_controlConstructor",{get:function(){return wijmo.olap.PivotPanel},enumerable:!0,configurable:!0}),WjPivotPanel}(angular.WjDirective);angular.WjPivotPanel=WjPivotPanel})(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={})),function(wijmo){var angular;(function(){var wijModule=window.angular.module('wj',['wj.input','wj.grid','wj.chart','wj.container','wj.gauge','wj.olap'])})(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={}))