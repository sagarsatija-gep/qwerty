function p2pInvNonPoExcTypeSharedDataFunc(){return{typeChanged:function(e){this.getType(e)},getType:function(){}}}function p2pInvnonPoBasicDetailsCtrlFunc(e,t,o,i,a,n,l,s,c,p,r,u){function d(){for(var t=0,o=e.taxesDetailLists.length,i=0;i<o;i++)t+=parseInt(e.taxesDetailLists[i].taxRate,10);e.totalPercentage=t/o}e.$on("$routeChangeSuccess",function(e,t){console.log("to from route change start",e,t)}),console.log("Route change --"),e.showLocationPopup=!1,e.showLocationPopupFn=function(){e.showLocationPopup=!0},e.showLocationPopupClBack=function(){e.showLocationPopup=!1},e.$on("openshipToPoup",function(t,o){e.showLocationPopup=o.data}),e.fixHeaderHeight={height:"310px"},e.popOut=!1,e.$on("openScannedInvInPopup",function(t,o){if(e.popOut=!e.popOut,e.isScannedDocCollaps=!o.message,e.isScannedDocCollaps){var i=angular.element("#scannedInvDiv").height();e.fixHeaderHeight={height:i},e.shiftedList&&angular.forEach(e.shiftedList,function(t){var o=r("filter")(e.formConfig.sections,{label:t},!0)[0],i=e.formConfig.sections.indexOf(o);e.formConfig.sections[i].isShift=!0,e.leftToRightDisabled=!0,e.isRightVisible||(e.isRightVisible=!0)})}else e.fixHeaderHeight={height:"42px"},e.isRightVisible&&(e.isRightVisible=!1),angular.forEach(e.formConfig.sections,function(t,o){1==t.isSwitchable&&(e.formConfig.sections[o].isShift=!1)}),e.leftToRightDisabled=!1}),e.resizableMaxHeight=function(e){var o=t.innerHeight-325;return e&&(o=t.innerHeight-295),o},e.onStopResizing=function(){var t=angular.element("#scannedInvDiv").height();e.fixHeaderHeight={height:t}},e.$on("showSupIcard",function(t,o){e.showSupplierIcardPopup=o.flag}),e.showSupplierIcardPopup=!1,e.showSupplierIcard=function(){e.showSupplierIcardPopup=!0},e.hideSupplierIcardPopupCallback=function(){e.showSupplierIcardPopup=!1},e.supplierIcard=u.SUPPLIER_ID_CARD,e.smartCatPopupMultiLevel="shared/popup/views/smartCatPopupMultiLevel.html",e.smartCatPopupSingleLevel="shared/popup/views/smartCatPopupSingleLevel.html",e.hideSecNav=!1,e.isaccruedtaxes=!1,e.isLineaccrudtaxes=!1,e.exemptConfirmCall=function(){var t=u.NOTIFICATION_CONFIG;e.showTaxesPopup=!1,s.notify(t,function(t){"no"==t.result&&(e.showTaxesPopup=!0)})},e.addCurrent=function(){""!=e.taxList.taxCode&&(e.taxesDetailLists.push(e.taxList),e.taxList={taxCode:"",taxDetail:"",taxRate:"",showEdithCurrentPanel:!1}),d()},e.taxConfig=u.TAX_CONFIG,e.getTotalTax=function(){var t=0;return angular.forEach(e.taxConfig,function(e){t+=parseInt(e.dataValue)}),t},e.makeEditCurrent=function(t){e.taxConfig.forEach(function(t,o,i){e.taxConfig[o].makeEdit=!1}),e.taxConfig[t].makeEdit=!0},e.newTaxValue=r("number")("0",2),e.updateTaxValue=function(t,o){e.taxConfig[t].dataValue=r("number")(o,2),e.newTaxValu=r("number")("0",2),e.taxConfig[t].makeEdit=!1,e.taxConfig[t].focus=!1},e.cancelupdateTaxValue=function(t){e.newTaxValu=r("number")("0",2),e.taxConfig[t].makeEdit=!1,e.taxConfig[t].focus=!1},e.taxList={taxCode:"",taxDetail:"",taxRate:"",showEdithCurrentPanel:!1},e.taxesDetailLists=u.TAXES_DETAIL_LIST,e.$on("openTaxPopup",function(t,o){1==o.showTaxPopup&&(e.isaccruedtaxes=o.isaccruedtaxes,e.showTaxesPopup=!0,e.isLineaccrudtaxes=o.isLineaccrudtaxes)}),e.showTaxesPopup=!1,e.showTaxesPopupCallback=function(t){e.showTaxesPopup=!0,e.isaccruedtaxes=t},e.taxesPopUpOnHideCallback=function(t){e.showTaxesPopup=!1,e.isaccruedtaxes=!1,e.isLineaccrudtaxes=!1},d(),e.updatedCurrentTax={taxCode:"",taxDetail:"",taxRate:"",showEdithCurrentPanel:!1},e.taxfocus=!1,e.delCurrent=function(t){e.showTaxesPopup=!1;var o="<p class='left-align'>Are you Sure for Delete Current Item ''"+e.taxesDetailLists[t].taxDetail+"''</p>",i=u.NOTIFICATION_CONFIG;i.type="warning",i.message=o,s.notify(i,function(o){"yes"==o.result&&(e.taxesDetailLists.splice(t,1),d()),e.showTaxesPopup=!0})},e.editCurrent=function(t){e.taxfocus=!0,e.taxesDetailLists[t].showEdithCurrentPanel=!0;var o=e.taxesDetailLists[t];e.updatedCurrentTax.taxCode=o.taxCode,e.updatedCurrentTax.taxDetail=o.taxDetail,e.updatedCurrentTax.taxRate=o.taxRate,d()},e.updatedEdited=function(t){var o=e.taxesDetailLists[t];""!=e.updatedCurrentTax.taxCode&&(o.taxCode=e.updatedCurrentTax.taxCode,o.taxDetail=e.updatedCurrentTax.taxDetail,o.taxRate=e.updatedCurrentTax.taxRate,e.taxesDetailLists[t].showEdithCurrentPanel=!1,e.updatedCurrentTax={taxCode:"",taxDetail:"",taxRate:"",showEdithCurrentPanel:!0}),d(),Materialize.toast("Tax edited Successfully",2e3)},e.cancelUpdatedEdited=function(t){e.taxesDetailLists[t].showEdithCurrentPanel=!1,e.updatedCurrentTax={taxCode:"",taxDetail:"",taxRate:"",showEdithCurrentPanel:!0}},e.applyFn=function(){Materialize.toast("Tax Added Successfully",2e3)},e.applyProrate=function(){var t=u.NOTIFICATION_CONFIG;t.type="confirm",t.message="<div class='left-align'>There are taxes already accrued at line item level. Prorating from header will over write those values. Do you want to proceed?'</div>",e.showTaxesPopup=!1,s.notify(t,function(t){"yes"==t.result?(e.taxesPopUpOnHideCallback(),Materialize.toast("Tax Added Successfully",2e3)):e.showTaxesPopup=!0})},e.isScannedDocCollaps=!0;var h="";e.hideWidget=function(){e.popOut||(e.isScannedDocCollaps?(e.fixHeaderHeight={height:"42px"},h=angular.element("#scannedInvDiv").height()):e.fixHeaderHeight={height:h},e.isScannedDocCollaps=!e.isScannedDocCollaps)},e.showUploadScannedPopup=!1,e.hideDownloadTemplate=!0,e.adduploadScannedCallback=function(){e.uploadTitle="Upload Scanned Document",e.uploadIcon="#icon_Upload",e.showUploadScannedPopup=!0},e.hideUploadScannedPopupCallback=function(t){e.showUploadScannedPopup=!1};e.attchmentMsg=p.trustAsHtml("Supported file formats: doc, docs,pdf, jpg, jpeg, png.    //     <br />Limited to file(s) of 10MB each.    //     <br /> Maximum 5 files can be uploaded.");var f=!1;e.attachAction=function(){f=!0},e.attachCompleteCall=function(){if(!f)return void(f=!1);l.go("p2p.inv.create",{scannedDoc:!0,mode:"blank"})},e.orgOptions=u.ORG_OPTIONS,e.selectedOrganization=e.orgOptions[0],e.typeOptions=u.TYPE_OPTIONS,e.selectedSupplier=e.typeOptions[0],e.changeImageScale=1,e.scannnedImagesList=u.SCANNED_IMAGE_LIST,e.openPopuFlag=!1,e.changeImagePopOutFalse=!1,e.$on("showImages",function(t,o){e.openPopuFlag=!0,e.slideObj={list:e.scannnedImagesList,index:0,src:"p2p/inv/views/templateInvoiceScreenshot.html"}}),e.closeSlideView=function(){e.openPopuFlag=!1},e.commentIcon="#icon_Comments",e.showCommentsPopup=!1,e.checkicardPopup=!1,e.showCommentsPopupCallback=function(t){e.showCommentsPopup=!0,1==e.showSupplierIcardPopup&&(e.checkicardPopup=!0,e.showSupplierIcardPopup=!1)},e.commentsPopUpOnHideCallback=function(t){e.showCommentsPopup=!1,e.commentIcon="#icon_Commented",1==e.checkicardPopup&&(e.showSupplierIcardPopup=!0,e.checkicardPopup=!1)},e.commentList=u.COMMENT_LIST,e.attachmentPopUpUrl="shared/popup/views/popupUploadDoc.html";var m;o.showDoneBtn=!1,e.uploadTitle="ADD ATTACHMENTS",e.showUploadPopup=!1,e.adduploadCallback=function(t,i){e.showCommentsPopup=!1,e.showUploadPopup=!0,void 0!=(m=i)&&(o.showDoneBtn=!0)},e.hideUploadPopupCallback=function(t){if(e.showUploadPopup=!1,void 0==m)return!1;"comment"==m?(e.showCommentsPopup=!0,o.showDoneBtn=!1):"manageApproval"==m&&(e.mngAppShow=!0,o.showDoneBtn=!1)},e.docFlag=!1,e.uploadDocCall=function(t){e.docFlag=!0},e.attachFlag=!1,e.attachmentList=u.ATTACHMENT_LIST,e.attachmentCall=function(t){e.attachFlag=!0;for(var o=e.attachmentList.length,i=0;i<o;i++)e.attachmentList[i].isShow=!0},e.closeAttachment=function(e){e.isShow=!1},e.retryCall=function(e){e.status="success"},e.removeRow=function(t){var o=e.attachmentList.length;o>1&&(2==o&&(e.attachmentList[1].actionIconDelete=!1),e.attachmentList.splice(index,1))},e.commentsPopupgTabUrl="shared/popup/views/commentsPopupTab.html",e.showCommentsPopupTab=!1,e.showCommentsPopupTabCallback=function(t){e.showCommentsPopupTab=!0},e.commentsPopupOnHideTabCallback=function(t){e.showCommentsPopupTab=!1,e.attPopUp=!0},e.tooltip="Attachment 1\nAttachment 2\nAttachment 3\nAttachment 4\nAttachment 5",e.customStyle={textAlign:"left"},e.showErrorAlert=!1,e.showErrorAlertMsgCont=!1,e.showErrorAlertFunc=function(){e.showErrorAlert?(e.showErrorAlert=!1,c(function(){e.showErrorAlertMsgCont=!1},0)):(e.showErrorAlert=!0,e.showErrorAlertMsgCont=!0)},e.modules=u.MODULES,e.modulecurrentTab="requisition.html",e.moduleactiveListTabs=0,e.modulesetActiveListTab=function(t){e.moduleactiveListTabs=t,e.modulecurrentTab=e.modules[t].url},e.showPreview=function(){l.go("p2p.inv.preview")},e.taxList={taxCode:"",taxDetail:"",taxRate:"",showEdithCurrentPanel:!1},e.taxesDetailLists=u.TAXES_DETAIL_LIST,e.sectionAndFieldsDetails=u.SEC_FIELDS_DETAILS,e.topValueSectionTrack=115,e.submitReq=function(){var e=u.NOTIFICATION_CONFIG;e.type="success",e.message="<p class='left-align'>Invoice created successfully.</br> Would you like to create another Invoice? </p>",s.notify(e,function(e){"yes"==e.result?l.go("p2p.inv.create",{doctype:"invoice"}):"no"==e.result&&l.go("expandedLandingList",{doctype:"invoice"})})};e.dropDownConfig={inDuration:300,outDuration:225,constrain_width:!1,hover:!1,gutter:0,belowOrigin:!1,alignment:"left"},function(){var t={method:"GET",url:"p2p/inv/models/createNonPoInv.json"};u.getJSONData(t).then(function(t){e.dataModel=t.dataModel,e.formConfig=t.formConfig,"blank"==l.params.mode&&(e.formConfig.sections[0].isVisible=!0)}).catch(function(e){})}(),e.validateForm=function(){a.setRules(e.config.sections,e.dataModel,e.config.rules)},e.showSearchHeader=function(){this.isActiveHeader=!0,this.focusSearchHeader=!0,this.hideCloseHeader=!0},e.hideSearchHeader=function(){this.isActiveHeader=!1,this.focusSearchHeader=!1,this.hideCloseHeader=!1},e.setTemplateData=[],function(){var t={method:"GET",url:"p2p/req/models/tempateData.json"};u.getJSONData(t).then(function(t){e.setTemplateData=t}).catch(function(e){})}(),e.getItemNum=[],e.checkboxIsTrue=!1;var T=[];e.useSelectedTemplatefunc=function(t){1==t?(e.checkboxIsTrue=!0,T.push("0")):(T.pop(),0==T.length&&(e.checkboxIsTrue=!1))},e.goToPage=function(){l.go(templateLink)},e.userthisTemplate=function(t){l.go(templateLink),e.tempPopup=!1},e.isActive=!1,e.showMe=!1,e.hideClose=!1,e.showSearch=function(){e.isActive=!0,e.showMe=!0,e.hideClose=!0},e.hideSearch=function(){e.isActive=!1,e.hideClose=!1},e.selectedItems=6,e.addItem=function(t,o){e.setTemplateData[o].isCheckedAll;1==t?e.selectedItems=e.selectedItems+1:(e.setTemplateData[o].isCheckedAll=!1,e.selectedItems=e.selectedItems-1)},e.selectAllTemple=function(t,o){var i=e.setTemplateData[o].tempAttr,a=i.length;if(1!=t)for(var n=0;n<a;n++)i[n].isChecked=!1;else for(var n=0;n<a;n++)i[n].isChecked=!0},e.companyOptions=u.COMPANY_OPTIONS,e.selectedCompany=e.companyOptions[0],e.orderOptions=u.ORDER_OPTIONS,e.selectedOrder=e.orderOptions[0],e.trackStatusPopup=!1,e.trackStatusPopupCallback=function(t){e.trackStatusPopup=!0},e.trackStatusOnHideCallback=function(t){e.trackStatusPopup=!1},e.deleteInvoice=function(){var e=u.NOTIFICATION_CONFIG;e.type="warning",e.message="<p class='left-align'>Do you want to delete this Invoice?</p>",s.notify(e,function(e){"yes"==e.result&&l.go("expandedLandingList",{doctype:"invoice"})})},e.paymentTermOptions=u.PAYMENT_TERM_OPTIONS,e.selectedPaymentTerm=e.paymentTermOptions[3],e.leftToRightDisabled=!1,e.shiftedList=[],e.moveLeftToRight=function(){e.popOut||(e.isRightVisible||(e.isRightVisible=!0),angular.forEach(e.formConfig.sections,function(t,o){1==t.isSwitchable&&(e.formConfig.sections[o].isShift=!0,e.shiftedList.push(e.formConfig.sections[o].label))}),e.leftToRightDisabled=!0)},e.moveRightToLeft=function(){e.isRightVisible&&(e.isRightVisible=!1),angular.forEach(e.formConfig.sections,function(t,o){if(1==t.isSwitchable){e.formConfig.sections[o].isShift=!1;var i=e.shiftedList.indexOf(e.formConfig.sections[o].label);e.shiftedList.splice(i,1)}}),e.leftToRightDisabled=!1};var g=function(){return r("filter")(e.formConfig.sections,{isShift:!0,isSwitchable:!0}).length},C=function(){return r("filter")(e.formConfig.sections,{isShift:!1,isSwitchable:!0}).length};e.switchSection=function(t){if(!e.popOut){var o=t.label;if(getSectionIndex=_.findIndex(e.formConfig.sections,{label:o}),e.formConfig.sections[getSectionIndex].isShift=!e.formConfig.sections[getSectionIndex].isShift,1==e.formConfig.sections[getSectionIndex].isShift)0<g()&&(e.isRightVisible=!0),0>=C()&&(e.leftToRightDisabled=!0),e.formConfig.sections[getSectionIndex].isActive=!1,e.shiftedList.push(o);else{0>=g()&&(e.isRightVisible=!1),e.formConfig.sections[getSectionIndex].isActive=!0,e.leftToRightDisabled=!1;var i=e.shiftedList.indexOf(o);e.shiftedList.splice(i,1)}}},e.switchSectionformConfig={sections:[],isSequenceToBeMaintained:!0},e.formWidgetFilter={setFilter:{isShift:!1},setSubFilter:{isShift:!0}},e.isRightVisible=!1,e.checkShift=function(e){var t=!1;return angular.forEach(e,function(e,o){if(e.isShift)return t=!0}),t},e.customGoto=function(t){var o=_.findIndex(e.formConfig.sections,{label:t});(e.formConfig.sections[o].isActive=!0)&&setTimeout(function(){index=o-1;var e=angular.element("#form-widget-2-sortable").children()[index].offsetTop,t=angular.element(".subFormWidgetWrapper").find(".scroll-content")[0];angular.element(t).scrollTop(e),e=null,t=null},100)},e.exceptionFlag=!1,e.exceptionHeaderCallback=function(){e.exceptionFlag=!e.exceptionFlag}}function itemDetailnonPoInvCtrlFunc(e,t,o,i,a,n){function l(e){for(var t=0,o=e.length,i=0;i<o;i++)!0===e[i].selected&&t++;return t}function s(e){for(var t=e.length,o=0;o<t;o++)if(!0===e[o].selected)return!0;return!1}function c(e){for(var t=e.length,o=0;o<t;o++)if(!e[o].selected)return!1;return!0}function p(t){e.indexToShow=t,e.selectedSandP=e.spData[t]}e.withoutChk=!0,e.focusSearch=!1,e.isActive=!1,e.showMe=!1,e.showSearch=function(){e.isActive=!0,e.focusSearch=!0,e.showMe=!0,e.hideClose=!0},e.hideSearch=function(){e.isActive=!1,e.focusSearch=!1,e.hideClose=!1},e.checkAll=function(t){angular.forEach(e.importFromReq,function(o,i){e.importFromReq[i].selected=t})},e.checkAllTemp=function(t){angular.forEach(e.importFromTemp,function(o,i){e.importFromTemp[i].selected=t})},e.selectedtemplate=function(t){e.$emit("showTemplate",{showTemp:t})},e.itemDetailReqMaterialTabDataset=[{title:"Lines",contentUrl:"p2p/inv/views/itemDetail-mat-linesTab.html",active:!0},{title:"Accounting",contentUrl:"p2p/inv/views/itemDetail-mat-accTab.html"}],e.isTemplateSelected=[],e.templateLists=[{title:"TEMPLATE 1",isChecked:!1},{title:"TEMPLATE 2",isChecked:!1},{title:"TEMPLATE 3",isChecked:!1}],e.approverPopupUrl="shared/popup/views/popupApprover.html",e.approverPopup=!1,e.approverPopupCallback=function(t){e.approverPopup=!0},e.approverOnHideCallback=function(){e.approverPopup=!1},e.modulecurrentTab="requisition.html",e.withoutTabSelect=!0,e.commentIcon="#icon_Comments",e.commentsPopupUrl="shared/popup/views/commentsPopup.html",e.showCommentsGridPopup=!1,e.showCommentsGridPopupCallback=function(){e.showCommentsGridPopup=!0},e.commentsGridPopUpOnHideCallback=function(t){e.showCommentsGridPopup=!1,e.commentIcon="#icon_Commented"},e.commentList=n.COMMENT_LIST,e.addApprovers=n.APPROVERS,e.approvers=n.APPROVERS,e.shwMore=!1,e.WrapHeight="130px",e.collapsUser=function(){e.shwMore=!e.shwMore,e.WrapHeight="300px"},e.selectedAll=!1,e.checkAll1=function(t){e.selectedAll=!e.selectedAll,angular.forEach(e.approvers,function(t){t.selected=e.selectedAll}),t.preventDefault()},e.contractExpiry=new Date,e.focusSearch=!1,e.isActive=!1,e.showMe=!1,e.showSearch=function(){e.isActive=!0,e.focusSearch=!0,e.showMe=!0,e.hideClose=!0},e.hideSearch=function(){e.isActive=!1,e.focusSearch=!1,e.hideClose=!1},e.treeSearchModel="",e.stateBasedTitle="ADD CATEGORY",e.manufatureDetails="p2p/req/views/popupManufacturerDetails.html",e.manufatureDetailsPopup=!1,e.manufatureDetailsCallback=function(t){e.manufatureDetailsPopup=!0},e.manufatureDetailsPopupHideCallback=function(t){e.manufatureDetailsPopup=!1},e.expressLists=n.EXPRESS_LIST2,e.removeRow=function(t){e.expressLists.splice(t,1),0===e.expressLists.length&&(e.expressLists=[]),e.splitList.splice(t,1),0===e.splitList.length&&(e.splitList=[])},e.addLines=1,function(){var t={url:"p2p/inv/models/importFrmReq.json",method:"GET"};n.getJSONData(t).then(function(o){e.importFromReq=t.data}).catch(function(e){})}(),e.importFromTemp=n.IMPORT_FRM_TEMP,e.fields=[],e.accfields=[],e.manageColumns=function(){e.fields=[{lable:"Requested Date Requested Date Requested Date Requested Date Requested Date",selected:!0},{lable:"Shipping Method",selected:!0},{lable:"Procurement Option",selected:!0},{lable:"Inventory Type",selected:!0},{lable:"Matching",selected:!0},{lable:"Supplier Code",selected:!0},{lable:"Supplier Contact",selected:!0},{lable:"Manufacturer Name",selected:!0},{lable:"Manufacturer P...",selected:!0},{lable:"Contract Name",selected:!0},{lable:"Contract Expiry Date",selected:!0},{lable:"Contract Value",selected:!0},{lable:"Payment Terms",selected:!0}],e.noOfCol=parseInt(Math.round(e.fields.length/5)),e.colWidth=200,e.listHolderWidth={width:e.noOfCol*e.colWidth+"px"},e.startVal=0,e.getStartFrom=function(){e.startVal+=1},e.cloneDiv=function(e){return new Array(e)},e.itemsLimit=5,e.itemsColumnized=function(t){var o=t*e.itemsLimit;return e.fields.slice(o,o+e.itemsLimit)},e.selectedCount=l(e.fields)},e.selectedAll={selection:!0},e.splitsSelectedAll={selection:!1},e.fillpartial=!1,e.isVisible=!1,e.checkAll=function(t){angular.forEach(e.fields,function(o,i){e.fields[i].selected=t}),!0===t?(e.isVisible=!0,e.fillpartial=!1):(e.isVisible=!1,e.fillpartial=!1),e.selectedCount=l(e.fields)},e.reset=function(){e.selectedAll.selection=!1,e.fillpartial=!1,e.isVisible=!1,e.checkAll(!1),e.selectedCount=l(e.fields)},e.onChange=function(t){s(e.fields)?(e.isVisible=!0,e.fillpartial=!0):(e.isVisible=!1,e.fillpartial=!1,e.selectedAll.selection=!1),c(e.fields)&&(e.fillpartial=!1,e.selectedAll.selection=!0),e.selectedCount=l(e.fields)},e.selectedCount=l(e.fields),e.accManageColumns=function(){e.accfields=[],e.accfields=[{lable:"UOM"},{lable:"Split Taxes & Charges (USD)"},{lable:"Requester"}],e.selectedCount=l(e.accfields),e.noOfCol=parseInt(Math.round(e.accfields.length/5)),e.colWidth=200,e.listHolderWidth={width:e.noOfCol*e.colWidth+"px"},e.startVal=0,e.getStartFrom=function(){e.startVal+=1},e.cloneDiv=function(e){return new Array(e)},e.itemsLimit=5,e.itemsColumnized=function(t){var o=t*e.itemsLimit;return e.accfields.slice(o,o+e.itemsLimit)}},e.onChangeAcc=function(t){s(e.accfields)?(e.isVisible=!0,e.fillpartial=!0):(e.isVisible=!1,e.fillpartial=!1,e.selectedAll.selection=!1),c(e.accfields)&&(e.fillpartial=!1,e.selectedAll.selection=!0),e.selectedCount=l(e.accfields)},e.labels={supplierLable:o.instant("Supplier"),shippingLable:o.instant("Shipping"),accountingLable:o.instant("Accounting"),addDetailsLable:o.instant("Additional Details")},e.cancelBtnConfig={title:o.instant("CANCEL")},e.resetBtnConfig={title:o.instant("RESET")},e.selectItemsBtnConfig={title:o.instant("SELECT ITEMS")},e.doneBtnConfig={title:o.instant("DONE")},e.backBtnConfig={title:o.instant("BACK")},e.ApplyBtnConfig={title:o.instant("APPLY")},e.contractNumber=[{UserId:28360,UserName:"IT/Hardware"},{UserId:28977,UserName:"IT/Hardware"},{UserId:28978,UserName:"IT/Hardware"},{UserId:28979,UserName:"IT/Hardware"},{UserId:28980,UserName:"IT/Hardware"}],e.taxCode=[{UserId:"Cod",UserName:"-0009812"},{UserId:"Cod",UserName:"- 0009432"},{UserId:"Cod",UserName:"- 0009542"},{UserId:"Cod",UserName:"- 0009322"},{UserId:"Cod",UserName:"- 0009552"}],e.applyToAllPopUp=!1,e.applyToAllPopUpCallback=function(t){e.applyToAllPopUp=!0},e.applyToAllPopUpClose=function(t){e.applyToAllPopUp=!1},e.addLinesFormUrl="p2p/order/views/popupAddLinesForm.html",e.addLinesFormPopUp=!1,e.addLinesFormPopUpCallback=function(t){e.addLinesFormPopUp=!0},e.addLinesFormPopUpClose=function(t){e.addLinesFormPopUp=!1},e.iteams=[{title:e.labels.supplierLable,lable:"supplier",isChecked:!1},{title:e.labels.shippingLable,lable:"shipping",isChecked:!1},{title:e.labels.accountingLable,lable:"accounting",isChecked:!1},{title:e.labels.addDetailsLable,lable:"additionalDetails",isChecked:!1}],e.tab=0,e.setTab=function(t){e.tab=t},e.isSet=function(t){return e.tab===t},e.updateLineData={suppName:"CTPG OPERATING LLC",suppCode:"CTPG-2014.000000",shipto:"CTPG-2014.000000",address:"Airoli Station, Thane - Belapur Road, Mind Space, Navi Mumbai, India, 400708.",deliverTo:"Airoli Station, Thane - Belapur Road, Mind Space, Navi Mumbai, India, 400708.",bu:"101 - GEP, New Jersey",costCenter:"1011 - OutSourcing",glCode:"2034 - Generral Service",projectCode:"2034040 - Project Code",contractNo:"20380 - IT/Hardware",date:"1494786600000",suppContact:"+1-541-854-1010",selectedcontractNumber:e.contractNumber[0],selectedtaxCode:e.taxCode[0],startDate:"1483986600000",endDate:"1494786600000"},e.updateSplitsData={requester:"John Doe",costCenter:"A",accountNumber:"-",projectId:"39099-21-25"},e.isChecked={},e.applyToAllSplitsUrl="shared/popup/views/popupSplitsBulkEdit.html",e.applyToAllSplitsPopUp=!1,e.applyToAllSplitsPopUpCallback=function(t){e.applyToAllSplitsPopUp=!0},e.applyToAllSplitsPopUpClose=function(t){e.applyToAllSplitsPopUp=!1},e.itemList=[{lable:"Dell Laptop"},{lable:"Lenovo Laptop"},{lable:"Asus Laptop"},{lable:"Intel Laptop"},{lable:"IBM Laptop"}],e.spiltsItemList=[{lable:"Description 1 - Split 1 "},{lable:"Description 2 - Split 2"},{lable:"Description 3 - Split 3"},{lable:"Description 4 - Split 4"},{lable:"Description 5 - Split 5"},{lable:"Description 6 - Split 6"},{lable:"Description 7 - Split 7"},{lable:"Description 8 - Split 8"},{lable:"Description 9 - Split 9"},{lable:"Description 10 - Split 10"}],e.checkAllC=function(t){angular.forEach(e.itemList,function(o,i){e.itemList[i].selected=t})},e.checkAllSplits=function(t){angular.forEach(e.spiltsItemList,function(o,i){e.spiltsItemList[i].selected=t})},e.addLines=1,e.manufatureDetails="shared/popup/views/popupManufacturerDetails.html",e.manufatureDetailsPopup=!1,e.manufatureDetailsCallback=function(t){e.manufatureDetailsPopup=!0},e.manufatureDetailsPopupHideCallback=function(t){e.manufatureDetailsPopup=!1},e.AddChargesinfo="shared/popup/views/popupEditStandardAndProcedure.html",e.AddChargesinfoPopup=!1,e.AddChargesinfoCallback=function(t){e.AddChargesinfoPopup=!0},e.AddChargesinfoPopupHideCallback=function(t){e.AddChargesinfoPopup=!1},e.AddChargesAttach="shared/popup/views/popupEditStandardAttacment.html",e.AddChargesAttachPopup=!1,e.AddChargesAttachCallback=function(t){e.AddChargesAttachPopup=!0},e.AddChargesAttachPopupHideCallback=function(t){e.AddChargesAttachPopup=!1};var r=[],u=[],d=[];e.treeComponentConfig={isRadio:!1,getHierarchyOnSelection:!0,getAllLazyLoadedData:!0,getUserSelection:!0,enableLastLevelSelection:!1,isLazyLoad:!1,showSelectAll:!1,showClearSelection:!1,showSelectionCount:!1,isReadOnly:!1,isDisabled:!1,modalButtonShow:!0,data:null,selectedNodes:"",disableLevelSelection:"",treeType:"Generic",title:"Category",getSelections:!1,clearCache:!1,height:"328px",isSearchEnabled:!0,navigationContext:"PAS"};var h,f,m,T="";e.treeOpenCallback=function(t){if(e.treeComponentConfig.requestParameter={navigationContext:"PAS"},T=t,"region"==t){var o={method:"GET",url:"shared/popup/models/region.json"};n.getJSONData(o).then(function(t){m=t,e.treeComponentConfig.data=m,e.treeComponentConfig.title="Region",e.treeComponentConfig.selectedNodes=d.join(",")})}else if("bu"==t){var i={method:"GET",url:"shared/popup/models/businessUnit.json"};n.getJSONData(i).then(function(t){f=t,e.treeComponentConfig.data=f,e.treeComponentConfig.title="Business Unit",e.treeComponentConfig.selectedNodes=u.join(",")})}else{var a={method:"GET",url:"shared/popup/models/category.json"};n.getJSONData(a).then(function(t){h=t,e.treeComponentConfig.data=h,e.treeComponentConfig.title="Category",e.treeComponentConfig.selectedNodes=r.join(",")})}e.showTreePopup=!0},e.onPopupHideCallback=function(){e.showTreePopup=!1,"category"==T?e.selectedCategoriesValidate=!0:"bu"==T&&(e.selectedBUValidate=!0)},e.selectedCategoriesTxt="Choose Category",e.selectedBUTxt="Choose Business Unit",e.selectedRegionTxt="Choose Region",e.selectedCategoriesValidate=!1,e.selectedBUValidate=!1,e.selectedRegionValidate=!1,e.selectedCategoryNodes=[],e.selectedBUNodes=[],e.selectedRegionNodes=[],e.treeComponentCallback=function(t){var o=t.selections.length;if("category"==T){r=[],e.selectedCategoriesValidate=!0;for(var i=0;i<o;i++){var a=t.selections[i];e.selectedCategoryNodes.push(a.Name),r.push(a.ID)}t.selectionAllNames.length>1?e.selectedCategoriesTxt=t.selectionAllNames[0]+" +"+(t.selectionAllNames.length-1)+" More":1==t.selectionAllNames.length?e.selectedCategoriesTxt=t.selectionAllNames[0]:e.selectedCategoriesTxt="Choose Category"}else if("bu"==T){u=[],e.selectedBUValidate=!0;for(var i=0;i<o;i++){var a=t.selections[i];e.selectedBUNodes.push(a.Name),u.push(a.ID)}t.selectionAllNames.length>1?e.selectedBUTxt=t.selectionAllNames[0]+" +"+(t.selectionAllNames.length-1)+" More":1==t.selectionAllNames.length?e.selectedBUTxt=t.selectionAllNames[0]:e.selectedBUTxt="Choose Category"}else if("region"==T){d=[];for(var i=0;i<o;i++){var n=t.selections[i];e.selectedRegionNodes.push(n.Name),d.push(n.ID)}t.selectionAllNames.length>1?e.selectedRegionTxt=t.selectionAllNames[0]+" +"+(t.selectionAllNames.length-1)+" More":1==t.selectionAllNames.length?e.selectedRegionTxt=t.selectionAllNames[0]:e.selectedRegionTxt="Choose Category"}e.showTreePopup=!1},function(){var t={url:"p2p/inv/models/itemConfig.json",method:"GET"};n.getJSONData(t).then(function(t){e.itemConfig=t.data}).catch(function(e){})}(),function(){var t={url:"p2p/inv/models/itemModel.json",method:"GET"};n.getJSONData(t).then(function(t){e.itemModel=t.data}).catch(function(e){})}(),function(){var t={url:"p2p/inv/models/accountingConfig.json",method:"GET"};n.getJSONData(t).then(function(t){e.accountingConfig=t.data}).catch(function(e){})}(),function(){var t={url:"p2p/inv/models/accountingModel.json",method:"GET"};n.getJSONData(t).then(function(t){e.accountingModel=t.data}).catch(function(e){})}(),e.callbackFucn=function(t,o){o.col&&"Category"==o.col.displayName&&e.treeOpenCallback("category"),o.col&&"taxes"==o.col.field&&e.$emit("openTaxPopup",{showTaxPopup:!0,isaccruedtaxes:!1,isLineaccrudtaxes:!1}),o.col&&"accruedtaxes"==o.col.field&&e.$emit("openTaxPopup",{showTaxPopup:!0,isaccruedtaxes:!0,isLineaccrudtaxes:!0}),o.col&&"manufacturerDetails"==o.col.field&&(e.manufatureDetailsPopup=!0),o.col&&"AddInfo"==o.col.field&&(e.AddChargesinfoPopup=!0,e.forEditColumnObj=o,o.row.entity.AddInfo!=o.col.colDef.attributes.defaultTitle?e.addInfoPopupText=o.row.entity.AddInfo:e.addInfoPopupText=""),o.col&&"AddInfoAttach"==o.col.field&&(e.AddChargesAttachPopup=!0,e.forEditColumnObj=o,o.row.entity.AddInfoAttach!=o.col.colDef.attributes.defaultTitle?e.AddInfoAttachPopupText=o.row.entity.AddInfoAttach:e.AddInfoAttachPopupText=""),o.col&&"spLink"==o.col.field&&"ADD S&P"==o.row.entity.spLink?e.showSPPopup=!0:o.col&&"spLink"==o.col.field?e.showGridSandPPopup=!0:o.col&&"comment"==o.col.field&&(e.showCommentsGridPopup=!0),o.col&&"splitNumber"==o.col.field&&(e.splitPopupPopup=!0)},e.showGridSandPPopup=!1,e.showGridSandPCallback=function(){e.showGridSandPPopup=!0},e.showGridSandPPopupHideCallback=function(t){e.showGridSandPPopup=!1},e.spData=n.SP_DATA,e.indexToShow=0,e.selectedSandP=e.spData[e.indexToShow],e.selectedItem=function(e){p(e)},e.titleSandPPopup="ADD NEW STANDARD AND PROCEDURE",e.showSPPopup=!1,e.showSPPopupCall=function(){e.showGridSandPPopup=!1,e.titleSandPPopup="ADD NEW STANDARD AND PROCEDURE",e.selectedSP={},e.showSPPopup=!0},e.hideSPPopupCall=function(t){e.showGridSandPPopup=!0,e.showSPPopup=!1},e.editSandPGridCall=function(t){e.showGridSandPPopup=!1,e.titleSandPPopup="EDIT STANDARD AND PROCEDURE",e.selectedSP=t,e.showSPPopup=!0,e.isEditMode=!0},e.expressLists=n.EXPRESS_LIST,e.removeRow=function(t){e.expressLists.splice(t,1),0===e.expressLists.length&&(e.expressLists=[]),e.splitList.splice(t,1),0===e.splitList.length&&(e.splitList=[])},e.addRow=function(){e.expressLists[e.expressLists.length-1].actionIconAdd=!1,e.expressLists.unshift({itemNumber:"",name:"",modelNo:"",actionIconAdd:!0,actionIconDelete:!0});var t=e.splitList.length+1;e.splitList.unshift({splitNumber:t,splitValue:"00",actionIconDelete:!0})},e.splitPopupUrl="p2p/req/views/popupSplit.html",e.splitPopupPopup=!1,e.splitPopupCallback=function(t){e.splitPopupPopup=!0},e.splitPopupPopupHideCallback=function(t){e.splitPopupPopup=!1},e.splitList=n.SPLIT_LIST,e.splitType=[{title:"By Number"},{title:"By Percentage"}],e.selectedSplit={title:"By Number"},e.splitFlag=!0,e.onChangeSplit=function(t){"By Number"==t.title?e.splitFlag=!0:"By Percentage"==t.title&&(e.splitFlag=!1)},e.addFocuse=function(e){e.qtyfocus=!0},e.addBulkRow=function(){angular.element(document).triggerHandler("click")},e.cancelBulkRow=function(){angular.element(document).triggerHandler("click")},e.applyCurrentFields=function(e,t){angular.element(document).triggerHandler("click")},e.cancelAllFields=function(){angular.element(document).triggerHandler("click")},e.excTypePopupUrl="shared/popup/views/popupExcType.html",e.showExcTypePopup=!1,e.showExcTypePopupCallBack=function(t){e.showExcTypePopup=!0},e.hideExcTypePopupCallback=function(t){e.showExcTypePopup=!1},e.approvalRequiredExcData=n.APPROVAL_EXC_DATA,e.chargesData=n.CHARGES_DATA,e.orderTotalData=n.ORDER_TOT_DATA,e.itemMismatchExcData=n.ITEM_MISMATCH_DATA,e.quantityData=n.QUANITY_DATA,e.shippingData=n.SHIPPING_DATA,e.unitPriceData=n.UNIT_PRICE_DATA,e.taxData=n.TAX_DATA,e.uomData=n.UOM_DATA,e.excTypeOptions=n.EXC_TYPE_OPTIONS,e.selectedExcType={name:"Approval Required Exception",datakey:"approvalRequiredExcTbl"},e.approvalRequiredExcTbl=!0,e.chargesTbl=!1,e.orderTotalTbl=!1,e.itemMismatchTbl=!1,e.quantityTbl=!1,e.shippingTbl=!1,e.unitPriceTbl=!1,e.taxTbl=!1,e.nonPoTbl=!1,e.uomTbl=!1,e.exceptionTypeChange=function(t){switch(e.selectedExcType={name:t},t){case"Approval Required Exception":e.approvalRequiredExcTbl=!0,e.chargesTbl=!1,e.orderTotalTbl=!1,e.itemMismatchTbl=!1,e.quantityTbl=!1,e.shippingTbl=!1,e.unitPriceTbl=!1,e.taxTbl=!1,e.nonPoTbl=!1,e.uomTbl=!1;break;case"Charges Exception":e.approvalRequiredExcTbl=!1,e.chargesTbl=!0,e.orderTotalTbl=!1,e.itemMismatchTbl=!1,e.quantityTbl=!1,e.shippingTbl=!1,e.unitPriceTbl=!1,e.taxTbl=!1,e.nonPoTbl=!1,e.uomTbl=!1;break;case"Order Total":e.approvalRequiredExcTbl=!1,e.chargesTbl=!1,e.orderTotalTbl=!0,e.itemMismatchTbl=!1,e.quantityTbl=!1,e.shippingTbl=!1,e.unitPriceTbl=!1,e.taxTbl=!1,e.nonPoTbl=!1,e.uomTbl=!1;break;case"Item Mismatch Exception":e.approvalRequiredExcTbl=!1,e.chargesTbl=!1,e.orderTotalTbl=!1,e.itemMismatchTbl=!0,e.quantityTbl=!1,e.shippingTbl=!1,e.unitPriceTbl=!1,e.taxTbl=!1,e.nonPoTbl=!1,e.uomTbl=!1;break;case"Quantity Exception":e.approvalRequiredExcTbl=!1,e.chargesTbl=!1,e.orderTotalTbl=!1,e.itemMismatchTbl=!1,e.quantityTbl=!0,e.shippingTbl=!1,e.unitPriceTbl=!1,e.taxTbl=!1,e.nonPoTbl=!1,e.uomTbl=!1;break;case"Shipping Exception":e.approvalRequiredExcTbl=!1,e.chargesTbl=!1,e.orderTotalTbl=!1,e.itemMismatchTbl=!1,e.quantityTbl=!1,e.shippingTbl=!0,e.unitPriceTbl=!1,e.taxTbl=!1,e.nonPoTbl=!1,e.uomTbl=!1;break;case"Unit Price Exception":e.approvalRequiredExcTbl=!1,e.chargesTbl=!1,e.orderTotalTbl=!1,e.itemMismatchTbl=!1,e.quantityTbl=!1,e.shippingTbl=!1,e.unitPriceTbl=!0,e.taxTbl=!1,e.nonPoTbl=!1,e.uomTbl=!1;break;case"Tax Exception":e.approvalRequiredExcTbl=!1,e.chargesTbl=!1,e.orderTotalTbl=!1,e.itemMismatchTbl=!1,e.quantityTbl=!1,e.shippingTbl=!1,e.unitPriceTbl=!1,e.taxTbl=!0,e.nonPoTbl=!1,e.uomTbl=!1;break;case"Non PO Exception":e.approvalRequiredExcTbl=!1,e.chargesTbl=!1,e.orderTotalTbl=!1,e.itemMismatchTbl=!1,e.quantityTbl=!1,e.shippingTbl=!1,e.unitPriceTbl=!1,e.taxTbl=!1,e.nonPoTbl=!0,e.uomTbl=!1;break;case"UOM Exception":e.approvalRequiredExcTbl=!1,e.chargesTbl=!1,e.orderTotalTbl=!1,e.itemMismatchTbl=!1,e.quantityTbl=!1,e.shippingTbl=!1,e.unitPriceTbl=!1,e.taxTbl=!1,e.nonPoTbl=!1,e.uomTbl=!0}},e.overrideExcOptions=[{name:"Yes"},{name:"No"}],e.selectOverrideExc={
name:"Yes"}}function p2pInvNonPoExceptionTypeHederCtrlFunc(e,t,o,i,a,n,l,s){e.excTypeOptions=s.EXC_TYPE_OPTIONS,e.uniqueIDGenerator=function(){var e=(new Date).getTime();return"xxx2xxxpxxxoxxx".replace(/[xy]/g,function(t){var o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?o:3&o|8).toString(16)})},e.selectedExcType={name:"Approval Required Exception",datakey:"approvalRequiredExcTbl"},e.exceptionTypeChange=function(t){e.selectedExcType.name=t.name,e.selectedExcType.datakey=t.datakey,l.typeChanged(t)}}function p2pInvNonPoExceptionTypeInfoCtrlFunc(e,t,o,i,a,n,l,s){!function(){var t={method:"GET",url:"p2p/inv/models/invWidgetsData.json"};s.getJSONData(t).then(function(t){e.exceptionData=t.exceptionData})}(),e.selectedExceptionType="approvalRequiredExcTbl",l.getType=function(t){e.selectedExceptionType=t.datakey}}angular.module("SMART2").service("p2pInvNonPoExcTypeSharedData",p2pInvNonPoExcTypeSharedDataFunc).controller("p2pInvnonPoBasicDetailsCtrl",["$scope","$window","$rootScope","$translate","RuleEngine","$http","$state","notification","$timeout","$sce","$filter","scannedInvServices",p2pInvnonPoBasicDetailsCtrlFunc]).controller("itemDetailnonPoInvCtrl",["$scope","notification","$translate","$sce","$http","scannedInvServices",itemDetailnonPoInvCtrlFunc]).controller("p2pInvNonPoExceptionTypeHederCtrl",["$scope","$rootScope","$translate","$http","$state","notification","p2pInvNonPoExcTypeSharedData","scannedInvServices",p2pInvNonPoExceptionTypeHederCtrlFunc]).controller("p2pInvNonPoExceptionTypeInfoCtrl",["$scope","$rootScope","$translate","$http","$state","notification","p2pInvNonPoExcTypeSharedData","scannedInvServices",p2pInvNonPoExceptionTypeInfoCtrlFunc]).filter("highlight",function(e){return function(t,o){return o&&(t=t.replace(new RegExp("("+o+")","gi"),'<span class="highlighted">$1</span>')),e.trustAsHtml(t)}});