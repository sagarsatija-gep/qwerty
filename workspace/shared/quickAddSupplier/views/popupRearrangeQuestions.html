<div id="categoryPopup">
  <div class="modal-header">
    <i class="icon iconSmall red-text left">
      <svg>
        <use xlink:href="#icon_Lookup"></use>
      </svg>
    </i>
    <span class="title">
    REARRANGE QUESTIONS
    </span>
  </div>
  <div class="modal-content is-scrolled padding0">
    <div class="model_body" style="height:350px;">
      <!-- temporary hieght applied till the time directive get updated for fixed height-->
      <smart-scroll height="350px">
        <ul class="tree-view-str rearrangePopup">
          <li class="rowClass">
            <div class="tree-view-str-item waves-effect">
              <span class="order left bold">1</span>
                <i class="icon iconSmall grey-text left dragIcon">
                  <svg>
                    <use xlink:href="#icon_Drag"></use>
                  </svg>
                </i>
                <i class="icon iconSmall left tree-view-str-collapsible-trigger">
                <svg>
                    <use xlink:href="#icon_CirclePlus"></use>
                </svg>
                </i>
              <span class="tree_view_content">
              <input type="checkbox" class="filled-in" id="filled-in-box1" name="level-1" />
              <label for="filled-in-box1"><a href="javascript:void(0);">Section 1</a></label>
              </span>
            </div>

            <ul class="is-hide">
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q1</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box2" name="level-2" />
                    <label for="filled-in-box2" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 1</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q2</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box3" name="level-2" />
                    <label for="filled-in-box3" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 2</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q3</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box4" name="level-2" />
                    <label for="filled-in-box4" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 3</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q4</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box5" name="level-2" />
                    <label for="filled-in-box5" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 4</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q5</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box6" name="level-2" />
                    <label for="filled-in-box6" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 5</a></label>
                  </span>
                </div>
              </li>
            </ul>
          </li>

          <li class="rowClass">
            <div class="tree-view-str-item waves-effect">
              <span class="order left bold">2</span>
                <i class="icon iconSmall grey-text left dragIcon">
                  <svg>
                    <use xlink:href="#icon_Drag"></use>
                  </svg>
                </i>
              <i class="icon iconSmall left tree-view-str-collapsible-trigger">
                <svg>
                  <use xlink:href="#icon_CirclePlus"></use>
                </svg>
              </i>
              <span class="tree_view_content">
              <input type="checkbox" class="filled-in" id="filled-in-box7" name="level-1" />
              <label for="filled-in-box7" class="black-text"><a href="javascript:void(0);">Section 2</a></label>
              </span>
            </div>
            <ul class="is-hide">
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q1</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box8" name="level-2" />
                    <label for="filled-in-box8" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 1</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q2</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box9" name="level-2" />
                    <label for="filled-in-box9" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 2</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q3</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box10" name="level-2" />
                    <label for="filled-in-box10" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 3</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q4</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box11" name="level-2" />
                    <label for="filled-in-box11" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 4</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q5</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box12" name="level-2" />
                    <label for="filled-in-box12" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 5</a></label>
                  </span>
                </div>
              </li>
            </ul>
          </li>

          <li class="rowClass">
            <div class="tree-view-str-item waves-effect">
              <span class="order left bold">3</span>
                <i class="icon iconSmall grey-text left dragIcon">
                  <svg>
                    <use xlink:href="#icon_Drag"></use>
                  </svg>
                </i>
              <i class="icon iconSmall left tree-view-str-collapsible-trigger">
                <svg>
                  <use xlink:href="#icon_CirclePlus"></use>
                </svg>
              </i>
              <span class="tree_view_content">
              <input type="checkbox" class="filled-in" id="filled-in-box13" name="level-1" />
              <label for="filled-in-box13" class="black-text"><a href="javascript:void(0);">Section 3</a></label>
              </span>
            </div>
            <ul class="is-hide">
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q1</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box14" name="level-2" />
                    <label for="filled-in-box14" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 1</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q2</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="Checkbox15" name="level-2" />
                    <label for="filled-in-box15" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 2</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q3</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="Checkbox16" name="level-2" />
                    <label for="filled-in-box16" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 3</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q4</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="Checkbox17" name="level-2" />
                    <label for="filled-in-box17" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 4</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q5</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box18" name="level-2" />
                    <label for="filled-in-box18" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 5</a></label>
                  </span>
                </div>
              </li>
            </ul>
          </li>
           <li class="rowClass">
            <div class="tree-view-str-item waves-effect">
              <span class="order left bold">4</span>
                <i class="icon iconSmall grey-text left dragIcon">
                  <svg>
                    <use xlink:href="#icon_Drag"></use>
                  </svg>
                </i>
              <i class="icon iconSmall left tree-view-str-collapsible-trigger">
                <svg>
                  <use xlink:href="#icon_CirclePlus"></use>
                </svg>
              </i>
              <span class="tree_view_content">
              <input type="checkbox" class="filled-in" id="filled-in-box19" name="level-1" />
              <label for="filled-in-box19" class="black-text"><a href="javascript:void(0);">Section 4</a></label>
              </span>
            </div>
            <ul class="is-hide">
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q1</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box20" name="level-2" />
                    <label for="filled-in-box20" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 1</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q2</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box21" name="level-2" />
                    <label for="filled-in-box21" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 2</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q3</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box22" name="level-2" />
                    <label for="filled-in-box22" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 3</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q4</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box23" name="level-2" />
                    <label for="filled-in-box23" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 4</a></label>
                  </span>
                </div>
              </li>
              <li>
                <div class="tree-view-str-item waves-effect">
                  <span class="order left">Q5</span>
                    <i class="icon iconSmall grey-text left">
                      <svg>
                        <use xlink:href="#icon_Drag"></use>
                      </svg>
                    </i>
                  <span class="tree_view_content">
                    <input type="checkbox" class="filled-in" id="filled-in-box24" name="level-2" />
                    <label for="filled-in-box24" class="black-text"><a href="javascript:void(0);">Lorem Ipsum is Question 5</a></label>
                  </span>
                </div>
              </li>
            </ul>
          </li>
        </ul>

        <script>
            $(function () {
                /***SCRIPT FOR TREE VIEW POPUP***/
                $('.tree-view-str-collapsible-trigger').on("click",
                           function (event) {
                               event.stopPropagation();
                               var thisHasClass = $(this).hasClass('is-Expended');
                               
                               if (!thisHasClass) {
                                   $(this).find('use').attr('xlink:href', "#icon_CircleMinus").end()
                                   .parent().next().removeClass('is-hide').addClass("innerChild").end();
                                   $(this).addClass("is-Expended");
                               } else {
                                   $(this).find('use').attr('xlink:href', "#icon_CirclePlus").end()
                                  .parent().next().addClass('is-hide');
                                   $(this).removeClass("is-Expended");
                               }
                           });

                $('.tree_view_content').on("click",
                                function (event) {
                                    event.stopPropagation();
                                    var thisParent = $(this).closest('li');
                                    if (thisParent.has("ul")) {

                                        thisParent.toggleClass('is-select is-mainParent')
                                        .find('li').toggleClass('is-select')
                                        .end().find('.icon-check').toggleClass('is-hide');
                                        $('.tree-view-str .is-select').css("background", "transparent");

                                    } else {
                                        $(this).closest('li').toggleClass('is-select')
                                         .end().find('icon-check').toggleClass('is-hide');
                                    }

                                });


                $("input[type='checkbox']").change(function () {
                    $(this).parent().parent().siblings('ul')
                                    .find("input[type='checkbox']")
                                    .prop('checked', this.checked);
                });
                /***SCRIPT FOR TREE VIEW END HERE***/
            });

        </script>
      </smart-scroll>
    </div>
    <div class="rearrangeNavPanel">
      <div class="row marginBottom0">
        <div class="col s12 right-align paddingLeft25 paddingRight25">
            <div class="left">
               <span class="left paddingRight8">Move to</span>
               <smart-select is-mandatory='true' ng-model="selectedSection1" options="typeSelectSection" class="left selectSection paddingRight8 marginBottom0" datakey="name" on-change="onChange(selectedSection)"></smart-select>
                <span class="left paddingRight8">after</span>
               <smart-select is-mandatory='true' ng-model="selectedQuestion2" options="typeSelectQuestion" class="left selectQuestion marginBottom0" datakey="name" on-change="onChange(selectedQuestion)"></smart-select>
            </div>
            <div class="right">
                <a href="javascript:void(0)" class="left paddingRight30" smart-tooltip position="bottom" delay="50" message="Close">
			        <i class="icon iconSmall center blue-text">
				        <svg><use xlink:href="#icon_Close"></use></svg>
			        </i>
		        </a>
                <a href="javascript:void(0)" class="right paddingTop2" smart-tooltip position="bottom" delay="50" message="Check">
			        <i class="icon iconSmall center blue-text">
				        <svg><use xlink:href="#icon_Check"></use></svg>
			        </i>
		        </a>
            </div>
        </div>
      </div>
    </div>
    <div class="modal-footer_new is-scrolled">
      <div class="row marginBottom0">
        <div class="col s12 right-align">
          <a href="javascript:void(0)" class="btn-flat editRequest modal-close waves-effect">Cancel</a>
          <a href="javascript:void(0)" class=" modal-action modal-close waves-effect btn-flat">Done</a>
        </div>
      </div>
    </div>
  </div>
</div>